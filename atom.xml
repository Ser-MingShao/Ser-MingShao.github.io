<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>SerMsã®æ˜å°‘å–</title>
  
  <subtitle>|ä¸€ä¸ªæ»¡æ˜¯bugçš„ç½‘ç«™</subtitle>
  <link href="https://serms.top/atom.xml" rel="self"/>
  
  <link href="https://serms.top/"/>
  <updated>2022-07-19T14:06:34.810Z</updated>
  <id>https://serms.top/</id>
  
  <author>
    <name>SerMs</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Gitçš„åŸºæœ¬ä½¿ç”¨</title>
    <link href="https://serms.top/posts/372934289/"/>
    <id>https://serms.top/posts/372934289/</id>
    <published>2022-07-19T10:45:44.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<div class="tip home"><p>å‰è¨€:å†™çš„ä¸æ˜¯å¾ˆå®Œæ•´,ä½†åŸºæœ¬æ“ä½œå°±è¿™äº›,å¥å¥é‡ç‚¹,å…¨ç¨‹æ— åºŸè¯~</p></div><h2 id="gitæ‹‰å–ä»“åº“"><a class="markdownIt-Anchor" href="#gitæ‹‰å–ä»“åº“"></a> gitæ‹‰å–ä»“åº“</h2><blockquote><ol><li><p>å¤åˆ¶è¿œç¨‹ä»“åº“é“¾æ¥(<span class='p green'>æ³¨æ„æ˜¯HTTPçš„</span>)</p><p><img src="https://unpkg.com/serms-assets/imgs/image-20220719184655736.png" alt="" /></p></li><li><p>éšä¾¿æ‰¾ä¸ªåœ°æ–¹å³é”®Git Bash</p><p><img src="https://unpkg.com/serms-assets/imgs/image-20220719184747747.png" alt="" /></p></li><li><p>è¾“å…¥ git clone (<span class='p green'>è¿™é‡Œå¡«åˆšåˆšå¤åˆ¶çš„HTTPé“¾æ¥</span>),ç„¶ååç­‰å°±å·²ç»æ‹‰å–ä¸‹æ¥äº†</p><p><img src="https://unpkg.com/serms-assets/imgs/image-20220719184843215.png" alt="" /></p><p><img src="https://unpkg.com/serms-assets/imgs/image-20220719184903555.png" alt="" /></p></li></ol></blockquote><h2 id="gitæ¨é€è‡³ä»“åº“"><a class="markdownIt-Anchor" href="#gitæ¨é€è‡³ä»“åº“"></a> gitæ¨é€è‡³ä»“åº“</h2><blockquote><p>åœ¨ä»“åº“ä¸­è¾“å…¥ä¸‹é¢è¿™è¡Œä»£ç å³å¯,å¦‚æœä¸è¡Œ,å°±åˆ†å¼€æ‰§è¡Œ,æœ‰æŠ¥é”™è¯·åœ¨ä¸‹æ–¹ç•™è¨€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add . &amp;&amp; git commit -m &#x27;update&#x27; &amp;&amp; git push origin master</span><br></pre></td></tr></table></figure><p><img src="https://unpkg.com/serms-assets/imgs/image-20220719215427076.png" alt="image-20220719215427076" /></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;tip home&quot;&gt;&lt;p&gt;å‰è¨€:å†™çš„ä¸æ˜¯å¾ˆå®Œæ•´,ä½†åŸºæœ¬æ“ä½œå°±è¿™äº›,å¥å¥é‡ç‚¹,å…¨ç¨‹æ— åºŸè¯~&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;gitæ‹‰å–ä»“åº“&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#gitæ‹‰å–ä»“åº“&quot;&gt;&lt;/a&gt; gitæ‹‰å–</summary>
      
    
    
    
    <category term="git" scheme="https://serms.top/categories/git/"/>
    
    
    <category term="git" scheme="https://serms.top/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>é˜¿é‡Œäº‘éƒ¨ç½²é¡¹ç›®</title>
    <link href="https://serms.top/posts/32277b7/"/>
    <id>https://serms.top/posts/32277b7/</id>
    <published>2022-06-16T07:53:50.000Z</published>
    <updated>2022-07-19T14:06:34.814Z</updated>
    
    <content type="html"><![CDATA[<div class="tip home"><p>å‰è¨€:<br />å­¦æ ¡è¿‘æœŸå®è®­å‘¨åšé¡¹ç›®,æˆ‘æƒ³ç€èƒ½ä¸èƒ½æŠŠé¡¹ç›®ç›´æ¥éƒ¨ç½²åœ¨äº‘ä¸Š,åˆšå¥½é˜¿é‡Œäº‘æœ‰ECSæœåŠ¡å™¨å…è´¹è¯•ç”¨æ´»åŠ¨,ä¸å«–ç™½è¡¥ç¥¨,å› æ­¤è®°å½•æœ¬é¡¹ç›®çš„æ‰€æœ‰éƒ¨ç½²æµç¨‹,ä»ç”³è¯·æœåŠ¡å™¨åˆ°éƒ¨ç½²é¡¹ç›®,å®Œæ•´çš„æµç¨‹<br />æœ¬æ¬¡é‡‡ç”¨çš„æ˜¯ä¸¤å°é˜¿é‡Œäº‘ECSçš„æœåŠ¡å™¨,å› ä¸ºæˆ‘é¡¹ç›®é‡‡ç”¨æ•°æ®åº“æ˜¯ä¸»ä»å¤åˆ¶çš„æ¶æ„,æ‰€ä»¥éœ€è¦ä¸¤å°æœåŠ¡å™¨,åˆšå¥½æˆ‘ä¹Ÿæƒ³æŠŠå‰å°éƒ¨ç½²åˆ°ç¬¬äºŒå°æœåŠ¡å™¨ä¸Šå»,ç¬¬ä¸€å°æœåŠ¡å™¨éƒ¨ç½²ä¸»è¦åå°ä»£ç </p></div><hr /><table><thead><tr><th style="text-align:center">ä¸»åº“æœåŠ¡å™¨</th><th style="text-align:center">ä»åº“æœåŠ¡å™¨</th></tr></thead><tbody><tr><td style="text-align:center">åå°ä»£ç </td><td style="text-align:center">å‰å°ä»£ç </td></tr><tr><td style="text-align:center">mysql5.0ä¸»åº“éƒ¨ç½²</td><td style="text-align:center">mysql5.0ä»åº“éƒ¨ç½²</td></tr><tr><td style="text-align:center">rediséƒ¨ç½²</td><td style="text-align:center">Nginxé…ç½®</td></tr><tr><td style="text-align:center">JDKç¯å¢ƒé…ç½®</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">tomcaté…ç½®</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">Mavenç¯å¢ƒé…ç½®</td><td style="text-align:center"></td></tr></tbody></table><hr /><h2 id="é˜¿é‡Œäº‘æœåŠ¡å™¨ç”³è¯·"><a class="markdownIt-Anchor" href="#é˜¿é‡Œäº‘æœåŠ¡å™¨ç”³è¯·"></a> é˜¿é‡Œäº‘æœåŠ¡å™¨ç”³è¯·</h2><p>é¦–å…ˆå»é˜¿é‡Œäº‘ç”³è¯·ä¸¤å°æœåŠ¡å™¨,å¯å…è´¹ä½¿ç”¨1ä¸ªæœˆ<p class='p red'>å¦‚æœä¸ç”¨äº†è®°å¾—æå‰é€€è®¢</p></p><div class="tabs" id="ecsç”³è¯·"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#ecsç”³è¯·-1">ä¸»åº“SerMsMaster</button></li><li class="tab"><button type="button" data-href="#ecsç”³è¯·-2">ä»åº“SerMsSlave</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="ecsç”³è¯·-1"><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616160142652.png" alt="" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="ecsç”³è¯·-2"><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616222532022.png" alt="" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><hr /><h2 id="ä¸»åº“é…ç½®"><a class="markdownIt-Anchor" href="#ä¸»åº“é…ç½®"></a> ä¸»åº“é…ç½®</h2><blockquote><p>é€šè¿‡æœ¬åœ°è¿æ¥é˜¿é‡Œäº‘ECSä¸»åº“</p></blockquote><h2 id="ç½‘å¡è®¾ç½®"><a class="markdownIt-Anchor" href="#ç½‘å¡è®¾ç½®"></a> ç½‘å¡è®¾ç½®</h2><blockquote><p>è¿™é‡Œä¸åšä»‹ç»,è‡ªè¡Œç™¾åº¦Linuxé…ç½®ç½‘å¡</p></blockquote><h2 id="å®‰è£…è½¯ä»¶"><a class="markdownIt-Anchor" href="#å®‰è£…è½¯ä»¶"></a> å®‰è£…è½¯ä»¶</h2><h3 id="vimæ–‡æœ¬å·¥å…·"><a class="markdownIt-Anchor" href="#vimæ–‡æœ¬å·¥å…·"></a> vimæ–‡æœ¬å·¥å…·</h3><blockquote><p>yum install vim</p></blockquote><h3 id="å®‰è£…jdk"><a class="markdownIt-Anchor" href="#å®‰è£…jdk"></a> å®‰è£…JDK</h3><blockquote><ol><li><p>å»[oracle][<a href="https://www.oracle.com/java/technologies/downloads/archive/">https://www.oracle.com/java/technologies/downloads/archive/</a>]å®˜ç½‘ä¸‹è½½å¯¹åº”æ“ä½œç³»ç»Ÿçš„JDK</p></li><li><p>æŠŠä¸‹è½½å¥½çš„JDKä¼ å…¥Linux</p></li><li><p>æ‰§è¡Œè§£å‹å‘½ä»¤: tar -zxvf æ”¹æˆä½ è‡ªå·±ä¸Šä¼ çš„åŒ…å -C /usr/local</p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616164103639.png" alt="" /></p></li><li><p>ä¿®æ”¹ç³»ç»Ÿç¯å¢ƒå˜é‡:</p><ol><li><p>vim /etc/profile</p></li><li><p>æ’å…¥ä»¥ä¸‹ä»£ç ,æ³¨æ„è·¯å¾„ä¿®æ”¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/jdk1.8.0_331  (æ³¨æ„è·¯å¾„)</span><br><span class="line">export JRE_HOME=/usr/local/jdk1.8.0_331/jre ((æ³¨æ„è·¯å¾„))</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH</span><br><span class="line">export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH</span><br></pre></td></tr></table></figure><p><img src="C:%5CUsers%5C18399%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220616164702404.png" alt="image-20220616164702404" /></p></li><li><p>ä¿®æ”¹å®Œå:wqé€€å‡º</p></li><li><p>æ‰§è¡Œ source /etc/profile åˆ·æ–°ç¯å¢ƒå˜é‡</p></li><li><p>æ‰§è¡Œ java -version æˆ– javac æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616165121907.png" alt="" /></p><p>çœ‹åˆ°æ˜¾ç¤ºç‰ˆæœ¬å·å³å®‰è£…æˆåŠŸ</p></li></ol></li></ol></blockquote><h3 id="å®‰è£…tomcat"><a class="markdownIt-Anchor" href="#å®‰è£…tomcat"></a> å®‰è£…Tomcat</h3><blockquote><ol><li><p><a href="https://tomcat.apache.org/download-90.cgi">å®˜ç½‘ä¸‹è½½</a>å¯¹åº”ç³»ç»Ÿç‰ˆæœ¬çš„tomcatå®‰è£…åŒ…</p></li><li><p>å¹¶ä¸Šä¼ è‡³Linuxå†…</p></li><li><p>æ‰§è¡Œè§£å‹å‘½ä»¤</p></li><li><p>tar -zxvf apache-tomcat-9.0.62.tar.gz -C /usr/local</p></li><li><p>è¿›å…¥åˆ°tomcatçš„binç›®å½•ä¸‹æ‰§è¡Œ sh <a href="http://startup.sh">startup.sh</a></p></li></ol><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616170832755.png" alt="" /></p><ol start="5"><li>è¿™ä¸ªæ—¶å€™æˆ‘è¿˜éœ€è¦å»é˜¿é‡Œäº‘ECSæ§åˆ¶å°è®¾ç½®ä¸€ä¸‹å®‰å…¨ç»„è§„åˆ™,æŠŠ8080ç«¯å£å¼€æ‰“</li></ol><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616171251694.png" alt="" /></p><ol start="6"><li>å†å»æµè§ˆå™¨è®¿é—® æœåŠ¡å™¨ip+ç«¯å£å·8080 æ¯”å¦‚æˆ‘çš„æ˜¯<code>http://47.99.194.162:8080/</code> (æœ¬äººæ˜¯æŠŠé˜²ç«å¢™ç›´æ¥å…³é—­äº†,æ‰€ä»¥èƒ½è®¿é—®)</li></ol><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616171342487.png" alt="" /></p><ol start="7"><li><p>å¦‚æœè¿˜è®¿é—®ä¸åˆ°,é‚£å°±å¾—æ”¹ä¸€ä¸‹é˜²ç«å¢™çš„è®¾ç½®,è®¾ç½®é˜²ç«å¢™å¼€æ”¾8080ç«¯å£</p></li><li><p>è®¾ç½®é˜²ç«å¢™å¼€æœºå¯åŠ¨:<code>chkconfig firewalld on</code></p></li><li><p>å¼€å¯é˜²ç«å¢™: <code>systemctl start firewalld</code>(æ‰§è¡Œå®Œä¹‹å,å†å»è®¿é—®å°±è®¿é—®ä¸åˆ°äº†,æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¼€å‘8080ç«¯å£)</p></li><li><p>æŸ¥è¯¢8080ç«¯å£æ˜¯å¦å¼€å¯: <code>firewall-cmd --query-port=8080/tcp</code></p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616172135805.png" alt="" /></p></li><li><p>å¼€å¯8080ç«¯å£</p><ol><li><code>firewall-cmd --zone=public --add-port=80/tcp --permanent</code>ï¼ˆâ€“permanentæ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆï¼‰</li></ol></li><li><p>é‡å¯é˜²ç«å¢™</p><ol><li>firewall-cmd --reload</li></ol></li><li><p>æŸ¥çœ‹8080ç«¯å£æ˜¯å¦å¼€å¯æˆåŠŸ</p><ol><li>firewall-cmd --zone=public --query-port=8080/tcp</li></ol></li><li><p>å½“ç„¶è¿˜å¯ä»¥åˆ é™¤æŒ‡å®šç«¯å£</p><ol><li>firewall-cmd --zone=public --remove-port=ç«¯å£å·/tcp --permanent</li></ol></li><li><p>å†å»åˆ·æ–°ä¸€ä¸‹é¡µé¢,å°±åˆå¯ä»¥è®¿é—®äº†</p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616172712137.png" alt="" /></p></li><li><p>æŸ¥çœ‹å·²å¼€æ”¾çš„æ‰€æœ‰ç«¯å£</p><ol><li>firewall-cmd --zone=public --list-ports</li></ol></li><li><p>ç´¢æ€§åœ¨è¿™é‡Œä¸€å¹¶å¼€æ”¾3306 / 6379 / 8888 ç«¯å£ åæœŸä¹Ÿä¼šç”¨åˆ°</p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616174156782.png" alt="" /></p></li><li><p>å…¶ä½™æ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">åœæ­¢TomcatæœåŠ¡</span><br><span class="line">sh shutdown.sh</span><br></pre></td></tr></table></figure></li></ol><p>å®‰å…¨æé†’:é˜²ç«å¢™ä¸å»ºè®®å…³é—­,å·²ç»é˜¿é‡Œäº‘æœåŠ¡å™¨å®‰å…¨ç»„ä¹Ÿä¸å»ºè®®è®¾ç½®å…¨éƒ¨ç«¯å£æ‰“å¼€,ä¼šæœ‰ä¸€äº›é»‘å®¢æˆ–è€…ä¸æ­£å½“çš„äººå…¥ä¾µæœåŠ¡å™¨,æ‹¿ä½ æœåŠ¡å™¨å¹²åäº‹,æœ¬äººå°±æ˜¯å› ä¸ºæ­¤ä»¶äº‹æå¾—æˆ‘æœåŠ¡å™¨,éœ€è¦é‡æ–°é…ç½®,ç´¢æ€§ä¹Ÿå°±å†™äº†è¿™ç¯‡æ–‡ç« ,çœŸçš„ä¸è¦éšæ„æ‰“å¼€ä»»ä½•ä¸€ä¸ªç«¯å£!!!</p></blockquote><h3 id="å®‰è£…mysql"><a class="markdownIt-Anchor" href="#å®‰è£…mysql"></a> å®‰è£…MySQL</h3><blockquote><ol><li><p>ä¸€æ ·çš„å»å®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿç‰ˆæœ¬çš„å®‰è£…åŒ…,å¹¶ä¸Šä¼ åˆ°Linux</p></li><li><p>è§£å‹MySqlå®‰è£…åŒ…ä¹‹åä¼šå¾—åˆ°ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶</p></li></ol><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616202538594.png" alt="" /></p><ol start="3"><li><p>æ¥ä¸‹æ¥éœ€è¦æŒ‰ç…§ä»¥ä¸‹é¡ºåºä¸€ä¸€å®‰è£…,æŒ‰ç…§é¡ºåºå¿…é¡»è·Ÿæˆ‘ä¸€æ ·</p></li><li><p>å®‰è£…é¡ºåºå¦‚ä¸‹</p></li></ol>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh mysql-community-common-5.7.25-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-libs-5.7.25-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-devel-5.7.25-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-libs-5.7.25-1.el7.x86_64.rpm</span><br><span class="line">rpm -ivh mysql-community-client-5.7.25-1.el7.x86_64.rpm</span><br><span class="line">å®‰è£…åˆ°è¿™çš„æ—¶å€™éœ€è¦å®‰è£…ä¸€ä¸ªä¾èµ–: net-tools,åœ¨æ‰§è¡Œæœ€åä¸€ä¸ªå®‰è£…åŒ…,ç›´æ¥æ‰§è¡Œåˆ™ä¼šæŠ¥ç¼ºå°‘net-toolsä¾èµ–</span><br><span class="line">rpm -ivh mysql-community-server-5.7.25-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure><ol start="2"><li><p>å®‰è£…å®Œåæ‰§è¡Œå†…æ ¸æ›´æ–°:</p><ol><li>yum update</li></ol></li><li><p>å¯åŠ¨mysql</p></li><li><p>systemctl status mysqld   æŸ¥çœ‹mysqlæœåŠ¡çŠ¶æ€</p></li><li><p>systemctl start mysqld        å¯åŠ¨mysqlæœåŠ¡</p></li><li><p>è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨</p></li><li><p>systemctl enable mysqld</p></li><li><p>netstat -tunlp     æŸ¥çœ‹å·²å¯åŠ¨çš„æœåŠ¡</p></li><li><p>ps - ef|grep mysql    æŸ¥çœ‹mysqlè¿›ç¨‹</p></li><li><p>ç™»å½•mysql</p></li><li><p>æŸ¥é˜…ä¸´æ—¶å¯†ç :  cat /var/log/mysqld.log  | grep password</p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616204308979.png" alt="" /></p></li><li><p>ç™»å½•mysql,å¹¶ä¿®æ”¹å¯†ç ,å¼€æ”¾è®¿é—®æƒé™</p><ol><li><p>mysql -uroot -p   (è¾“å…¥æŸ¥å‡ºæ¥çš„ä¸´æ—¶å¯†ç )</p></li><li><p>ä¿®æ”¹å¯†ç ä»¥åŠè®¿é—®æƒé™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set global validate_password_length=4;è®¾ç½®å¯†ç é•¿åº¦æœ€ä½ä½æ•°</span><br><span class="line">set global validate_password_policy=LOW;è®¾ç½®å¯†ç å®‰å…¨ç­‰çº§ä½,ä¾¿äºå¯†ç å¯ä»¥ä¿®æ”¹æˆroot</span><br><span class="line">set password = password(&#x27;root&#x27;);è®¾ç½®å¯†ç ä¸ºroot</span><br><span class="line">grant all on *.* to &#x27;root&#x27;@&#x27;%&#x27; identified by &#x27;root&#x27;;å¼€å¯è®¿é—®æƒé™</span><br><span class="line">flush privileges;åˆ·æ–°æƒé™</span><br></pre></td></tr></table></figure><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616204910291.png" alt="" /></p></li></ol></li><li><p>åˆ°æ­¤å°±å¯ä»¥ç”¨Navicatè¿›è¡Œå¤–éƒ¨è¿æ¥äº†</p></li></ol></blockquote><h3 id="å®‰è£…redis"><a class="markdownIt-Anchor" href="#å®‰è£…redis"></a> å®‰è£…Redis</h3><blockquote><ol><li><p>å®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿç‰ˆæœ¬çš„å®‰è£…åŒ…,å¹¶ä¸Šä¼ è‡³Linuxç³»ç»Ÿå’Œè§£å‹å®‰è£…,åœ¨æ­¤ä¸åšé˜è¿°</p></li><li><p>å®‰è£…Redisçš„ä¾èµ–ç¯å¢ƒgcc, æ‰§è¡Œ:   yum install gcc-c++</p></li><li><p>è¿›å…¥å®‰è£…redisè½¯ä»¶ç›®å½•,è¿›è¡Œç¼–è¯‘,æ‰§è¡Œ:  make</p></li><li><p>åœ¨è¿›å…¥redisè½¯ä»¶ç›®å½•ä¸‹çš„srcæ‰§è¡Œ: make install</p></li><li><p>rediså¯åŠ¨ä¸åœæ­¢</p></li><li><p>åœ¨redis/srcä¸‹æ‰§è¡Œ: ./redis-server</p></li></ol><p><img src="C:%5CUsers%5C18399%5CDesktop%5Cimage-20220616210708814.png" alt="image-20220616210708814" /></p><ol start="6"><li><p>è¿›å…¥redisæ ¹ç›®å½•,ä¿®æ”¹é…ç½®æ–‡ä»¶</p></li><li><p>vim redis.conf</p></li><li><p>æ‰¾åˆ°daemonize,ä¿®æ”¹ä¸º yes  å…è®¸åå°å¯åŠ¨</p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616211256462.png" alt="" /></p></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶,å°† bind æ³¨é‡Š å³å¯å®ç°å¤–éƒ¨è®¿é—®</p></li></ol><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616211638029.png" alt="" /></p><ol start="4"><li><p>å°†protected-mode æ”¹ä¸º no</p></li><li><p>å¯åŠ¨Redis</p></li><li><p>src/redis-server ./redis.conf</p></li><li><p>å¤–éƒ¨è¿›è¡Œè¿æ¥</p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616212406655.png" alt="" /></p></li><li><p>è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨</p></li><li><p>ç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹è¿™é‡Œå°±ä¸å¤šé˜è¿°äº† <a href="https://blog.csdn.net/qq_28041113/article/details/122291622">ç‚¹æˆ‘æŸ¥çœ‹æ•™ç¨‹</a></p></li><li><p>å¿«æ·æ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ‰“å¼€rediså‘½ä»¤:service redis start</span><br><span class="line">                         </span><br><span class="line">å…³é—­rediså‘½ä»¤:service redis stop</span><br><span class="line">                         </span><br><span class="line">è®¾ä¸ºå¼€æœºå¯åŠ¨:chkconfig redis on</span><br><span class="line">                         </span><br><span class="line">è®¾ä¸ºå¼€æœºå…³é—­:chkconfig redis off</span><br></pre></td></tr></table></figure></li></ol></blockquote><h3 id="å®‰è£…git"><a class="markdownIt-Anchor" href="#å®‰è£…git"></a> å®‰è£…Git</h3><blockquote><p>æ‰§è¡Œ: yum install git</p><p>æŸ¥çœ‹gitç‰ˆæœ¬: git --version</p></blockquote><p>å®‰è£…Mavne</p><blockquote><p>è‡ªè¡Œç™¾åº¦</p></blockquote><h2 id="åç«¯éƒ¨ç½²"><a class="markdownIt-Anchor" href="#åç«¯éƒ¨ç½²"></a> åç«¯éƒ¨ç½²</h2><blockquote><ol><li><p>æ‹‰å–gité¡¹ç›®åˆ°æœ¬åœ° git clone xxxxx</p></li><li><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ç¼–å†™å¯åŠ¨è„šæœ¬</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> =================================</span><br><span class="line"><span class="built_in">echo</span>  è‡ªåŠ¨åŒ–éƒ¨ã€Šæ¹˜çº¦æ¥¼ã€‹ç½²è„šæœ¬å¯åŠ¨ </span><br><span class="line"><span class="built_in">echo</span> =================================</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> åœæ­¢åŸæ¥è¿è¡Œä¸­çš„å·¥ç¨‹</span><br><span class="line">APP_NAME=xyl_take_out</span><br><span class="line"></span><br><span class="line">tpid=`ps -ef|grep <span class="variable">$APP_NAME</span>|grep -v grep|grep -v <span class="built_in">kill</span>|awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;tpid&#125;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Stop Process...&#x27;</span></span><br><span class="line">    <span class="built_in">kill</span> -15 <span class="variable">$tpid</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">sleep</span> 2</span><br><span class="line">tpid=`ps -ef|grep <span class="variable">$APP_NAME</span>|grep -v grep|grep -v <span class="built_in">kill</span>|awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;tpid&#125;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Kill Process!&#x27;</span></span><br><span class="line">    <span class="built_in">kill</span> -9 <span class="variable">$tpid</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Stop Success!&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> å‡†å¤‡ä»Gitä»“åº“æ‹‰å–æœ€æ–°ä»£ç </span><br><span class="line"><span class="built_in">cd</span> /usr/local/javaapp/xyl_ms_km</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> å¼€å§‹ä»Gitä»“åº“æ‹‰å–æœ€æ–°ä»£ç </span><br><span class="line">git pull</span><br><span class="line"><span class="built_in">echo</span> ä»£ç æ‹‰å–å®Œæˆ</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> å¼€å§‹æ‰“åŒ…</span><br><span class="line">output=`mvn clean package -Dmaven.test.skip=<span class="literal">true</span>`</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> target</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> å¯åŠ¨é¡¹ç›®</span><br><span class="line"><span class="built_in">nohup</span> java -jar xyl_take_out-1.0-SNAPSHOT.jar &amp;&gt; xyl_take_out.log &amp;</span><br><span class="line"><span class="built_in">echo</span> é¡¹ç›®å¯åŠ¨å®Œæˆ</span><br></pre></td></tr></table></figure></li><li><p>èµ‹äºˆè„šæœ¬æœ€é«˜æƒé™,ç„¶åæ‰§è¡Œ, sh <a href="http://xyl.sh">xyl.sh</a></p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616221445525.png" alt="" /></p><p>ç¨ç­‰ç‰‡åˆ»,å°†ä¼šæ‰“åŒ…å®Œæˆ</p><p>è¿™é‡Œå‘¢å¯åŠ¨ä¹‹åè‚¯å®šæ˜¯è®¿é—®ä¸åˆ°çš„,å› ä¸ºä»åº“çš„sqlè¿˜æ²¡é…ç½®,æ‰€ä»¥å…ˆé…ç½®ä»åº“çš„æ•°æ®åº“å’Œå‰ç«¯é¡µé¢åœ¨æ¥å¯åŠ¨</p></li></ol></blockquote><h2 id="ä»åº“é…ç½®"><a class="markdownIt-Anchor" href="#ä»åº“é…ç½®"></a> ä»åº“é…ç½®</h2><h3 id="å®‰è£…vim"><a class="markdownIt-Anchor" href="#å®‰è£…vim"></a> å®‰è£…vim</h3><blockquote><p>ä¸Šé¢æœ‰æ•™ç¨‹,è¿™è¾¹ä¸åšé˜è¿°</p></blockquote><h3 id="å®‰è£…nginx"><a class="markdownIt-Anchor" href="#å®‰è£…nginx"></a> å®‰è£…Nginx</h3><ol><li>å‰æœŸå‡†å¤‡</li></ol><blockquote><p>å®‰è£…ä¾èµ–åŒ…<br />yum -y install gcc pcre-devel zlib-devel openssl openssl-devel<br />ä¸‹è½½Nginxå®‰è£…åŒ…<br />wget  <a href="http://nginx.org/download/nginx-1.22.0.tar.gz">http://nginx.org/download/nginx-1.22.0.tar.gz</a><br />è§£å‹ tar -zxvf nginx-1.22.0.tar.gz<br />åˆ›å»ºæ–‡ä»¶å¤¹ mkdir -p /usr/local/nginx<br />æ‰§è¡Œå®‰è£…å‘½ä»¤: ./configure --prefix=/usr/local/nginx<br />æ‰§è¡Œç¼–è¯‘: make &amp;&amp; make install<br />å¯¼å…¥é™æ€é¡µé¢åˆ°htmlç›®å½•</p><p>é…ç½®åå‘ä»£ç†<br />ä¿®æ”¹nginx.confæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">    root   html/dist;</span><br><span class="line">    index  index.html;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#åå‘ä»£ç†é…ç½®</span><br><span class="line">location ^~ /api/ &#123;</span><br><span class="line">    rewrite ^/api/(.*)$ /$1 break;</span><br><span class="line">    proxy_pass http://47.99.194.162:8888/</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></blockquote><ol start="2"><li><p>é…ç½®Nginxç¯å¢ƒ</p><ol><li>ç¼–è¾‘ vim /etc/profile</li><li>export PATH=/usr/local/nginx/sbin:$PATH</li><li>æ‰§è¡Œ source /etc/profile åˆ·æ–°ç¯å¢ƒå˜é‡</li></ol></li><li><p>é…ç½®å¼€æœºå¯åŠ¨</p><blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"> &gt;<span class="comment">#!/bin/sh</span></span><br><span class="line"> &gt;<span class="comment">#</span></span><br><span class="line"> &gt;<span class="comment"># nginx - this script starts and stops the nginx daemon</span></span><br><span class="line"> &gt;<span class="comment">#</span></span><br><span class="line"> &gt;<span class="comment"># chkconfig:   - 85 15</span></span><br><span class="line"> &gt;<span class="comment"># description:  NGINX is an HTTP(S) server, HTTP(S) reverse \</span></span><br><span class="line"> &gt;<span class="comment">#               proxy and IMAP/POP3 proxy server</span></span><br><span class="line"> &gt;<span class="comment"># processname: nginx</span></span><br><span class="line"> &gt;<span class="comment"># config:      /etc/nginx/nginx.conf</span></span><br><span class="line"> &gt;<span class="comment"># config:      /etc/sysconfig/nginx</span></span><br><span class="line"> &gt;<span class="comment"># pidfile:     /var/run/nginx.pid</span></span><br><span class="line"></span><br><span class="line"> &gt;<span class="comment"># Source function library.</span></span><br><span class="line"> &gt;. /etc/rc.d/init.d/functions</span><br><span class="line"></span><br><span class="line"> &gt;<span class="comment"># Source networking configuration.</span></span><br><span class="line"> &gt;. /etc/sysconfig/network</span><br><span class="line"></span><br><span class="line"> &gt;<span class="comment"># Check that networking is up.</span></span><br><span class="line"> &gt;[ <span class="string">&quot;<span class="variable">$NETWORKING</span>&quot;</span> = <span class="string">&quot;no&quot;</span> ] &amp;&amp; <span class="built_in">exit</span> 0</span><br><span class="line"></span><br><span class="line"> &gt;nginx=<span class="string">&quot;/usr/local/nginx/sbin/nginx&quot;</span></span><br><span class="line"> &gt;prog=$(<span class="built_in">basename</span> <span class="variable">$nginx</span>)</span><br><span class="line"></span><br><span class="line"> &gt;NGINX_CONF_FILE=<span class="string">&quot;/usr/local/nginx/conf/nginx.conf&quot;</span></span><br><span class="line"></span><br><span class="line"> &gt;[ -f /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginx</span><br><span class="line"></span><br><span class="line"> &gt;lockfile=/var/lock/subsys/nginx</span><br><span class="line"></span><br><span class="line"> &gt;<span class="function"><span class="title">make_dirs</span></span>() &#123;</span><br><span class="line"> <span class="comment"># make required directories</span></span><br><span class="line"> user=`<span class="variable">$nginx</span> -V 2&gt;&amp;1 | grep <span class="string">&quot;configure arguments:.*--user=&quot;</span> | sed <span class="string">&#x27;s/[^*]*--user=\([^ ]*\).*/\1/g&#x27;</span> -`</span><br><span class="line"> <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$user</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> [ -z <span class="string">&quot;`grep <span class="variable">$user</span> /etc/passwd`&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">       useradd -M -s /bin/nologin <span class="variable">$user</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    options=`<span class="variable">$nginx</span> -V 2&gt;&amp;1 | grep <span class="string">&#x27;configure arguments:&#x27;</span>`</span><br><span class="line">    <span class="keyword">for</span> opt <span class="keyword">in</span> <span class="variable">$options</span>; <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">if</span> [ `<span class="built_in">echo</span> <span class="variable">$opt</span> | grep <span class="string">&#x27;.*-temp-path&#x27;</span>` ]; <span class="keyword">then</span></span><br><span class="line">            value=`<span class="built_in">echo</span> <span class="variable">$opt</span> | <span class="built_in">cut</span> -d <span class="string">&quot;=&quot;</span> -f 2`</span><br><span class="line">            <span class="keyword">if</span> [ ! -d <span class="string">&quot;<span class="variable">$value</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">                <span class="comment"># echo &quot;creating&quot; $value</span></span><br><span class="line">                <span class="built_in">mkdir</span> -p <span class="variable">$value</span> &amp;&amp; <span class="built_in">chown</span> -R <span class="variable">$user</span> <span class="variable">$value</span></span><br><span class="line">            <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">     <span class="keyword">done</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"> &gt;&#125;</span><br><span class="line"></span><br><span class="line"> &gt;<span class="function"><span class="title">start</span></span>() &#123;</span><br><span class="line">  [ -x <span class="variable">$nginx</span> ] || <span class="built_in">exit</span> 5</span><br><span class="line">  [ -f <span class="variable">$NGINX_CONF_FILE</span> ] || <span class="built_in">exit</span> 6</span><br><span class="line">  make_dirs</span><br><span class="line">  <span class="built_in">echo</span> -n $<span class="string">&quot;Starting <span class="variable">$prog</span>: &quot;</span></span><br><span class="line">  daemon <span class="variable">$nginx</span> -c <span class="variable">$NGINX_CONF_FILE</span></span><br><span class="line">  retval=$?</span><br><span class="line">  <span class="built_in">echo</span></span><br><span class="line">  [ <span class="variable">$retval</span> -eq 0 ] &amp;&amp; <span class="built_in">touch</span> <span class="variable">$lockfile</span></span><br><span class="line">  <span class="built_in">return</span> <span class="variable">$retval</span></span><br><span class="line"> &gt;&#125;</span><br><span class="line"></span><br><span class="line"> &gt;<span class="function"><span class="title">stop</span></span>() &#123;</span><br><span class="line">  <span class="built_in">echo</span> -n $<span class="string">&quot;Stopping <span class="variable">$prog</span>: &quot;</span></span><br><span class="line">  killproc <span class="variable">$prog</span> -QUIT</span><br><span class="line">  retval=$?</span><br><span class="line">  <span class="built_in">echo</span></span><br><span class="line">  [ <span class="variable">$retval</span> -eq 0 ] &amp;&amp; <span class="built_in">rm</span> -f <span class="variable">$lockfile</span></span><br><span class="line">  <span class="built_in">return</span> <span class="variable">$retval</span></span><br><span class="line"> &gt;&#125;</span><br><span class="line"></span><br><span class="line"> &gt;<span class="function"><span class="title">restart</span></span>() &#123;</span><br><span class="line">  configtest || <span class="built_in">return</span> $?</span><br><span class="line">  stop</span><br><span class="line">  <span class="built_in">sleep</span> 1</span><br><span class="line">  start</span><br><span class="line"> &gt;&#125;</span><br><span class="line"></span><br><span class="line"> &gt;<span class="function"><span class="title">reload</span></span>() &#123;</span><br><span class="line">  configtest || <span class="built_in">return</span> $?</span><br><span class="line">  <span class="built_in">echo</span> -n $<span class="string">&quot;Reloading <span class="variable">$prog</span>: &quot;</span></span><br><span class="line">  killproc <span class="variable">$prog</span> -HUP</span><br><span class="line">  retval=$?</span><br><span class="line">  <span class="built_in">echo</span></span><br><span class="line"> &gt;&#125;</span><br><span class="line"></span><br><span class="line"> &gt;<span class="function"><span class="title">force_reload</span></span>() &#123;</span><br><span class="line">  restart</span><br><span class="line"> &gt;&#125;</span><br><span class="line"></span><br><span class="line"> &gt;<span class="function"><span class="title">configtest</span></span>() &#123;</span><br><span class="line"><span class="variable">$nginx</span> -t -c <span class="variable">$NGINX_CONF_FILE</span></span><br><span class="line"> &gt;&#125;</span><br><span class="line"></span><br><span class="line"> &gt;<span class="function"><span class="title">rh_status</span></span>() &#123;</span><br><span class="line">  status <span class="variable">$prog</span></span><br><span class="line"> &gt;&#125;</span><br><span class="line"></span><br><span class="line"> &gt;<span class="function"><span class="title">rh_status_q</span></span>() &#123;</span><br><span class="line">  rh_status &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"> &gt;&#125;</span><br><span class="line"></span><br><span class="line"> &gt;<span class="keyword">case</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">  start)</span><br><span class="line">      rh_status_q &amp;&amp; <span class="built_in">exit</span> 0</span><br><span class="line">      <span class="variable">$1</span></span><br><span class="line">      ;;</span><br><span class="line">  stop)</span><br><span class="line">      rh_status_q || <span class="built_in">exit</span> 0</span><br><span class="line">      <span class="variable">$1</span></span><br><span class="line">      ;;</span><br><span class="line">  restart|configtest)</span><br><span class="line">      <span class="variable">$1</span></span><br><span class="line">      ;;</span><br><span class="line">  reload)</span><br><span class="line">      rh_status_q || <span class="built_in">exit</span> 7</span><br><span class="line">      <span class="variable">$1</span></span><br><span class="line">      ;;</span><br><span class="line">  force-reload)</span><br><span class="line">      force_reload</span><br><span class="line">      ;;</span><br><span class="line">  status)</span><br><span class="line">      rh_status</span><br><span class="line">      ;;</span><br><span class="line">  condrestart|try-restart)</span><br><span class="line">      rh_status_q || <span class="built_in">exit</span> 0</span><br><span class="line">          ;;</span><br><span class="line">  *)</span><br><span class="line">      <span class="built_in">echo</span> $<span class="string">&quot;Usage: <span class="variable">$0</span> &#123;start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest&#125;&quot;</span></span><br><span class="line">      <span class="built_in">exit</span> 2</span><br><span class="line"> &gt;<span class="keyword">esac</span></span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç æ˜¯å®˜æ–¹æä¾›çš„,å¹¶ä¸æ˜¯æˆ‘è‡ªå·±å†™çš„,é‡Œé¢æœ‰ä¸¤è¡ŒNginxçš„è·¯å¾„éœ€è¦æ”¹æˆä½ è‡ªå·±çš„å®‰è£…è·¯å¾„</p></blockquote></li><li><p>ç¼–å†™å®Œæ¯•ä¹‹ååœ¨/etc/init.dä¸‹åˆ›å»ºnginxæ–‡ä»¶,æŠŠä¸Šé¢çš„ä»£ç å¤åˆ¶è¿›å»,å¹¶ç»™äºˆæœ€é«˜æ‰§è¡Œæƒé™</p></li><li><p>ä½¿ç”¨chkconfigç®¡ç†</p><ol><li><p><strong>å°†nginxæœåŠ¡åŠ å…¥chkconfigç®¡ç†åˆ—è¡¨</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chkconfig --add /etc/init.d/nginx</span></span><br></pre></td></tr></table></figure></li><li><p><strong>ä½¿ç”¨serviceç®¡ç†æœåŠ¡</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># service nginx start    å¯åŠ¨æœåŠ¡   </span></span><br><span class="line"><span class="comment"># service nginx stop     åœæ­¢æœåŠ¡</span></span><br><span class="line"><span class="comment"># service nginx restart  é‡å¯æœåŠ¡</span></span><br><span class="line"><span class="comment"># service nginx status   æŸ¥è¯¢æœåŠ¡çš„çŠ¶æ€</span></span><br><span class="line"><span class="comment"># service nginx relaod   åˆ·æ–°é…ç½®æ–‡</span></span><br></pre></td></tr></table></figure></li><li><p><strong>è®¾ç½®ç»ˆç«¯æ¨¡å¼å¼€æœºå¯åŠ¨</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chkconfig nginx on</span></span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="å®‰è£…mysql-2"><a class="markdownIt-Anchor" href="#å®‰è£…mysql-2"></a> å®‰è£…MySql</h3><blockquote><p>ä¸Šè¿°å·²ç»è®²åˆ°,è¿™é‡Œä¸åšé˜è¿°</p></blockquote><h2 id="é…ç½®ä¸»ä»å¤åˆ¶"><a class="markdownIt-Anchor" href="#é…ç½®ä¸»ä»å¤åˆ¶"></a> é…ç½®ä¸»ä»å¤åˆ¶</h2><h3 id="é…ç½®ä¸»åº“"><a class="markdownIt-Anchor" href="#é…ç½®ä¸»åº“"></a> é…ç½®ä¸»åº“</h3><blockquote><p>ä¿®æ”¹ vim /etc/my.nf<br />[mysql]<br />log-bin = mysql-bin#[å¿…é¡»]å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿—<br />server-id=100æœåŠ¡å™¨å”¯ä¸€ID</p><p>é‡å¯mysqlæœåŠ¡<br />systemctl restart mysqld</p><p>ç™»å½•åˆ°ä¸»åº“ä¸­æ‰§è¡Œä»£ç <br />GRANT REPLICATION SLAVE ON <em>.</em> to â€˜sermsâ€™@â€™%â€™ identified by â€˜Root@123456â€™;<br />ä¸Šé¢SQLçš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªç”¨æˆ·serms,å¯†ç ä¸ºRoot@123456,å¹¶ä¸”ç»™sermsç”¨æˆ·æˆäºˆ REPLICATION SLAVEæƒé™,å¸¸ç”¨äºå»ºç«‹å¤åˆ¶æ—¶æ‰€éœ€è¦ç”¨åˆ°çš„ç”¨æˆ·æƒé™,ä¹Ÿå°±æ˜¯è¯´slaveå¿…é¡»è¢«masteræˆæƒå…·æœ‰æƒé™çš„ç”¨æˆ·,æ‰èƒ½æä¾›è¯¥ç”¨æˆ·å¤åˆ¶</p><p>æ‰§è¡ŒSQL,æŸ¥çœ‹FIleå’ŒPositionçš„å€¼<br />show master status;</p><p><img src="https://unpkg.com/serms-assets@1.0.29/imgs/image-20220616235947262.png" alt="" /></p><p>è‡³æ­¤ä¸éœ€è¦åœ¨åŠ¨ä¸»åº“çš„mysqläº†</p></blockquote><h3 id="é…ç½®ä»åº“"><a class="markdownIt-Anchor" href="#é…ç½®ä»åº“"></a> é…ç½®ä»åº“</h3><blockquote><p>ä¿®æ”¹mysqlæ•°æ®åº“é…ç½®æ–‡ä»¶<br />server-id=100<br />åˆ·æ–°æ•°æ®åº“</p><p>æ‰§è¡ŒSQL</p><p>change master to master_host=â€˜47.99.194.162â€™,master_user=â€˜sermsâ€™,master_password=â€˜Root@123456â€™,master_log_file=â€˜mysql-bin.000001â€™,master_log_pos=438;</p><p>start slave;</p><p>æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€</p><p>show slave status;</p></blockquote><p>åˆ°æ­¤å‘¢ä¸»åº“å’Œä»åº“çš„é…ç½®å°±å·²ç»ç»“æŸå•¦~</p><p>æœ‰äº›åœ°æ–¹å†™çš„ä¸æ˜¯å¾ˆå¥½, æœ‰ä¸æ˜ç™½çš„åœ°æ–¹è¯·åœ¨ä¸‹æ–¹ç•™è¨€</p><h2 id="ï¸sponsor"><a class="markdownIt-Anchor" href="#ï¸sponsor"></a> â¤ï¸Sponsor</h2><p>æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä¸æ–­å‰è¿›çš„åŠ¨åŠ›ï¼Œå¦‚æœæ‚¨æ°å·§è´¢åŠ›é›„åšï¼Œåˆæ„Ÿè§‰æœ¬æ–‡å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©çš„è¯ï¼Œå¯ä»¥è€ƒè™‘æ‰“èµä¸€ä¸‹æœ¬æ–‡ï¼Œç”¨ä»¥ç»´æŒæœ¬åšå®¢çš„è¿è¥è´¹ç”¨ï¼Œæ‹’ç»ç™½å«–ï¼Œä»ä½ æˆ‘åšèµ·ï¼ğŸ¥°ğŸ¥°ğŸ¥°</p><table><thead><tr><th style="text-align:center">æ”¯ä»˜å®</th><th>å¾®ä¿¡</th></tr></thead><tbody><tr><td style="text-align:center"><img src="https://unpkg.com/serms-assets@1.0.25/serms/img/alipay.png" alt="" /></td><td><img src="https://unpkg.com/serms-assets@1.0.25/serms/img/wechat.png" alt="" /></td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;tip home&quot;&gt;&lt;p&gt;å‰è¨€:&lt;br /&gt;
å­¦æ ¡è¿‘æœŸå®è®­å‘¨åšé¡¹ç›®,æˆ‘æƒ³ç€èƒ½ä¸èƒ½æŠŠé¡¹ç›®ç›´æ¥éƒ¨ç½²åœ¨äº‘ä¸Š,åˆšå¥½é˜¿é‡Œäº‘æœ‰ECSæœåŠ¡å™¨å…è´¹è¯•ç”¨æ´»åŠ¨,ä¸å«–ç™½è¡¥ç¥¨,å› æ­¤è®°å½•æœ¬é¡¹ç›®çš„æ‰€æœ‰éƒ¨ç½²æµç¨‹,ä»ç”³è¯·æœåŠ¡å™¨åˆ°éƒ¨ç½²é¡¹ç›®,å®Œæ•´çš„æµç¨‹&lt;br /&gt;
æœ¬æ¬¡é‡‡ç”¨çš„æ˜¯ä¸¤å°é˜¿é‡Œäº‘EC</summary>
      
    
    
    
    <category term="é˜¿é‡Œäº‘" scheme="https://serms.top/categories/%E9%98%BF%E9%87%8C%E4%BA%91/"/>
    
    <category term="é¡¹ç›®éƒ¨ç½²" scheme="https://serms.top/categories/%E9%98%BF%E9%87%8C%E4%BA%91/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/"/>
    
    
    <category term="é˜¿é‡Œäº‘ECS" scheme="https://serms.top/tags/%E9%98%BF%E9%87%8C%E4%BA%91ECS/"/>
    
    <category term="é¡¹ç›®éƒ¨ç½²" scheme="https://serms.top/tags/%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>éƒ½22ä¸–çºªäº†ä½ è¿˜ä¸ä¼šç§‘å­¦ä¸Šç½‘??</title>
    <link href="https://serms.top/posts/13e760ef/"/>
    <id>https://serms.top/posts/13e760ef/</id>
    <published>2022-05-23T00:57:54.000Z</published>
    <updated>2022-07-19T14:06:34.814Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><div class="tip home"><p>ç°åœ¨ç§‘å­¦ä¸Šç½‘å¯èƒ½æ˜¯æ¯ä¸ªé’å¹´çš„å¿…å¤‡æŠ€å·§äº†,å°±æ¯”å¦‚æˆ‘æƒ³å»çœ‹çœ‹å›½å¤–çš„â€¦å•Šå‘¸,æˆ‘æ€ä¹ˆä¼šè¿™æ ·æƒ³å‘¢â€¦<img no-lazy class="inline" src="https://inews.gtimg.com/newsapp_match/0/14380690994/0" style="height:40px;"/>, æ¯”å¦‚åœ¨ä½ æ•²ä»£ç çš„æ—¶å€™æƒ³è®¿é—®ä¸€ä¸‹<a href="https://spring.io/">Spring</a>æˆ–è€…æ˜¯<a href="http://github.com/">Github</a>æœ‰æ—¶å€™ç”šè‡³éƒ½éœ€è¦å€ŸåŠ©ç§‘å­¦ä¸Šç½‘â€¦</p><p>å¤šçš„ä¸è¯´è¿›å…¥æ­£é¢˜</p></div><p>ç§‘å­¦ä¸Šç½‘çš„æ–¹å¼æœ‰å¾ˆå¤šç§,æ¯”å¦‚åä»£,å¼€VPNâ€¦</p><p>å¯èƒ½ä½ è¯´è¿™ä¸éƒ½è¦é’±å—???</p><p>ç¡®å®,ä½†æ˜¯æˆ‘æ€ä¹ˆå¯èƒ½è®©ä½ ä»¬èŠ±é’±å‘¢??èƒ½ç™½å«–ç»ä¸æ°ªé‡‘ğŸ˜ğŸ˜ğŸ˜</p><p><img src="https://unpkg.com/serms-assets@1.0.28/imgs/image-20220523092300757.png" alt="æ²¹ç®¡è½»è½»æ¾æ¾ä¸Š" /></p><p>æˆ‘å·²ç»å¸®å¤§å®¶æ•´ç†å¥½äº†,å¤§å®¶ç›´æ¥ä¸‹è½½å°±è¡Œ</p><div class="tag link"><a class="link-card" title="" href="https://pan.baidu.com/s/1Z-0ZEMBnWHrb-m6VfmJuxg&pwd:ms88"><div class="left"><img src="https://pan.baidu.com/box-static/disk-theme/theme/white/img/logo@2x.png"/></div><div class="right"><p class="text"></p><p class="url">https://pan.baidu.com/s/1Z-0ZEMBnWHrb-m6VfmJuxg&pwd:ms88</p></div></a></div>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å‰è¨€&quot;&gt;&lt;/a&gt; å‰è¨€&lt;/h2&gt;
&lt;div class=&quot;tip home&quot;&gt;&lt;p&gt;ç°åœ¨ç§‘å­¦ä¸Šç½‘å¯èƒ½æ˜¯æ¯ä¸ªé’å¹´çš„å¿…å¤‡æŠ€å·§äº†,å°±æ¯”å¦‚æˆ‘æƒ³å»çœ‹çœ‹å›½å¤–çš„â€¦å•Šå‘¸,æˆ‘æ€ä¹ˆä¼šè¿™æ ·æƒ³å‘¢â€¦&lt;img n</summary>
      
    
    
    
    <category term="å¥‡æ€ªçš„çŸ¥è¯†" scheme="https://serms.top/categories/%E5%A5%87%E6%80%AA%E7%9A%84%E7%9F%A5%E8%AF%86/"/>
    
    <category term="æ€æ ·ç§‘å­¦ä¸Šç½‘" scheme="https://serms.top/categories/%E5%A5%87%E6%80%AA%E7%9A%84%E7%9F%A5%E8%AF%86/%E6%80%8E%E6%A0%B7%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
    
    <category term="æ€æ ·ç§‘å­¦ä¸Šç½‘" scheme="https://serms.top/tags/%E6%80%8E%E6%A0%B7%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>NavigationDuplicatedå¼‚å¸¸è­¦å‘Š!!!</title>
    <link href="https://serms.top/posts/86aff880/"/>
    <id>https://serms.top/posts/86aff880/</id>
    <published>2022-05-22T12:46:59.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a class="markdownIt-Anchor" href="#é—®é¢˜"></a> é—®é¢˜</h2><p>Vueè·¯ç”±å½“ä½ é‡å¤ä¼ ç›¸åŒå‚æ•°æ—¶,æ§åˆ¶å°å°±ä¼šæŠ¥:<span class='p red'>NavigationDuplicated</span></p><p><img src="https://unpkg.com/serms-assets@1.0.25/imgs/image-20220522204757177.png" alt="" /></p><hr /><h2 id="åŸå› "><a class="markdownIt-Anchor" href="#åŸå› "></a> åŸå› :</h2><p>æœ€æ–°çš„vue-routerå¼•å…¥äº†promise</p><hr /><h2 id="è§£å†³æ–¹æ³•"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ³•"></a> è§£å†³æ–¹æ³•</h2><blockquote><p>é€šè¿‡ç»™pushæ–¹æ³•ä¼ é€’ç›¸åº”çš„æˆåŠŸ,å¤±è´¥çš„å›è°ƒ,å¯ä»¥æ•è·å½“å‰é”™è¯¯,å¯ä»¥è§£å†³é—®é¢˜</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123;</span><br><span class="line">name: &#x27;search&#x27;,</span><br><span class="line">query: &#123;</span><br><span class="line">k: this.keyword.toUpperCase(),</span><br><span class="line">&#125;,</span><br><span class="line">params: &#123;</span><br><span class="line">keyword: this.keyword,</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">() =&gt; &#123; &#125;,//å‡½æ•°ä¼ å…¥æˆåŠŸ</span><br><span class="line">() =&gt; &#123; &#125;//å‡½æ•°ä¼ å…¥å¤±è´¥</span><br><span class="line">);</span><br></pre></td></tr></table></figure><div class="tip success"><p><span class='p red'>ä½†æ˜¯è¿™ç§æ–¹æ³•æ²»æ ‡ä¸æ²»æœ¬!!!</span></p></div><hr /><blockquote><p>é‡å†™RouteråŸå‹å¯¹è±¡ä¸Šçš„pushæ–¹æ³•å’Œreplaceæ–¹æ³•</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é…ç½®è·¯ç”±çš„ä¸»æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨æ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Router</span>);</span><br><span class="line"><span class="comment">//æ‰“å°è·¯ç”±åŸå‹</span></span><br><span class="line"><span class="comment">// console.log(Router.prototype);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤‡ä»½RouteråŸå‹å¯¹è±¡çš„pushæ–¹æ³•</span></span><br><span class="line"><span class="keyword">let</span> originPush = <span class="title class_">Router</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span>;</span><br><span class="line"><span class="comment">// console.log(originPush);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤‡ä»½RouteråŸå‹å¯¹è±¡çš„replaceæ–¹æ³•</span></span><br><span class="line"><span class="keyword">let</span> originReplace = <span class="title class_">Router</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">replace</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡å†™pushå’Œreplaceæ–¹æ³•</span></span><br><span class="line"><span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°:è·¯ç”±è·¯å¾„ä»¥åŠä¼ é€’çš„å‚æ•°</span></span><br><span class="line"><span class="comment">//ç¬¬äºŒä¸ªå‚æ•°:æˆåŠŸçš„å›è°ƒ</span></span><br><span class="line"><span class="comment">//ç¬¬ä¸‰ä¸ªå‚æ•°:å¤±è´¥çš„å›è°ƒ</span></span><br><span class="line"><span class="comment">//this:å½“å‰çš„è·¯ç”±å¯¹è±¡(å½“å‰ç»„ä»¶å®ä¾‹å¯¹è±¡)</span></span><br><span class="line"><span class="comment">//callå’Œapplyçš„åŒºåˆ«:éƒ½æ˜¯æ”¹å˜thisæŒ‡å‘,ä½†æ˜¯callå’Œapplyçš„åŒºåˆ«æ˜¯:callæ˜¯æŠŠå‚æ•°ä¼ é€’ç»™å‡½æ•°,applyæ˜¯æŠŠå‚æ•°ä¼ é€’ç»™å‡½æ•°çš„æ•°ç»„</span></span><br><span class="line"><span class="title class_">Router</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span> = <span class="keyword">function</span> (<span class="params">location, resolve, reject</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (resolve &amp;&amp; reject) &#123;</span><br><span class="line">        <span class="keyword">return</span> originPush.<span class="title function_">call</span>(<span class="variable language_">this</span>, location, resolve, reject);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> originPush.<span class="title function_">call</span>(<span class="variable language_">this</span>, location, <span class="function">() =&gt;</span> &#123; &#125;, <span class="function">() =&gt;</span> &#123; &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Router</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">replace</span> = <span class="keyword">function</span> (<span class="params">location, resolve, reject</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (resolve &amp;&amp; reject) &#123;</span><br><span class="line">        <span class="keyword">return</span> originReplace.<span class="title function_">call</span>(<span class="variable language_">this</span>, location, resolve, reject);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> originReplace.<span class="title function_">call</span>(<span class="variable language_">this</span>, location, <span class="function">() =&gt;</span> &#123; &#125;, <span class="function">() =&gt;</span> &#123; &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//é…ç½®è·¯ç”±</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;</span><br><span class="line">    <span class="comment">//é…ç½®è·¯ç”±</span></span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">            <span class="attr">meta</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è‡³æ­¤pushå’Œreplaceé‡å¤æäº¤é—®é¢˜ä»¥å…¨éƒ¨è§£å†³</p><hr /><h2 id="ï¸sponsor"><a class="markdownIt-Anchor" href="#ï¸sponsor"></a> â¤ï¸Sponsor</h2><p>æ‚¨çš„æ”¯æŒæ˜¯æˆ‘ä¸æ–­å‰è¿›çš„åŠ¨åŠ›ï¼Œå¦‚æœæ‚¨æ°å·§è´¢åŠ›é›„åšï¼Œåˆæ„Ÿè§‰æœ¬æ–‡å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©çš„è¯ï¼Œå¯ä»¥è€ƒè™‘æ‰“èµä¸€ä¸‹æœ¬æ–‡ï¼Œç”¨ä»¥ç»´æŒæœ¬åšå®¢çš„è¿è¥è´¹ç”¨ï¼Œæ‹’ç»ç™½å«–ï¼Œä»ä½ æˆ‘åšèµ·ï¼ğŸ¥°ğŸ¥°ğŸ¥°</p><table><thead><tr><th style="text-align:center">æ”¯ä»˜å®</th><th>å¾®ä¿¡</th></tr></thead><tbody><tr><td style="text-align:center"><img src="https://unpkg.com/serms-assets@1.0.25/serms/img/alipay.png" alt="" /></td><td><img src="https://unpkg.com/serms-assets@1.0.25/serms/img/wechat.png" alt="" /></td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é—®é¢˜&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é—®é¢˜&quot;&gt;&lt;/a&gt; é—®é¢˜&lt;/h2&gt;
&lt;p&gt;Vueè·¯ç”±å½“ä½ é‡å¤ä¼ ç›¸åŒå‚æ•°æ—¶,æ§åˆ¶å°å°±ä¼šæŠ¥:&lt;span class=&#39;p red&#39;&gt;NavigationDuplicated&lt;/span&gt;&lt;/</summary>
      
    
    
    
    <category term="Vue" scheme="https://serms.top/categories/Vue/"/>
    
    <category term="Vue-NavigationDuplicatedå¼‚å¸¸" scheme="https://serms.top/categories/Vue/Vue-NavigationDuplicated%E5%BC%82%E5%B8%B8/"/>
    
    <category term="ç¼–ç¨‹ç¬”è®°" scheme="https://serms.top/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Vue" scheme="https://serms.top/tags/Vue/"/>
    
    <category term="NavigationDuplicatedå¼‚å¸¸" scheme="https://serms.top/tags/NavigationDuplicated%E5%BC%82%E5%B8%B8/"/>
    
  </entry>
  
  <entry>
    <title>Vueè·¯ç”±ä¼ å‚çš„ä¸‰ç§æ–¹å¼</title>
    <link href="https://serms.top/posts/da904ab5/"/>
    <id>https://serms.top/posts/da904ab5/</id>
    <published>2022-05-22T11:10:18.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><div class="tip home"><p><strong>vue</strong> è·¯ç”±ä¼ å‚çš„ä½¿ç”¨åœºæ™¯ä¸€èˆ¬éƒ½æ˜¯åº”ç”¨åœ¨çˆ¶è·¯ç”±è·³è½¬åˆ°å­è·¯ç”±æ—¶ï¼Œæºå¸¦å‚æ•°è·³è½¬ã€‚ä¼ å‚æ–¹å¼å¯åˆ’åˆ†ä¸º <code>params</code> ä¼ å‚å’Œ <code>query</code> ä¼ å‚ï¼Œè€Œ <code>params</code> ä¼ å‚åˆå¯åˆ†ä¸ºåœ¨ <strong>url</strong> ä¸­æ˜¾ç¤ºå‚æ•°å’Œä¸æ˜¾ç¤ºå‚æ•°ä¸¤ç§æ–¹å¼ï¼Œè¿™å°±æ˜¯vueè·¯ç”±ä¼ å‚çš„ä¸‰ç§æ–¹å¼ã€‚</p></div><h2 id="æ–¹å¼ä¸€params-ä¼ å‚æ˜¾ç¤ºå‚æ•°"><a class="markdownIt-Anchor" href="#æ–¹å¼ä¸€params-ä¼ å‚æ˜¾ç¤ºå‚æ•°"></a> æ–¹å¼ä¸€ï¼š<code>params</code> ä¼ å‚ï¼ˆæ˜¾ç¤ºå‚æ•°ï¼‰</h2><span class='p red'>params</span> ä¼ å‚ï¼ˆæ˜¾ç¤ºå‚æ•°ï¼‰åˆå¯åˆ†ä¸º å£°æ˜å¼ å’Œ ç¼–ç¨‹å¼ ä¸¤ç§æ–¹å¼<blockquote><p>1ã€å£°æ˜å¼ <code>router-link</code></p></blockquote><p>è¯¥æ–¹å¼æ˜¯é€šè¿‡ <code>router-link</code> ç»„ä»¶çš„ <code>to</code> å±æ€§å®ç°ï¼Œè¯¥æ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è·¯å¾„ï¼Œæˆ–è€…ä¸€ä¸ªæè¿°åœ°å€çš„å¯¹è±¡ã€‚ä½¿ç”¨è¯¥æ–¹å¼ä¼ å€¼çš„æ—¶å€™ï¼Œéœ€è¦å­è·¯ç”±æå‰é…ç½®å¥½å‚æ•°ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//å­è·¯ç”±é…ç½®</span><br><span class="line">&#123;</span><br><span class="line">path: &#x27;/child/:id&#x27;,</span><br><span class="line">component: Child</span><br><span class="line">&#125;</span><br><span class="line">//çˆ¶è·¯ç”±ç»„ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;/child/123&quot;</span>&gt;</span>è¿›å…¥Childè·¯ç”±<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>2ã€ç¼–ç¨‹å¼ <code>this.$router.push</code></p></blockquote><p>ä½¿ç”¨è¯¥æ–¹å¼ä¼ å€¼çš„æ—¶å€™ï¼ŒåŒæ ·éœ€è¦å­è·¯ç”±æå‰é…ç½®å¥½å‚æ•°ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//å­è·¯ç”±é…ç½®</span><br><span class="line">&#123;</span><br><span class="line">path: &#x27;/child/:id&#x27;,</span><br><span class="line">component: Child</span><br><span class="line">&#125;</span><br><span class="line">//çˆ¶è·¯ç”±ç¼–ç¨‹å¼ä¼ å‚(ä¸€èˆ¬é€šè¿‡äº‹ä»¶è§¦å‘)</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">path:&#x27;/child/$&#123;id&#125;&#x27;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>åœ¨å­è·¯ç”±ä¸­å¯ä»¥é€šè¿‡ä¸‹é¢ä»£ç æ¥è·å–ä¼ é€’çš„å‚æ•°å€¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$route.params.id</span><br></pre></td></tr></table></figure><h2 id="æ–¹å¼äºŒparams-ä¼ å‚ä¸æ˜¾ç¤ºå‚æ•°"><a class="markdownIt-Anchor" href="#æ–¹å¼äºŒparams-ä¼ å‚ä¸æ˜¾ç¤ºå‚æ•°"></a> æ–¹å¼äºŒï¼š<code>params</code> ä¼ å‚ï¼ˆä¸æ˜¾ç¤ºå‚æ•°ï¼‰</h2><p><code>params</code> ä¼ å‚ï¼ˆä¸æ˜¾ç¤ºå‚æ•°ï¼‰ä¹Ÿå¯åˆ†ä¸º å£°æ˜å¼ å’Œ ç¼–ç¨‹å¼ ä¸¤ç§æ–¹å¼ï¼Œä¸æ–¹å¼ä¸€ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œæ˜¯é€šè¿‡è·¯ç”±çš„åˆ«å <code>name</code> è¿›è¡Œä¼ å€¼çš„</p><p>1ã€å£°æ˜å¼ <code>router-link</code></p><p>è¯¥æ–¹å¼ä¹Ÿæ˜¯é€šè¿‡ <code>router-link</code> ç»„ä»¶çš„ <code>to</code> å±æ€§å®ç°ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=&quot;&#123;name:&#x27;Child&#x27;,params:&#123;id:123&#125;&#125;&quot;&gt;è¿›å…¥Childè·¯ç”±&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><p>2ã€ç¼–ç¨‹å¼ <code>this.$router.push</code></p><p>ä½¿ç”¨è¯¥æ–¹å¼ä¼ å€¼çš„æ—¶å€™ï¼ŒåŒæ ·éœ€è¦å­è·¯ç”±æå‰é…ç½®å¥½å‚æ•°ï¼Œä¸è¿‡ä¸èƒ½å†ä½¿ç”¨ <code>:/id</code> æ¥ä¼ é€’å‚æ•°äº†ï¼Œå› ä¸ºçˆ¶è·¯ç”±ä¸­ï¼Œå·²ç»ä½¿ç”¨ <code>params</code> æ¥æºå¸¦å‚æ•°äº†ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//å­è·¯ç”±é…ç½®</span><br><span class="line">&#123;</span><br><span class="line">  path: &#x27;/child,</span><br><span class="line">  name: &#x27;Child&#x27;,</span><br><span class="line">  component: Child</span><br><span class="line">&#125;</span><br><span class="line">//çˆ¶è·¯ç”±ç¼–ç¨‹å¼ä¼ å‚(ä¸€èˆ¬é€šè¿‡äº‹ä»¶è§¦å‘)</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">    name:&#x27;Child&#x27;,</span><br><span class="line">    params:&#123;</span><br><span class="line">    id:123</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>åœ¨å­è·¯ç”±ä¸­å¯ä»¥é€šè¿‡ä¸‹é¢ä»£ç æ¥è·å–ä¼ é€’çš„å‚æ•°å€¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$route.params.id</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šä¸Šè¿°è¿™ç§åˆ©ç”¨ <code>params</code> ä¸æ˜¾ç¤º <code>url</code> ä¼ å‚çš„æ–¹å¼ä¼šå¯¼è‡´åœ¨åˆ·æ–°é¡µé¢çš„æ—¶å€™ï¼Œä¼ é€’çš„å€¼ä¼šä¸¢å¤±</strong></p><h2 id="æ–¹å¼ä¸‰query-ä¼ å‚æ˜¾ç¤ºå‚æ•°"><a class="markdownIt-Anchor" href="#æ–¹å¼ä¸‰query-ä¼ å‚æ˜¾ç¤ºå‚æ•°"></a> æ–¹å¼ä¸‰ï¼š<code>query</code> ä¼ å‚ï¼ˆæ˜¾ç¤ºå‚æ•°ï¼‰</h2><p><code>query</code> ä¼ å‚ï¼ˆæ˜¾ç¤ºå‚æ•°ï¼‰ä¹Ÿå¯åˆ†ä¸º å£°æ˜å¼ å’Œ ç¼–ç¨‹å¼ ä¸¤ç§æ–¹å¼</p><blockquote><p>1ã€å£°æ˜å¼ <code>router-link</code></p></blockquote><p>è¯¥æ–¹å¼ä¹Ÿæ˜¯é€šè¿‡ <code>router-link</code> ç»„ä»¶çš„ <code>to</code> å±æ€§å®ç°ï¼Œä¸è¿‡ä½¿ç”¨è¯¥æ–¹å¼ä¼ å€¼çš„æ—¶å€™ï¼Œéœ€è¦å­è·¯ç”±æå‰é…ç½®å¥½è·¯ç”±åˆ«åï¼ˆ<code>name</code> å±æ€§ï¼‰ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//å­è·¯ç”±é…ç½®</span><br><span class="line">&#123;</span><br><span class="line">  path: &#x27;/child,</span><br><span class="line">  name: &#x27;Child&#x27;,</span><br><span class="line">  component: Child</span><br><span class="line">&#125;</span><br><span class="line">//çˆ¶è·¯ç”±ç»„ä»¶</span><br><span class="line">&lt;router-link :to=&quot;&#123;name:&#x27;Child&#x27;,query:&#123;id:123&#125;&#125;&quot;&gt;è¿›å…¥Childè·¯ç”±&lt;/router-link&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>2ã€ç¼–ç¨‹å¼ <code>this.$router.push</code></p></blockquote><p>ä½¿ç”¨è¯¥æ–¹å¼ä¼ å€¼çš„æ—¶å€™ï¼ŒåŒæ ·éœ€è¦å­è·¯ç”±æå‰é…ç½®å¥½è·¯ç”±åˆ«åï¼ˆ<code>name</code> å±æ€§ï¼‰ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//å­è·¯ç”±é…ç½®</span><br><span class="line">&#123;</span><br><span class="line">  path: &#x27;/child,</span><br><span class="line">  name: &#x27;Child&#x27;,</span><br><span class="line">  component: Child</span><br><span class="line">&#125;</span><br><span class="line">//çˆ¶è·¯ç”±ç¼–ç¨‹å¼ä¼ å‚(ä¸€èˆ¬é€šè¿‡äº‹ä»¶è§¦å‘)</span><br><span class="line">this.$router.push(&#123;</span><br><span class="line">    name:&#x27;Child&#x27;,</span><br><span class="line">    query:&#123;</span><br><span class="line">    id:123</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>åœ¨å­è·¯ç”±ä¸­å¯ä»¥é€šè¿‡ä¸‹é¢ä»£ç æ¥è·å–ä¼ é€’çš„å‚æ•°å€¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$route.query.id</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å‰è¨€&quot;&gt;&lt;/a&gt; å‰è¨€&lt;/h2&gt;
&lt;div class=&quot;tip home&quot;&gt;&lt;p&gt;&lt;strong&gt;vue&lt;/strong&gt; è·¯ç”±ä¼ å‚çš„ä½¿ç”¨åœºæ™¯ä¸€èˆ¬éƒ½æ˜¯åº”ç”¨åœ¨çˆ¶è·¯ç”±è·³è½¬åˆ°å­è·¯ç”±æ—¶ï¼Œæºå¸¦</summary>
      
    
    
    
    <category term="Vue" scheme="https://serms.top/categories/Vue/"/>
    
    <category term="Vueè·¯ç”±ä¸‰ç§ä¼ å‚æ–¹å¼" scheme="https://serms.top/categories/Vue/Vue%E8%B7%AF%E7%94%B1%E4%B8%89%E7%A7%8D%E4%BC%A0%E5%8F%82%E6%96%B9%E5%BC%8F/"/>
    
    <category term="ç¼–ç¨‹ç¬”è®°" scheme="https://serms.top/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Vue" scheme="https://serms.top/tags/Vue/"/>
    
    <category term="Vueè·¯ç”±ä¼ å‚çš„ä¸‰ç§æ–¹å¼" scheme="https://serms.top/tags/Vue%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Vue(å°šç¡…è°·å¤©ç¦¹è€å¸ˆ)</title>
    <link href="https://serms.top/posts/75ce1e02/"/>
    <id>https://serms.top/posts/75ce1e02/</id>
    <published>2022-05-21T16:24:23.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<div class="tip home"><p>ğŸ“å­¦ä¹ èµ„æ–™ï¼š<a href="https://www.bilibili.com/video/BV1Zy4y1K7SH">å°šç¡…è°·å¤©ç¦¹Vue</a><br />ğŸš©æ—¶é—´å®‰æ’ï¼šé¢„è®¡5å¤©æ›´æ–°å®Œ<br />ğŸ¯å¼€å§‹æ—¶é—´ï¼š05-21<br />ğŸ‰ç»“æŸæ—¶é—´ï¼š05-xx</p></div><h2 id="vue-ç®€ä»‹"><a class="markdownIt-Anchor" href="#vue-ç®€ä»‹"></a> Vue ç®€ä»‹</h2><h3 id="å®˜ç½‘"><a class="markdownIt-Anchor" href="#å®˜ç½‘"></a> å®˜ç½‘</h3><ol><li><a href="https://vuejs.org/">è‹±æ–‡å®˜ç½‘</a></li><li><a href="https://cn.vuejs.org/">ä¸­æ–‡å®˜ç½‘</a></li></ol><h3 id="ä»‹ç»ä¸æè¿°"><a class="markdownIt-Anchor" href="#ä»‹ç»ä¸æè¿°"></a> ä»‹ç»ä¸æè¿°</h3><ol><li>åŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„ æ¸è¿›å¼ JavaScriptæ¡†æ¶</li><li>ä½œè€…:å°¤é›¨æºª</li></ol><h3 id="vue-çš„ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#vue-çš„ç‰¹ç‚¹"></a> Vue çš„ç‰¹ç‚¹</h3><ol><li>éµå¾ª MVVM æ¨¡å¼</li><li>ç¼–ç ç®€æ´,ä½“ç§¯å°,è¿è¡Œæ•ˆç‡é«˜,é€‚åˆç§»åŠ¨/PC ç«¯å¼€å‘</li><li>å®ƒæœ¬èº«åªå…³æ³¨ UI,ä¹Ÿå¯ä»¥å¼•å…¥å…¶å®ƒç¬¬ä¸‰æ–¹åº“å¼€å‘é¡¹ç›®</li></ol><h3 id="ä¸å…¶å®ƒ-js-æ¡†æ¶çš„å…³è”"><a class="markdownIt-Anchor" href="#ä¸å…¶å®ƒ-js-æ¡†æ¶çš„å…³è”"></a> ä¸å…¶å®ƒ JS æ¡†æ¶çš„å…³è”</h3><ol><li>å€Ÿé‰´Angularçš„ æ¨¡æ¿ å’Œ æ•°æ®ç»‘å®š æŠ€æœ¯</li><li>å€Ÿé‰´Reactçš„ ç»„ä»¶åŒ– å’Œ è™šæ‹ŸDOM æŠ€æœ¯</li></ol><h3 id="vue-å‘¨è¾¹åº“"><a class="markdownIt-Anchor" href="#vue-å‘¨è¾¹åº“"></a> Vue å‘¨è¾¹åº“</h3><ol><li>vue-cli:vueè„šæ‰‹æ¶</li><li>vue-resource</li><li>axios</li><li>vue-router:è·¯ç”±</li><li>vuex:çŠ¶æ€ç®¡ç†</li><li>element-ui:åŸºäºvueçš„UIç»„ä»¶åº“(PCç«¯)</li></ol><h2 id="åˆè¯†-vue"><a class="markdownIt-Anchor" href="#åˆè¯†-vue"></a> åˆè¯† Vue</h2><h3 id="æ¨¡æ¿"><a class="markdownIt-Anchor" href="#æ¨¡æ¿"></a> æ¨¡æ¿</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>åˆè¯†vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¼•å…¥Vue --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Helloï¼&#123;&#123;name&#125;&#125;!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">// é˜»æ­¢vueåœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, <span class="comment">//elç”¨äºæŒ‡å®šå½“å‰Vueå®ä¾‹ä¸ºå“ªä¸ªå®¹å™¨æœåŠ¡ï¼Œå€¼é€šå¸¸ä¸ºcssé€‰æ‹©å™¨å­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:&#123; <span class="comment">//dataç”¨äºå­˜å‚¨æ•°æ®ï¼Œæ•°æ®å…±elæ‰€æŒ‡å®šçš„å®¹å™¨å»ä½¿ç”¨</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;JOJO&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ•ˆæœ"><a class="markdownIt-Anchor" href="#æ•ˆæœ"></a> æ•ˆæœ</h3><p><img src="https://img-blog.csdnimg.cn/img_convert/9ab2f21a5134c5d3c8bbf86495d3d031.png" alt="img" /></p><blockquote><p>æ³¨æ„:</p><ol><li>æƒ³è®©Vueå·¥ä½œï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ï¼Œä¸”è¦ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡</li><li>rootå®¹å™¨é‡Œçš„ä»£ç ä¾ç„¶ç¬¦åˆhtmlè§„èŒƒï¼Œåªä¸è¿‡æ··å…¥äº†ä¸€äº›ç‰¹æ®Šçš„Vueè¯­æ³•</li><li>rootå®¹å™¨é‡Œçš„ä»£ç è¢«ç§°ä¸ºVueæ¨¡æ¿</li><li>Vueå®ä¾‹ä¸å®¹å™¨æ˜¯ä¸€ä¸€å¯¹åº”çš„</li><li>çœŸå®å¼€å‘ä¸­åªæœ‰ä¸€ä¸ªVueå®ä¾‹ï¼Œå¹¶ä¸”ä¼šé…åˆç€ç»„ä»¶ä¸€èµ·ä½¿ç”¨</li><li>ä¸­çš„xxxè¦å†™jsè¡¨è¾¾å¼ï¼Œä¸”xxxå¯ä»¥è‡ªåŠ¨è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§</li><li>ä¸€æ—¦dataä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆæ¨¡æ¿ä¸­ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°</li></ol></blockquote><h3 id="æ¨¡æ¿è¯­æ³•"><a class="markdownIt-Anchor" href="#æ¨¡æ¿è¯­æ³•"></a> æ¨¡æ¿è¯­æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>vueæ¨¡æ¿è¯­æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ’å€¼è¯­æ³•<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä½ å¥½ï¼Œ&#123;&#123;name&#125;&#125;!<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æŒ‡ä»¤è¯­æ³•<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>å¿«å»çœ‹æ–°ç•ªï¼<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>å¿«å»çœ‹æ–°ç•ªï¼<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> </span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:&#123; </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;JOJO&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">url</span>:<span class="string">&#x27;https://www.bilibili.com/&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœ:</p><p><img src="https://img-blog.csdnimg.cn/img_convert/5064db5c00a8878b26bcd486fa51a853.png" alt="img" /></p><p>html ä¸­åŒ…å«äº†ä¸€äº› JS è¯­æ³•ä»£ç ï¼Œè¯­æ³•åˆ†ä¸ºä¸¤ç§ï¼Œåˆ†åˆ«ä¸ºï¼š</p><ol><li>æ’å€¼è¯­æ³•ï¼ˆåŒå¤§æ‹¬å·è¡¨è¾¾å¼ï¼‰</li><li>æŒ‡ä»¤ï¼ˆä»¥ v-å¼€å¤´ï¼‰</li></ol><h4 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“:</h4><h5 id="æ’å€¼è¯­æ³•"><a class="markdownIt-Anchor" href="#æ’å€¼è¯­æ³•"></a> æ’å€¼è¯­æ³•</h5><ol><li><p>åŠŸèƒ½:ç”¨äºè§£ææ ‡ç­¾ä½“å†…å®¹</p></li><li><p>è¯­æ³•:ï¼Œxxxxä¼šä½œä¸ºjsè¡¨è¾¾å¼è§£æ</p></li></ol><h5 id="æŒ‡ä»¤è¯­æ³•"><a class="markdownIt-Anchor" href="#æŒ‡ä»¤è¯­æ³•"></a> æŒ‡ä»¤è¯­æ³•</h5><ol><li><p>åŠŸèƒ½:è§£ææ ‡ç­¾å±æ€§ã€è§£ææ ‡ç­¾ä½“å†…å®¹ã€ç»‘å®šäº‹ä»¶</p></li><li><p>ä¸¾ä¾‹ï¼šv-bind:href=â€˜xxxxâ€™ï¼Œxxxxä¼šä½œä¸ºjsè¡¨è¾¾å¼è¢«è§£æ</p></li><li><p>è¯´æ˜ï¼šVueä¸­æœ‰æœ‰å¾ˆå¤šçš„æŒ‡ä»¤ï¼Œæ­¤å¤„åªæ˜¯ç”¨v-bindä¸¾ä¸ªä¾‹å­</p></li></ol><h3 id="æ•°æ®ç»‘å®š"><a class="markdownIt-Anchor" href="#æ•°æ®ç»‘å®š"></a> æ•°æ®ç»‘å®š</h3><h4 id="æ¨¡æ¿-2"><a class="markdownIt-Anchor" href="#æ¨¡æ¿-2"></a> æ¨¡æ¿</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ•°æ®ç»‘å®š<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">            å•å‘æ•°æ®ç»‘å®šï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">            åŒå‘æ•°æ®ç»‘å®šï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model:value</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> </span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;JOJO&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ•ˆæœ-2"><a class="markdownIt-Anchor" href="#æ•ˆæœ-2"></a> æ•ˆæœ</h4><p><img src="https://img-blog.csdnimg.cn/img_convert/094b060391528a0185e12f1287645cbe.png" alt="" /></p><h4 id="æ€»ç»“-2"><a class="markdownIt-Anchor" href="#æ€»ç»“-2"></a> <strong>æ€»ç»“ï¼š</strong></h4><ul><li>Vueä¸­æœ‰2ç§æ•°æ®ç»‘å®šçš„æ–¹å¼ï¼š<ul><li>å•å‘ç»‘å®šï¼ˆ<code>v-bind</code>ï¼‰ï¼šæ•°æ®åªèƒ½ä»dataæµå‘é¡µé¢</li><li>åŒå‘ç»‘å®šï¼ˆ<code>v-model</code>ï¼‰ï¼šæ•°æ®ä¸ä»…èƒ½ä»dataæµå‘é¡µé¢ï¼Œè¿˜å¯ä»¥ä»é¡µé¢æµå‘data</li></ul></li></ul><h3 id="elä¸dataçš„ä¸¤ç§å†™æ³•"><a class="markdownIt-Anchor" href="#elä¸dataçš„ä¸¤ç§å†™æ³•"></a> elä¸dataçš„ä¸¤ç§å†™æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>elä¸dataçš„ä¸¤ç§å†™æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello,&#123;&#123;name&#125;&#125;!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> </span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//elçš„ä¸¤ç§å†™æ³•ï¼š</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// const vm = new Vue(&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     // el:&#x27;#root&#x27;, //ç¬¬ä¸€ç§å†™æ³•</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     data:&#123;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//         name:&#x27;JOJO&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//     &#125;</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// vm.$mount(&#x27;#root&#x27;)//ç¬¬äºŒç§å†™æ³•</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//dataçš„ä¸¤ç§å†™æ³•ï¼š</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//dataçš„ç¬¬ä¸€ç§å†™æ³•ï¼šå¯¹è±¡å¼</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// data:&#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     name:&#x27;JOJO&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//dataçš„ç¬¬äºŒç§å†™æ³•ï¼šå‡½æ•°å¼</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>:<span class="string">&#x27;JOJO&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“-3"><a class="markdownIt-Anchor" href="#æ€»ç»“-3"></a> æ€»ç»“ï¼š</h4><p>elæœ‰2ç§å†™æ³•ï¼š</p><ol><li>åˆ›å»ºVueå®ä¾‹å¯¹è±¡çš„æ—¶å€™é…ç½®elå±æ€§</li><li>å…ˆåˆ›å»ºVueå®ä¾‹ï¼Œéšåå†é€šè¿‡<code>vm.$mount('#root')</code>æŒ‡å®šelçš„å€¼</li></ol><p>dataæœ‰2ç§å†™æ³•ï¼š</p><ol><li>å¯¹è±¡å¼</li><li>å‡½æ•°å¼</li></ol><ul><li>å¦‚ä½•é€‰æ‹©ï¼šç›®å‰å“ªç§å†™æ³•éƒ½å¯ä»¥ï¼Œä»¥åå­¦åˆ°ç»„ä»¶æ—¶ï¼Œdataå¿…é¡»ä½¿ç”¨å‡½æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™</li></ul><blockquote><p>ç”±Vueç®¡ç†çš„å‡½æ•°ï¼Œä¸€å®šä¸è¦å†™ç®­å¤´å‡½æ•°ï¼Œå¦åˆ™thiså°±ä¸å†æ˜¯Vueå®ä¾‹äº†</p></blockquote><h3 id="mvvm-æ¨¡å‹"><a class="markdownIt-Anchor" href="#mvvm-æ¨¡å‹"></a> MVVM æ¨¡å‹</h3><p><img src="https://img-blog.csdnimg.cn/img_convert/ac43527b06defd324a702aea4f7940a0.png" alt="img" /></p><ul><li>MVVMæ¨¡å‹:<ul><li>Mï¼šæ¨¡å‹(Model)ï¼šå¯¹åº”dataä¸­çš„æ•°æ®</li><li>Vï¼šè§†å›¾(View)ï¼šæ¨¡æ¿</li><li>VMï¼šè§†å›¾æ¨¡å‹(ViewModel)ï¼šVueå®ä¾‹å¯¹è±¡</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>mvvm<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>åç§°ï¼š&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æˆ˜é˜Ÿï¼š&#123;&#123;rank&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æµ‹è¯•ï¼š&#123;&#123;$options&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:&#123; </span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;uzi&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">rank</span>:<span class="string">&#x27;RNG&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><p><img src="https://img-blog.csdnimg.cn/img_convert/94ba0684daa6f21dbb14873a29d9c67a.png" alt="img" /></p><p><strong>æ€»ç»“ï¼š</strong></p><ul><li>dataä¸­æ‰€æœ‰çš„å±æ€§ï¼Œæœ€åéƒ½å‡ºç°åœ¨äº†vmèº«ä¸Š</li><li>vmèº«ä¸Šæ‰€æœ‰çš„å±æ€§ åŠ VueåŸå‹èº«ä¸Šæ‰€æœ‰çš„å±æ€§ï¼Œåœ¨Vueæ¨¡æ¿ä¸­éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨</li></ul><h3 id="vueä¸­çš„æ•°æ®ä»£ç†"><a class="markdownIt-Anchor" href="#vueä¸­çš„æ•°æ®ä»£ç†"></a> Vueä¸­çš„æ•°æ®ä»£ç†</h3><p><img src="https://img-blog.csdnimg.cn/img_convert/1fbebd52e39fa5a97210ee65d0a58069.png" alt="img" /></p><p><strong>æ€»ç»“ï¼š</strong></p><ol><li>Vueä¸­çš„æ•°æ®ä»£ç†é€šè¿‡vmå¯¹è±¡æ¥ä»£ç†dataå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™ï¼‰</li><li>Vueä¸­æ•°æ®ä»£ç†çš„å¥½å¤„ï¼šæ›´åŠ æ–¹ä¾¿çš„æ“ä½œdataä¸­çš„æ•°æ®</li><li>åŸºæœ¬åŸç†ï¼š<ul><li>é€šè¿‡<code>object.defineProperty()</code>æŠŠdataå¯¹è±¡ä¸­æ‰€æœ‰å±æ€§æ·»åŠ åˆ°vmä¸Šã€‚</li><li>ä¸ºæ¯ä¸€ä¸ªæ·»åŠ åˆ°vmä¸Šçš„å±æ€§ï¼Œéƒ½æŒ‡å®šä¸€ä¸ªgetter/setterã€‚</li><li>åœ¨getter/setterå†…éƒ¨å»æ“ä½œï¼ˆè¯»/å†™ï¼‰dataä¸­å¯¹åº”çš„å±æ€§ã€‚</li></ul></li></ol><h3 id="äº‹ä»¶å¤„ç†"><a class="markdownIt-Anchor" href="#äº‹ä»¶å¤„ç†"></a> äº‹ä»¶å¤„ç†</h3><h4 id="äº‹ä»¶çš„åŸºæœ¬ç”¨æ³•"><a class="markdownIt-Anchor" href="#äº‹ä»¶çš„åŸºæœ¬ç”¨æ³•"></a> äº‹ä»¶çš„åŸºæœ¬ç”¨æ³•</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>äº‹ä»¶çš„åŸºæœ¬ç”¨æ³•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>hello,&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;showInfo1&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo2($event,66)&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> </span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>, </span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>:<span class="string">&#x27;JOJO&#x27;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">showInfo1</span>(<span class="params">event</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(event)</span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">showInfo2</span>(<span class="params">evnet,num</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(event,num)</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ•ˆæœ-3"><a class="markdownIt-Anchor" href="#æ•ˆæœ-3"></a> æ•ˆæœ</h4><p><img src="https://img-blog.csdnimg.cn/img_convert/a3463fb07e6ae6d6acc288aaf19b0f8b.png" alt="img" /></p><p><strong>æ€»ç»“ï¼š</strong></p><ol><li>ä½¿ç”¨<code>v-on:xxx</code>æˆ–<code>@xxx</code>ç»‘å®šäº‹ä»¶ï¼Œå…¶ä¸­xxxæ˜¯äº‹ä»¶å</li><li>äº‹ä»¶çš„å›è°ƒéœ€è¦é…ç½®åœ¨methodså¯¹è±¡ä¸­ï¼Œæœ€ç»ˆä¼šåœ¨vmä¸Š</li><li>methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œ==ä¸è¦ç”¨ç®­å¤´å‡½æ•°ï¼==å¦åˆ™thiså°±ä¸æ˜¯vmäº†</li><li>methodsä¸­é…ç½®çš„å‡½æ•°ï¼Œéƒ½æ˜¯è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼Œthisçš„æŒ‡å‘æ˜¯vmæˆ–ç»„ä»¶å®ä¾‹å¯¹è±¡</li><li><code>@click=&quot;demo</code>å’Œ<code>@click=&quot;demo($event)&quot;</code>æ•ˆæœä¸€è‡´ï¼Œä½†åè€…å¯ä»¥ä¼ å‚</li></ol><h4 id="1-6-3-äº‹ä»¶ä¿®é¥°ç¬¦"><a class="markdownIt-Anchor" href="#1-6-3-äº‹ä»¶ä¿®é¥°ç¬¦"></a> 1. 6. 3 .äº‹ä»¶ä¿®é¥°ç¬¦</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 ..prevent:é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºevent.preventDefault()</span><br><span class="line">2 ..stop:åœæ­¢äº‹ä»¶å†’æ³¡event.stopPropagation()</span><br></pre></td></tr></table></figure><h4 id="1-6-4-æŒ‰é”®ä¿®é¥°ç¬¦"><a class="markdownIt-Anchor" href="#1-6-4-æŒ‰é”®ä¿®é¥°ç¬¦"></a> 1. 6. 4 .æŒ‰é”®ä¿®é¥°ç¬¦</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 .keycode:æ“ä½œçš„æ˜¯æŸä¸ªkeycodeå€¼çš„é”®</span><br><span class="line">2 ..keyName:æ“ä½œçš„æŸä¸ªæŒ‰é”®åçš„é”®(å°‘éƒ¨åˆ†)</span><br></pre></td></tr></table></figure><h3 id="1-7-è®¡ç®—å±æ€§ä¸ç›‘è§†"><a class="markdownIt-Anchor" href="#1-7-è®¡ç®—å±æ€§ä¸ç›‘è§†"></a> 1. 7 .è®¡ç®—å±æ€§ä¸ç›‘è§†</h3><h4 id="1-7-1-æ•ˆæœ"><a class="markdownIt-Anchor" href="#1-7-1-æ•ˆæœ"></a> 1. 7. 1 .æ•ˆæœ</h4><h4 id="1-7-2-è®¡ç®—å±æ€§-computed"><a class="markdownIt-Anchor" href="#1-7-2-è®¡ç®—å±æ€§-computed"></a> 1. 7. 2 .è®¡ç®—å±æ€§-computed</h4><h6 id="1-è¦æ˜¾ç¤ºçš„æ•°æ®ä¸å­˜åœ¨è¦é€šè¿‡è®¡ç®—å¾—æ¥"><a class="markdownIt-Anchor" href="#1-è¦æ˜¾ç¤ºçš„æ•°æ®ä¸å­˜åœ¨è¦é€šè¿‡è®¡ç®—å¾—æ¥"></a> 1. è¦æ˜¾ç¤ºçš„æ•°æ®ä¸å­˜åœ¨ï¼Œè¦é€šè¿‡è®¡ç®—å¾—æ¥ã€‚</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2. åœ¨computedå¯¹è±¡ä¸­å®šä¹‰è®¡ç®—å±æ€§ã€‚</span><br><span class="line">3. åœ¨é¡µé¢ä¸­ä½¿ç”¨&#123;&#123;æ–¹æ³•å&#125;&#125;æ¥æ˜¾ç¤ºè®¡ç®—çš„ç»“æœã€‚</span><br></pre></td></tr></table></figure><h4 id="1-7-3-ç›‘è§†å±æ€§-watch"><a class="markdownIt-Anchor" href="#1-7-3-ç›‘è§†å±æ€§-watch"></a> 1. 7. 3 .ç›‘è§†å±æ€§-watch</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. é€šè¿‡é€šè¿‡vmå¯¹è±¡çš„$watch()æˆ–watché…ç½®æ¥ç›‘è§†æŒ‡å®šçš„å±æ€§</span><br><span class="line">2. å½“å±æ€§å˜åŒ–æ—¶,å›è°ƒå‡½æ•°è‡ªåŠ¨è°ƒç”¨,åœ¨å‡½æ•°å†…éƒ¨è¿›è¡Œè®¡ç®—</span><br></pre></td></tr></table></figure><h3 id="1-8-class-ä¸-style-ç»‘å®š"><a class="markdownIt-Anchor" href="#1-8-class-ä¸-style-ç»‘å®š"></a> 1. 8 .class ä¸ style ç»‘å®š</h3><h4 id="1-8-1-ç†è§£"><a class="markdownIt-Anchor" href="#1-8-1-ç†è§£"></a> 1. 8. 1 .ç†è§£</h4><h6 id="1-åœ¨åº”ç”¨ç•Œé¢ä¸­æŸä¸ªäº›å…ƒç´ çš„æ ·å¼æ˜¯å˜åŒ–çš„"><a class="markdownIt-Anchor" href="#1-åœ¨åº”ç”¨ç•Œé¢ä¸­æŸä¸ªäº›å…ƒç´ çš„æ ·å¼æ˜¯å˜åŒ–çš„"></a> 1. åœ¨åº”ç”¨ç•Œé¢ä¸­,æŸä¸ª(äº›)å…ƒç´ çš„æ ·å¼æ˜¯å˜åŒ–çš„</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2. class/styleç»‘å®šå°±æ˜¯ä¸“é—¨ç”¨æ¥å®ç°åŠ¨æ€æ ·å¼æ•ˆæœçš„æŠ€æœ¯</span><br></pre></td></tr></table></figure><h4 id="1-8-2-class-ç»‘å®š"><a class="markdownIt-Anchor" href="#1-8-2-class-ç»‘å®š"></a> 1. 8. 2 .class ç»‘å®š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. :class=&#x27;xxx&#x27;</span><br><span class="line">2. è¡¨è¾¾å¼æ˜¯å­—ç¬¦ä¸²:&#x27;classA&#x27;</span><br><span class="line">3. è¡¨è¾¾å¼æ˜¯å¯¹è±¡:&#123;classA:isA,classB:isB&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4. è¡¨è¾¾å¼æ˜¯æ•°ç»„:[&#x27;classA&#x27;,&#x27;classB&#x27;]</span><br></pre></td></tr></table></figure><h4 id="1-8-3-style-ç»‘å®š"><a class="markdownIt-Anchor" href="#1-8-3-style-ç»‘å®š"></a> 1. 8. 3 .style ç»‘å®š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. :style=&quot;&#123;color:activeColor,fontSize:fontSize+&#x27;px&#x27;&#125;&quot;</span><br><span class="line">2. å…¶ä¸­activeColor/fontSizeæ˜¯dataå±æ€§</span><br></pre></td></tr></table></figure><h3 id="1-9-æ¡ä»¶æ¸²æŸ“"><a class="markdownIt-Anchor" href="#1-9-æ¡ä»¶æ¸²æŸ“"></a> 1. 9 .æ¡ä»¶æ¸²æŸ“</h3><h4 id="1-9-1-æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤"><a class="markdownIt-Anchor" href="#1-9-1-æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤"></a> 1. 9. 1 .æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. v-ifä¸v-else</span><br><span class="line">2. v-show</span><br></pre></td></tr></table></figure><h4 id="1-9-2-æ¯”è¾ƒ-v-if-ä¸-v-show"><a class="markdownIt-Anchor" href="#1-9-2-æ¯”è¾ƒ-v-if-ä¸-v-show"></a> 1. 9. 2 .æ¯”è¾ƒ v-if ä¸ v-show</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. å¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢v-showè¾ƒå¥½</span><br><span class="line">2. å½“æ¡ä»¶ä¸æˆç«‹æ—¶,v-ifçš„æ‰€æœ‰å­èŠ‚ç‚¹ä¸ä¼šè§£æ(é¡¹ç›®ä¸­ä½¿ç”¨)</span><br></pre></td></tr></table></figure><h3 id="1-10-åˆ—è¡¨æ¸²æŸ“"><a class="markdownIt-Anchor" href="#1-10-åˆ—è¡¨æ¸²æŸ“"></a> 1. 10 .åˆ—è¡¨æ¸²æŸ“</h3><h4 id="1-10-1-æ•ˆæœ"><a class="markdownIt-Anchor" href="#1-10-1-æ•ˆæœ"></a> 1. 10. 1 .æ•ˆæœ</h4><h4 id="1-10-2-åˆ—è¡¨æ˜¾ç¤ºæŒ‡ä»¤"><a class="markdownIt-Anchor" href="#1-10-2-åˆ—è¡¨æ˜¾ç¤ºæŒ‡ä»¤"></a> 1. 10. 2 .åˆ—è¡¨æ˜¾ç¤ºæŒ‡ä»¤</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">éå†æ•°ç»„:v-for/index</span><br><span class="line">éå†å¯¹è±¡:v-for/key</span><br></pre></td></tr></table></figure><h3 id="1-11-æ”¶é›†è¡¨å•æ•°æ®"><a class="markdownIt-Anchor" href="#1-11-æ”¶é›†è¡¨å•æ•°æ®"></a> 1. 11 .æ”¶é›†è¡¨å•æ•°æ®</h3><h3 id="1-12-è¿‡æ»¤å™¨"><a class="markdownIt-Anchor" href="#1-12-è¿‡æ»¤å™¨"></a> 1. 12 .è¿‡æ»¤å™¨</h3><h4 id="1-12-1-æ•ˆæœ"><a class="markdownIt-Anchor" href="#1-12-1-æ•ˆæœ"></a> 1. 12. 1 .æ•ˆæœ</h4><h4 id="1-12-2-ç†è§£è¿‡æ»¤å™¨"><a class="markdownIt-Anchor" href="#1-12-2-ç†è§£è¿‡æ»¤å™¨"></a> 1. 12. 2 .ç†è§£è¿‡æ»¤å™¨</h4><h6 id="1-åŠŸèƒ½å¯¹è¦æ˜¾ç¤ºçš„æ•°æ®è¿›è¡Œç‰¹å®šæ ¼å¼åŒ–åå†æ˜¾ç¤º"><a class="markdownIt-Anchor" href="#1-åŠŸèƒ½å¯¹è¦æ˜¾ç¤ºçš„æ•°æ®è¿›è¡Œç‰¹å®šæ ¼å¼åŒ–åå†æ˜¾ç¤º"></a> 1. åŠŸèƒ½:å¯¹è¦æ˜¾ç¤ºçš„æ•°æ®è¿›è¡Œç‰¹å®šæ ¼å¼åŒ–åå†æ˜¾ç¤º</h6><h6 id="2-æ³¨æ„å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„æ•°æ®æ˜¯äº§ç”Ÿæ–°çš„å¯¹åº”çš„æ•°æ®"><a class="markdownIt-Anchor" href="#2-æ³¨æ„å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„æ•°æ®æ˜¯äº§ç”Ÿæ–°çš„å¯¹åº”çš„æ•°æ®"></a> 2. æ³¨æ„:å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„æ•°æ®,æ˜¯äº§ç”Ÿæ–°çš„å¯¹åº”çš„æ•°æ®</h6><h3 id="1-13-å†…ç½®æŒ‡ä»¤ä¸è‡ªå®šä¹‰æŒ‡ä»¤"><a class="markdownIt-Anchor" href="#1-13-å†…ç½®æŒ‡ä»¤ä¸è‡ªå®šä¹‰æŒ‡ä»¤"></a> 1. 13 .å†…ç½®æŒ‡ä»¤ä¸è‡ªå®šä¹‰æŒ‡ä»¤</h3><h4 id="1-13-1-å¸¸ç”¨å†…ç½®æŒ‡ä»¤"><a class="markdownIt-Anchor" href="#1-13-1-å¸¸ç”¨å†…ç½®æŒ‡ä»¤"></a> 1. 13. 1 .å¸¸ç”¨å†…ç½®æŒ‡ä»¤</h4><p>1 .v-text:æ›´æ–°å…ƒç´ çš„ textContent<br />2 .v-html:æ›´æ–°å…ƒç´ çš„ innerHTML<br />3 .v-if:å¦‚æœä¸º true,å½“å‰æ ‡ç­¾æ‰ä¼šè¾“å‡ºåˆ°é¡µé¢<br />4 .v-else:å¦‚æœä¸º false,å½“å‰æ ‡ç­¾æ‰ä¼šè¾“å‡ºåˆ°é¡µé¢<br />5 .v-show:é€šè¿‡æ§åˆ¶ display æ ·å¼æ¥æ§åˆ¶æ˜¾ç¤º/éšè—<br />6 .v-for:éå†æ•°ç»„/å¯¹è±¡<br />7 .v-on:ç»‘å®šäº‹ä»¶ç›‘å¬,ä¸€èˆ¬ç®€å†™ä¸º@<br />8 .v-bind:ç»‘å®šè§£æè¡¨è¾¾å¼,å¯ä»¥çœç•¥ v-bind<br />9 .v-model:åŒå‘æ•°æ®ç»‘å®š<br />10 .v-cloak:é˜²æ­¢é—ªç°,ä¸ css é…åˆ:[v-cloak]{display:none}</p><h4 id="1-13-2-è‡ªå®šä¹‰æŒ‡ä»¤"><a class="markdownIt-Anchor" href="#1-13-2-è‡ªå®šä¹‰æŒ‡ä»¤"></a> 1. 13. 2 .è‡ªå®šä¹‰æŒ‡ä»¤</h4><h6 id="1-æ³¨å†Œå…¨å±€æŒ‡ä»¤"><a class="markdownIt-Anchor" href="#1-æ³¨å†Œå…¨å±€æŒ‡ä»¤"></a> 1. æ³¨å†Œå…¨å±€æŒ‡ä»¤</h6><p>Vue.directive(â€˜my-directiveâ€™,function(el,binding){<br />el.innerHTML=binding.value.toupperCase()<br />})<br /><strong>2. æ³¨å†Œå±€éƒ¨æŒ‡ä»¤</strong><br />directives:{<br />â€˜my-directiveâ€™:{<br />bind(el,binding){<br />el.innerHTML=binding.value.toupperCase()<br />}<br />}<br />}<br />1 ) ä½¿ç”¨æŒ‡ä»¤<br />v-my-directive=â€˜xxxâ€™</p><h3 id="1-14-vue-å®ä¾‹ç”Ÿå‘½å‘¨æœŸ"><a class="markdownIt-Anchor" href="#1-14-vue-å®ä¾‹ç”Ÿå‘½å‘¨æœŸ"></a> 1. 14 .Vue å®ä¾‹ç”Ÿå‘½å‘¨æœŸ</h3><h4 id="1-14-1-æ•ˆæœ"><a class="markdownIt-Anchor" href="#1-14-1-æ•ˆæœ"></a> 1. 14. 1 .æ•ˆæœ</h4><h4 id="1-14-2-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾"><a class="markdownIt-Anchor" href="#1-14-2-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾"></a> 1. 14. 2 .ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾</h4><h4 id="1-14-3-vue-ç”Ÿå‘½å‘¨æœŸåˆ†æ"><a class="markdownIt-Anchor" href="#1-14-3-vue-ç”Ÿå‘½å‘¨æœŸåˆ†æ"></a> 1. 14. 3 .vue ç”Ÿå‘½å‘¨æœŸåˆ†æ</h4><h6 id="1-åˆå§‹åŒ–æ˜¾ç¤º"><a class="markdownIt-Anchor" href="#1-åˆå§‹åŒ–æ˜¾ç¤º"></a> 1 ) åˆå§‹åŒ–æ˜¾ç¤º</h6><h5 id="beforecreate"><a class="markdownIt-Anchor" href="#beforecreate"></a> *beforeCreate()</h5><h5 id="created"><a class="markdownIt-Anchor" href="#created"></a> *created()</h5><h5 id="beforemount"><a class="markdownIt-Anchor" href="#beforemount"></a> *beforeMount()</h5><h5 id="mounted"><a class="markdownIt-Anchor" href="#mounted"></a> *mounted()</h5><p>2 ) æ›´æ–°çŠ¶æ€:this.xxx=value</p><h5 id="beforeupdate"><a class="markdownIt-Anchor" href="#beforeupdate"></a> *beforeUpdate()</h5><h5 id="updated"><a class="markdownIt-Anchor" href="#updated"></a> *updated()</h5><p>3 ) é”€æ¯ vue å®ä¾‹:vm.$destory()</p><h5 id="beforedestory"><a class="markdownIt-Anchor" href="#beforedestory"></a> *beforeDestory()</h5><h5 id="destoryed"><a class="markdownIt-Anchor" href="#destoryed"></a> *destoryed()</h5><h4 id="1-14-4-å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"><a class="markdownIt-Anchor" href="#1-14-4-å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"></a> 1. 14. 4 .å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. mounted():å‘é€ajaxè¯·æ±‚,å¯åŠ¨å®šæ—¶å™¨ç­‰å¼‚æ­¥ä»»åŠ¡</span><br><span class="line">2. beforeDestory():åšæ”¶å°¾å·¥ä½œ,å¦‚:æ¸…é™¤å®šæ—¶å™¨</span><br></pre></td></tr></table></figure><h2 id="ç¬¬-2-ç« vue-ç»„ä»¶åŒ–ç¼–ç¨‹"><a class="markdownIt-Anchor" href="#ç¬¬-2-ç« vue-ç»„ä»¶åŒ–ç¼–ç¨‹"></a> ç¬¬ 2 ç« ï¼šVue ç»„ä»¶åŒ–ç¼–ç¨‹</h2><h3 id="2-1-æ¨¡å—ä¸ç»„ä»¶-æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–"><a class="markdownIt-Anchor" href="#2-1-æ¨¡å—ä¸ç»„ä»¶-æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–"></a> 2. 1 æ¨¡å—ä¸ç»„ä»¶ã€æ¨¡å—åŒ–ä¸ç»„ä»¶åŒ–</h3><h4 id="2-1-1-æ¨¡å—"><a class="markdownIt-Anchor" href="#2-1-1-æ¨¡å—"></a> 2. 1. 1 .æ¨¡å—</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. ç†è§£:å‘å¤–æä¾›ç‰¹å®šåŠŸèƒ½çš„jsç¨‹åº,ä¸€èˆ¬å°±æ˜¯ä¸€ä¸ªjsæ–‡ä»¶</span><br><span class="line">2. ä¸ºä»€ä¹ˆ: jsæ–‡ä»¶å¾ˆå¤šå¾ˆå¤æ‚</span><br><span class="line">3. ä½œç”¨:å¤ç”¨js,ç®€åŒ–jsçš„ç¼–å†™,æé«˜jsè¿è¡Œæ•ˆç‡</span><br></pre></td></tr></table></figure><h4 id="2-1-2-ç»„ä»¶"><a class="markdownIt-Anchor" href="#2-1-2-ç»„ä»¶"></a> 2. 1. 2 .ç»„ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. ç†è§£:ç”¨æ¥å®ç°å±€éƒ¨(ç‰¹å®š)åŠŸèƒ½æ•ˆæœçš„ä»£ç é›†åˆ(html/css/js/image.....)</span><br><span class="line">2. ä¸ºä»€ä¹ˆ:ä¸€ä¸ªç•Œé¢çš„åŠŸèƒ½å¾ˆå¤æ‚</span><br></pre></td></tr></table></figure><h6 id="3-ä½œç”¨å¤ç”¨ç¼–ç ç®€åŒ–é¡¹ç›®ç¼–ç æé«˜è¿è¡Œæ•ˆç‡"><a class="markdownIt-Anchor" href="#3-ä½œç”¨å¤ç”¨ç¼–ç ç®€åŒ–é¡¹ç›®ç¼–ç æé«˜è¿è¡Œæ•ˆç‡"></a> 3. ä½œç”¨:å¤ç”¨ç¼–ç ,ç®€åŒ–é¡¹ç›®ç¼–ç ,æé«˜è¿è¡Œæ•ˆç‡</h6><h4 id="2-1-3-æ¨¡å—åŒ–"><a class="markdownIt-Anchor" href="#2-1-3-æ¨¡å—åŒ–"></a> 2. 1. 3 .æ¨¡å—åŒ–</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å½“åº”ç”¨ä¸­çš„jséƒ½ä»¥æ¨¡å—æ¥ç¼–å†™çš„,é‚£è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„åº”ç”¨ã€‚</span><br></pre></td></tr></table></figure><h4 id="2-1-4-ç»„ä»¶åŒ–"><a class="markdownIt-Anchor" href="#2-1-4-ç»„ä»¶åŒ–"></a> 2. 1. 4 .ç»„ä»¶åŒ–</h4><h6 id="å½“åº”ç”¨ä¸­çš„åŠŸèƒ½éƒ½æ˜¯å¤šç»„ä»¶çš„æ–¹å¼æ¥ç¼–å†™çš„é‚£è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨"><a class="markdownIt-Anchor" href="#å½“åº”ç”¨ä¸­çš„åŠŸèƒ½éƒ½æ˜¯å¤šç»„ä»¶çš„æ–¹å¼æ¥ç¼–å†™çš„é‚£è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨"></a> å½“åº”ç”¨ä¸­çš„åŠŸèƒ½éƒ½æ˜¯å¤šç»„ä»¶çš„æ–¹å¼æ¥ç¼–å†™çš„,é‚£è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨,ã€‚</h6><h3 id="2-2-éå•æ–‡ä»¶ç»„ä»¶"><a class="markdownIt-Anchor" href="#2-2-éå•æ–‡ä»¶ç»„ä»¶"></a> 2. 2 .éå•æ–‡ä»¶ç»„ä»¶</h3><h6 id="1-æ¨¡æ¿ç¼–å†™æ²¡æœ‰æç¤º"><a class="markdownIt-Anchor" href="#1-æ¨¡æ¿ç¼–å†™æ²¡æœ‰æç¤º"></a> 1. æ¨¡æ¿ç¼–å†™æ²¡æœ‰æç¤º</h6><h6 id="2-æ²¡æœ‰æ„å»ºè¿‡ç¨‹æ— æ³•å°†-es-6-è½¬æ¢æˆ-es-5"><a class="markdownIt-Anchor" href="#2-æ²¡æœ‰æ„å»ºè¿‡ç¨‹æ— æ³•å°†-es-6-è½¬æ¢æˆ-es-5"></a> 2. æ²¡æœ‰æ„å»ºè¿‡ç¨‹,æ— æ³•å°† ES 6 è½¬æ¢æˆ ES 5</h6><h6 id="3-ä¸æ”¯æŒç»„ä»¶çš„-css"><a class="markdownIt-Anchor" href="#3-ä¸æ”¯æŒç»„ä»¶çš„-css"></a> 3. ä¸æ”¯æŒç»„ä»¶çš„ CSS</h6><h6 id="4-çœŸæ­£å¼€å‘ä¸­å‡ ä¹ä¸ç”¨"><a class="markdownIt-Anchor" href="#4-çœŸæ­£å¼€å‘ä¸­å‡ ä¹ä¸ç”¨"></a> 4. çœŸæ­£å¼€å‘ä¸­å‡ ä¹ä¸ç”¨</h6><h3 id="2-3-å•æ–‡ä»¶ç»„ä»¶"><a class="markdownIt-Anchor" href="#2-3-å•æ–‡ä»¶ç»„ä»¶"></a> 2. 3 .å•æ–‡ä»¶ç»„ä»¶</h3><h4 id="2-3-1-ä¸€ä¸ªvue-æ–‡ä»¶çš„ç»„æˆ-3-ä¸ªéƒ¨åˆ†"><a class="markdownIt-Anchor" href="#2-3-1-ä¸€ä¸ªvue-æ–‡ä»¶çš„ç»„æˆ-3-ä¸ªéƒ¨åˆ†"></a> 2. 3. 1 .ä¸€ä¸ª.vue æ–‡ä»¶çš„ç»„æˆ( 3 ä¸ªéƒ¨åˆ†)</h4><h6 id="1-æ¨¡æ¿é¡µé¢"><a class="markdownIt-Anchor" href="#1-æ¨¡æ¿é¡µé¢"></a> 1. æ¨¡æ¿é¡µé¢</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">é¡µé¢æ¨¡æ¿</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h6 id="2-js-æ¨¡å—å¯¹è±¡"><a class="markdownIt-Anchor" href="#2-js-æ¨¡å—å¯¹è±¡"></a> 2. JS æ¨¡å—å¯¹è±¡</h6><script>exportdefault{data(){return{}},methods:{},computed:{},components:{}}</script><p><strong>3. æ ·å¼</strong></p><style>æ ·å¼å®šä¹‰</style><h4 id="2-3-2-åŸºæœ¬ä½¿ç”¨"><a class="markdownIt-Anchor" href="#2-3-2-åŸºæœ¬ä½¿ç”¨"></a> 2. 3. 2 .åŸºæœ¬ä½¿ç”¨</h4><h6 id="1-å¼•å…¥ç»„ä»¶"><a class="markdownIt-Anchor" href="#1-å¼•å…¥ç»„ä»¶"></a> 1. å¼•å…¥ç»„ä»¶</h6><h6 id="2-æ˜ å°„æˆæ ‡ç­¾"><a class="markdownIt-Anchor" href="#2-æ˜ å°„æˆæ ‡ç­¾"></a> 2. æ˜ å°„æˆæ ‡ç­¾</h6><h6 id="3-ä½¿ç”¨ç»„ä»¶æ ‡ç­¾"><a class="markdownIt-Anchor" href="#3-ä½¿ç”¨ç»„ä»¶æ ‡ç­¾"></a> 3. ä½¿ç”¨ç»„ä»¶æ ‡ç­¾</h6><h2 id="ç¬¬-3-ç« ä½¿ç”¨-vue-è„šæ‰‹æ¶"><a class="markdownIt-Anchor" href="#ç¬¬-3-ç« ä½¿ç”¨-vue-è„šæ‰‹æ¶"></a> ç¬¬ 3 ç« ï¼šä½¿ç”¨ Vue è„šæ‰‹æ¶</h2><h3 id="3-1-åˆå§‹åŒ–è„šæ‰‹æ¶"><a class="markdownIt-Anchor" href="#3-1-åˆå§‹åŒ–è„šæ‰‹æ¶"></a> 3. 1 åˆå§‹åŒ–è„šæ‰‹æ¶</h3><h4 id="3-1-1-è¯´æ˜"><a class="markdownIt-Anchor" href="#3-1-1-è¯´æ˜"></a> 3. 1. 1 è¯´æ˜</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. Vueè„šæ‰‹æ¶æ˜¯Vueå®˜æ–¹æä¾›çš„æ ‡å‡†åŒ–å¼€å‘å·¥å…·ï¼ˆå¼€å‘å¹³å°ï¼‰ã€‚</span><br><span class="line">2. æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ 4 .xã€‚</span><br><span class="line">3. æ–‡æ¡£:https://cli.vuejs.org/zh/ã€‚</span><br></pre></td></tr></table></figure><h3 id="3-1-2-å…·ä½“æ­¥éª¤"><a class="markdownIt-Anchor" href="#3-1-2-å…·ä½“æ­¥éª¤"></a> 3. 1. 2 å…·ä½“æ­¥éª¤</h3><p>ç¬¬ä¸€æ­¥ï¼ˆä»…ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼‰ï¼šå…¨å±€å®‰è£…@vue/cliã€‚<br />npminstall-g@vue/cli<br />ç¬¬äºŒæ­¥ï¼š <strong>åˆ‡æ¢åˆ°ä½ è¦åˆ›å»ºé¡¹ç›®çš„ç›®å½•</strong> ï¼Œç„¶åä½¿ç”¨å‘½ä»¤åˆ›å»ºé¡¹ç›®<br />vuecreatexxxx<br />ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨é¡¹ç›®<br />npmrunserve<br />å¤‡æ³¨ï¼š</p><ol><li><p>å¦‚ ht å‡º tp ç° s:/ä¸‹/re è½½ g ç¼“ ist æ…¢ ry è¯·.n é… pm ç½®.tanopbmao æ·˜.o å® rg é•œåƒï¼šnpmconfigsetregistry</p></li><li><p>Vue è„šæ‰‹æ¶éšè—äº†æ‰€æœ‰ webpack ç›¸å…³çš„é…ç½®ï¼Œè‹¥æƒ³æŸ¥çœ‹å…·ä½“çš„ webpakc é…ç½®ï¼Œ<br />è¯·æ‰§è¡Œï¼švueinspect&gt;output.js</p></li></ol><h4 id="3-1-3-æ¨¡æ¿é¡¹ç›®çš„ç»“æ„"><a class="markdownIt-Anchor" href="#3-1-3-æ¨¡æ¿é¡¹ç›®çš„ç»“æ„"></a> 3. 1. 3 æ¨¡æ¿é¡¹ç›®çš„ç»“æ„</h4><h5 id="node_modules"><a class="markdownIt-Anchor" href="#node_modules"></a> â”œâ”€â”€node_modules</h5><h5 id="public"><a class="markdownIt-Anchor" href="#public"></a> â”œâ”€â”€public</h5><h5 id="faviconicoé¡µç­¾å›¾æ ‡"><a class="markdownIt-Anchor" href="#faviconicoé¡µç­¾å›¾æ ‡"></a> â”‚ â”œâ”€â”€favicon.ico:é¡µç­¾å›¾æ ‡</h5><h5 id="indexhtmlä¸»é¡µé¢"><a class="markdownIt-Anchor" href="#indexhtmlä¸»é¡µé¢"></a> â”‚ â””â”€â”€index.html:ä¸»é¡µé¢</h5><h5 id="src"><a class="markdownIt-Anchor" href="#src"></a> â”œâ”€â”€src</h5><h5 id="assetså­˜æ”¾é™æ€èµ„æº"><a class="markdownIt-Anchor" href="#assetså­˜æ”¾é™æ€èµ„æº"></a> â”‚ â”œâ”€â”€assets:å­˜æ”¾é™æ€èµ„æº</h5><h5 id="logopng"><a class="markdownIt-Anchor" href="#logopng"></a> â”‚ â”‚ â””â”€â”€logo.png</h5><h5 id="componentå­˜æ”¾ç»„ä»¶"><a class="markdownIt-Anchor" href="#componentå­˜æ”¾ç»„ä»¶"></a> â”‚ â”‚â”€â”€component:å­˜æ”¾ç»„ä»¶</h5><h5 id="helloworldvue"><a class="markdownIt-Anchor" href="#helloworldvue"></a> â”‚ â”‚ â””â”€â”€HelloWorld.vue</h5><h5 id="appvueæ±‡æ€»æ‰€æœ‰ç»„ä»¶"><a class="markdownIt-Anchor" href="#appvueæ±‡æ€»æ‰€æœ‰ç»„ä»¶"></a> â”‚ â”‚â”€â”€App.vue:æ±‡æ€»æ‰€æœ‰ç»„ä»¶</h5><h5 id="mainjså…¥å£æ–‡ä»¶"><a class="markdownIt-Anchor" href="#mainjså…¥å£æ–‡ä»¶"></a> â”‚ â”‚â”€â”€main.js:å…¥å£æ–‡ä»¶</h5><h5 id="gitignoregit-ç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®"><a class="markdownIt-Anchor" href="#gitignoregit-ç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®"></a> â”œâ”€â”€.gitignore:git ç‰ˆæœ¬ç®¡åˆ¶å¿½ç•¥çš„é…ç½®</h5><h5 id="babelconfigjsbabel-çš„é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#babelconfigjsbabel-çš„é…ç½®æ–‡ä»¶"></a> â”œâ”€â”€babel.config.js:babel çš„é…ç½®æ–‡ä»¶</h5><h5 id="packagejsonåº”ç”¨åŒ…é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#packagejsonåº”ç”¨åŒ…é…ç½®æ–‡ä»¶"></a> â”œâ”€â”€package.json:åº”ç”¨åŒ…é…ç½®æ–‡ä»¶</h5><h5 id="readmemd"><a class="markdownIt-Anchor" href="#readmemd"></a> <a href="http://xn--README-2n7ca4w.md">â”œâ”€â”€README.md</a>:åº”ç”¨æè¿°æ–‡ä»¶</h5><h5 id="package-lockjsonåŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶"><a class="markdownIt-Anchor" href="#package-lockjsonåŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶"></a> â”œâ”€â”€package-lock.jsonï¼šåŒ…ç‰ˆæœ¬æ§åˆ¶æ–‡ä»¶</h5><h3 id="3-2-ref-ä¸-props"><a class="markdownIt-Anchor" href="#3-2-ref-ä¸-props"></a> 3. 2 ref ä¸ props</h3><h3 id="ref"><a class="markdownIt-Anchor" href="#ref"></a> ref</h3><h6 id="1-ä½œç”¨-ç”¨äºç»™èŠ‚ç‚¹æ‰“æ ‡è¯†"><a class="markdownIt-Anchor" href="#1-ä½œç”¨-ç”¨äºç»™èŠ‚ç‚¹æ‰“æ ‡è¯†"></a> 1 .ä½œç”¨ï¼š ç”¨äºç»™èŠ‚ç‚¹æ‰“æ ‡è¯†</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 .è¯»å–æ–¹å¼ï¼š this.$refs.xxxxxx</span><br></pre></td></tr></table></figure><h3 id="props"><a class="markdownIt-Anchor" href="#props"></a> props</h3><h6 id="1-ä½œç”¨-ç”¨äºçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’æ•°æ®"><a class="markdownIt-Anchor" href="#1-ä½œç”¨-ç”¨äºçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’æ•°æ®"></a> 1. ä½œç”¨ï¼š ç”¨äºçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’æ•°æ®</h6><h6 id="2-è¯»å–æ–¹å¼ä¸€åªæŒ‡å®šåç§°"><a class="markdownIt-Anchor" href="#2-è¯»å–æ–¹å¼ä¸€åªæŒ‡å®šåç§°"></a> 2. è¯»å–æ–¹å¼ä¸€:åªæŒ‡å®šåç§°</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">props:[&#x27;name&#x27;,&#x27;age&#x27;,&#x27;setName&#x27;]</span><br><span class="line">3. è¯»å–æ–¹å¼äºŒ:æŒ‡å®šåç§°å’Œç±»å‹</span><br><span class="line">props:&#123;</span><br><span class="line">name:String,</span><br><span class="line">age:Number,</span><br><span class="line">setNmae:Function</span><br><span class="line">&#125;</span><br><span class="line">4. è¯»å–æ–¹å¼ä¸‰:æŒ‡å®šåç§°/ç±»å‹/å¿…è¦æ€§/é»˜è®¤å€¼</span><br><span class="line">props:&#123;</span><br><span class="line">name:&#123;type:String,required:true,default:xxx&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-3-æ··å…¥"><a class="markdownIt-Anchor" href="#3-3-æ··å…¥"></a> 3. 3 æ··å…¥</h3><ol><li><p>Vue æ’ä»¶æ˜¯ä¸€ä¸ªåŒ…å« install æ–¹æ³•çš„å¯¹è±¡</p></li><li><p>é€šè¿‡ install æ–¹æ³•ç»™ Vue æˆ– Vue å®ä¾‹æ·»åŠ æ–¹æ³•,å®šä¹‰å…¨å±€æŒ‡ä»¤ç­‰</p></li></ol><h3 id="3-4-æ’ä»¶"><a class="markdownIt-Anchor" href="#3-4-æ’ä»¶"></a> 3. 4 æ’ä»¶</h3><ol><li>Vue æ’ä»¶æ˜¯ä¸€ä¸ªåŒ…å« install æ–¹æ³•çš„å¯¹è±¡</li><li>é€šè¿‡ install æ–¹æ³•ç»™ Vue æˆ– Vue å®ä¾‹æ·»åŠ æ–¹æ³•,å®šä¹‰å…¨å±€æŒ‡ä»¤ç­‰</li></ol><h3 id="3-5-todo-list-æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#3-5-todo-list-æ¡ˆä¾‹"></a> 3. 5 Todo-list æ¡ˆä¾‹</h3><h4 id="ç»„ä»¶åŒ–ç¼–ç æµç¨‹é€šç”¨"><a class="markdownIt-Anchor" href="#ç»„ä»¶åŒ–ç¼–ç æµç¨‹é€šç”¨"></a> ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼ˆé€šç”¨ï¼‰</h4><h6 id="1-å®ç°é™æ€ç»„ä»¶æŠ½å–ç»„ä»¶ä½¿ç”¨ç»„ä»¶å®ç°é™æ€é¡µé¢æ•ˆæœ"><a class="markdownIt-Anchor" href="#1-å®ç°é™æ€ç»„ä»¶æŠ½å–ç»„ä»¶ä½¿ç”¨ç»„ä»¶å®ç°é™æ€é¡µé¢æ•ˆæœ"></a> 1 .å®ç°é™æ€ç»„ä»¶ï¼šæŠ½å–ç»„ä»¶ï¼Œä½¿ç”¨ç»„ä»¶å®ç°é™æ€é¡µé¢æ•ˆæœ</h6><h6 id="2-å±•ç¤ºåŠ¨æ€æ•°æ®"><a class="markdownIt-Anchor" href="#2-å±•ç¤ºåŠ¨æ€æ•°æ®"></a> 2 .å±•ç¤ºåŠ¨æ€æ•°æ®ï¼š</h6><h6 id="2-1-æ•°æ®çš„ç±»å‹-åç§°æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#2-1-æ•°æ®çš„ç±»å‹-åç§°æ˜¯ä»€ä¹ˆ"></a> 2. 1 .æ•°æ®çš„ç±»å‹ã€åç§°æ˜¯ä»€ä¹ˆï¼Ÿ</h6><h6 id="2-2-æ•°æ®ä¿å­˜åœ¨å“ªä¸ªç»„ä»¶"><a class="markdownIt-Anchor" href="#2-2-æ•°æ®ä¿å­˜åœ¨å“ªä¸ªç»„ä»¶"></a> 2. 2 .æ•°æ®ä¿å­˜åœ¨å“ªä¸ªç»„ä»¶ï¼Ÿ</h6><h6 id="3-äº¤äº’ä»ç»‘å®šäº‹ä»¶ç›‘å¬å¼€å§‹"><a class="markdownIt-Anchor" href="#3-äº¤äº’ä»ç»‘å®šäº‹ä»¶ç›‘å¬å¼€å§‹"></a> 3 .äº¤äº’â€”â€”ä»ç»‘å®šäº‹ä»¶ç›‘å¬å¼€å§‹</h6><h3 id="3-6-vue-ä¸­çš„è‡ªå®šä¹‰äº‹ä»¶"><a class="markdownIt-Anchor" href="#3-6-vue-ä¸­çš„è‡ªå®šä¹‰äº‹ä»¶"></a> 3. 6 Vue ä¸­çš„è‡ªå®šä¹‰äº‹ä»¶</h3><h4 id="ç»‘å®šäº‹ä»¶ç›‘å¬"><a class="markdownIt-Anchor" href="#ç»‘å®šäº‹ä»¶ç›‘å¬"></a> ç»‘å®šäº‹ä»¶ç›‘å¬</h4><p>&lt; <strong>Header@addTodo=&quot;</strong> addTodo <strong>&quot;</strong> /&gt;<br />æˆ–è€…<br />&lt; <strong>tHheiasd</strong>. <strong>e$rrerfesf</strong>. <strong>=</strong> h <strong>&quot;</strong> e <strong>h</strong> a <strong>e</strong> d <strong>a</strong> e <strong>d</strong> r <strong>e</strong>. <strong>r</strong> $ <strong>&quot;</strong> o/n&gt;( <strong>â€˜addTodoâ€™</strong> , <strong>this</strong> .addTodo)</p><h4 id="è§¦å‘äº‹ä»¶"><a class="markdownIt-Anchor" href="#è§¦å‘äº‹ä»¶"></a> è§¦å‘äº‹ä»¶</h4><p><strong>this</strong> .$emit( <strong>â€˜addTodoâ€™</strong> , todo)</p><h3 id="3-7-å…¨å±€äº‹ä»¶æ€»çº¿"><a class="markdownIt-Anchor" href="#3-7-å…¨å±€äº‹ä»¶æ€»çº¿"></a> 3. 7 å…¨å±€äº‹ä»¶æ€»çº¿</h3><h4 id="3-7-1-ç†è§£"><a class="markdownIt-Anchor" href="#3-7-1-ç†è§£"></a> 3. 7. 1 ç†è§£</h4><ol><li>Vue åŸå‹å¯¹è±¡ä¸ŠåŒ…å«äº‹ä»¶å¤„ç†çš„æ–¹æ³•<br />1 ) $on(eventName,listener):ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ç›‘å¬<br />2 ) $emit(eventName,data):åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶<br />3 ) $off(eventName):è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ç›‘å¬<br />4 ) $once(eventName,listener):ç»‘å®šäº‹ä»¶ç›‘å¬,ä½†åªèƒ½å¤„ç†ä¸€æ¬¡</li><li>æ‰€æœ‰ç»„ä»¶å®ä¾‹å¯¹è±¡çš„åŸå‹å¯¹è±¡çš„åŸå‹å¯¹è±¡å°±æ˜¯ Vue çš„åŸå‹å¯¹è±¡</li></ol><p>1 ) æ‰€æœ‰ç»„ä»¶å¯¹è±¡éƒ½èƒ½çœ‹åˆ° Vue åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§å’Œæ–¹æ³•<br />2 ) Vue.prototype.<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>u</mi><mi>s</mi><mo>=</mo><mi>n</mi><mi>e</mi><mi>w</mi><mi>V</mi><mi>u</mi><mi>e</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mi mathvariant="normal">æ‰€</mi><mi mathvariant="normal">æœ‰</mi><mi mathvariant="normal">çš„</mi><mi mathvariant="normal">ç»„</mi><mi mathvariant="normal">ä»¶</mi><mi mathvariant="normal">å¯¹</mi><mi mathvariant="normal">è±¡</mi><mi mathvariant="normal">éƒ½</mi><mi mathvariant="normal">èƒ½</mi><mi mathvariant="normal">çœ‹</mi><mi mathvariant="normal">åˆ°</mi></mrow><annotation encoding="application/x-tex">bus=newVue(),æ‰€æœ‰çš„ç»„ä»¶å¯¹è±¡éƒ½èƒ½çœ‹åˆ°</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mord mathdefault">u</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mord mathdefault">u</span><span class="mord mathdefault">e</span><span class="mopen">(</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">æ‰€</span><span class="mord cjk_fallback">æœ‰</span><span class="mord cjk_fallback">çš„</span><span class="mord cjk_fallback">ç»„</span><span class="mord cjk_fallback">ä»¶</span><span class="mord cjk_fallback">å¯¹</span><span class="mord cjk_fallback">è±¡</span><span class="mord cjk_fallback">éƒ½</span><span class="mord cjk_fallback">èƒ½</span><span class="mord cjk_fallback">çœ‹</span><span class="mord cjk_fallback">åˆ°</span></span></span></span>bus è¿™ä¸ªå±æ€§<br />å¯¹è±¡ 3. å…¨å±€äº‹ä»¶æ€»çº¿<br />1 ) åŒ…å«äº‹ä»¶å¤„ç†ç›¸å…³æ–¹æ³•çš„å¯¹è±¡(åªæœ‰ä¸€ä¸ª)<br />2 ) æ‰€æœ‰çš„ç»„ä»¶éƒ½å¯ä»¥å¾—åˆ°</p><h4 id="3-7-2-æŒ‡å®šäº‹ä»¶æ€»çº¿å¯¹è±¡"><a class="markdownIt-Anchor" href="#3-7-2-æŒ‡å®šäº‹ä»¶æ€»çº¿å¯¹è±¡"></a> 3. 7. 2 æŒ‡å®šäº‹ä»¶æ€»çº¿å¯¹è±¡</h4><p><strong>new</strong> beVfuoer(e{Create () { <em>//</em> å°½é‡æ—©çš„æ‰§è¡ŒæŒ‚è½½å…¨å±€äº‹ä»¶æ€»çº¿å¯¹è±¡çš„æ“ä½œ</p><p>},Vue. <strong>prototype</strong>. **<span class='katex-error' title='ParseError: KaTeX parse error: Expected &#039;EOF&#039;, got &#039;}&#039; at position 29: â€¦s** = **this**}Ì²).'>globalEventBus** = **this**}).</span>mount( <strong>â€˜#rootâ€™</strong> )</p><h4 id="3-7-3-ç»‘å®šäº‹ä»¶"><a class="markdownIt-Anchor" href="#3-7-3-ç»‘å®šäº‹ä»¶"></a> 3. 7. 3 ç»‘å®šäº‹ä»¶</h4><p><strong>this</strong>. **<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>l</mi><mi>o</mi><mi>b</mi><mi>a</mi><mi>l</mi><mi>E</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>B</mi><mi>u</mi><mi>s</mi><mo>âˆ—</mo><mo>âˆ—</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">globalEventBus** .</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault">u</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">âˆ—</span><span class="mord">.</span></span></span></span>on( <strong>â€˜deleteTodoâ€™</strong> , <strong>this</strong> .deleteTodo)</p><h4 id="3-7-4-åˆ†å‘äº‹ä»¶"><a class="markdownIt-Anchor" href="#3-7-4-åˆ†å‘äº‹ä»¶"></a> 3. 7. 4 åˆ†å‘äº‹ä»¶</h4><p><strong>this</strong>. **<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>l</mi><mi>o</mi><mi>b</mi><mi>a</mi><mi>l</mi><mi>E</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>B</mi><mi>u</mi><mi>s</mi><mo>âˆ—</mo><mo>âˆ—</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">globalEventBus** .</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault">u</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">âˆ—</span><span class="mord">.</span></span></span></span>emit( <strong>â€˜deleteTodoâ€™</strong> , <strong>this</strong>. <strong>index</strong> )</p><h4 id="3-7-5-è§£ç»‘äº‹ä»¶"><a class="markdownIt-Anchor" href="#3-7-5-è§£ç»‘äº‹ä»¶"></a> 3. 7. 5 è§£ç»‘äº‹ä»¶</h4><p><strong>this</strong>. **<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>l</mi><mi>o</mi><mi>b</mi><mi>a</mi><mi>l</mi><mi>E</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>B</mi><mi>u</mi><mi>s</mi><mo>âˆ—</mo><mo>âˆ—</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">globalEventBus** .</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault">b</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault">u</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">âˆ—</span><span class="mord">.</span></span></span></span>off( <strong>â€˜deleteTodoâ€™</strong> )</p><h3 id="3-8-æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"><a class="markdownIt-Anchor" href="#3-8-æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ"></a> 3. 8 æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ</h3><h4 id="3-8-1-ç†è§£"><a class="markdownIt-Anchor" href="#3-8-1-ç†è§£"></a> 3. 8. 1 ç†è§£</h4><h6 id="1-è¿™ç§æ–¹å¼çš„æ€æƒ³ä¸å…¨å±€äº‹ä»¶æ€»çº¿å¾ˆç›¸ä¼¼"><a class="markdownIt-Anchor" href="#1-è¿™ç§æ–¹å¼çš„æ€æƒ³ä¸å…¨å±€äº‹ä»¶æ€»çº¿å¾ˆç›¸ä¼¼"></a> 1 .è¿™ç§æ–¹å¼çš„æ€æƒ³ä¸å…¨å±€äº‹ä»¶æ€»çº¿å¾ˆç›¸ä¼¼</h6><h6 id="2-å®ƒåŒ…å«ä»¥ä¸‹æ“ä½œ"><a class="markdownIt-Anchor" href="#2-å®ƒåŒ…å«ä»¥ä¸‹æ“ä½œ"></a> 2 .å®ƒåŒ…å«ä»¥ä¸‹æ“ä½œ:</h6><h6 id="1-è®¢é˜…æ¶ˆæ¯å¯¹åº”ç»‘å®šäº‹ä»¶ç›‘å¬"><a class="markdownIt-Anchor" href="#1-è®¢é˜…æ¶ˆæ¯å¯¹åº”ç»‘å®šäº‹ä»¶ç›‘å¬"></a> ( 1 ) è®¢é˜…æ¶ˆæ¯â€“å¯¹åº”ç»‘å®šäº‹ä»¶ç›‘å¬</h6><h6 id="2-å‘å¸ƒæ¶ˆæ¯åˆ†å‘äº‹ä»¶"><a class="markdownIt-Anchor" href="#2-å‘å¸ƒæ¶ˆæ¯åˆ†å‘äº‹ä»¶"></a> ( 2 ) å‘å¸ƒæ¶ˆæ¯â€“åˆ†å‘äº‹ä»¶</h6><h6 id="3-å–æ¶ˆæ¶ˆæ¯è®¢é˜…è§£ç»‘äº‹ä»¶ç›‘å¬"><a class="markdownIt-Anchor" href="#3-å–æ¶ˆæ¶ˆæ¯è®¢é˜…è§£ç»‘äº‹ä»¶ç›‘å¬"></a> ( 3 ) å–æ¶ˆæ¶ˆæ¯è®¢é˜…â€“è§£ç»‘äº‹ä»¶ç›‘å¬</h6><p>3 .éœ€è¦å¼•å…¥ä¸€ä¸ªæ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒçš„ç¬¬ä¸‰æ–¹å®ç°åº“: <strong>PubSubJS</strong></p><h4 id="3-8-2-ä½¿ç”¨-pubsubjs"><a class="markdownIt-Anchor" href="#3-8-2-ä½¿ç”¨-pubsubjs"></a> 3. 8. 2 ä½¿ç”¨ PubSubJS</h4><h5 id="1-åœ¨çº¿æ–‡æ¡£httpsgithubcommroderickpubsubjs"><a class="markdownIt-Anchor" href="#1-åœ¨çº¿æ–‡æ¡£httpsgithubcommroderickpubsubjs"></a> 1 .åœ¨çº¿æ–‡æ¡£:<a href="https://github.com/mroderick/PubSubJS">https://github.com/mroderick/PubSubJS</a></h5><p>2 .ä¸‹è½½:npminstall-Spubsub-js<br />3 .ç›¸å…³è¯­æ³•<br />( 1 ) importPubSubfromâ€™pubsub-jsâ€™ //å¼•å…¥<br />( 2 ) PubSub.subscribe(â€˜msgNameâ€™,functon(msgName,data){})<br />( 3 ) PubSub.publish(â€˜msgNameâ€™,data):å‘å¸ƒæ¶ˆæ¯,è§¦å‘è®¢é˜…çš„å›è°ƒå‡½æ•°è°ƒç”¨<br />( 4 ) PubSub.unsubscribe(token):å–æ¶ˆæ¶ˆæ¯çš„è®¢é˜…</p><h3 id="3-9-è¿‡åº¦ä¸åŠ¨ç”»"><a class="markdownIt-Anchor" href="#3-9-è¿‡åº¦ä¸åŠ¨ç”»"></a> 3. 9 è¿‡åº¦ä¸åŠ¨ç”»</h3><h4 id="3-9-1-æ•ˆæœ"><a class="markdownIt-Anchor" href="#3-9-1-æ•ˆæœ"></a> 3. 9. 1 æ•ˆæœ</h4><h4 id="3-9-2-vue-åŠ¨ç”»çš„ç†è§£"><a class="markdownIt-Anchor" href="#3-9-2-vue-åŠ¨ç”»çš„ç†è§£"></a> 3. 9. 2 vue åŠ¨ç”»çš„ç†è§£</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 .æ“ä½œcssçš„trasitionæˆ–animation</span><br><span class="line">2 .vueä¼šç»™ç›®æ ‡å…ƒç´ æ·»åŠ /ç§»é™¤ç‰¹å®šçš„class</span><br><span class="line">3 .è¿‡æ¸¡çš„ç›¸å…³ç±»åï¼š</span><br><span class="line">1 .xxx-enter-active:æŒ‡å®šæ˜¾ç¤ºçš„transition</span><br><span class="line">2 .xxx-leave-active:æŒ‡å®šéšè—çš„transition</span><br><span class="line">3 .xxx-enter/xxx-leave-to:æŒ‡å®šéšè—æ—¶çš„æ ·å¼</span><br></pre></td></tr></table></figure><h4 id="3-9-3-åŸºæœ¬è¿‡æ¸¡åŠ¨ç”»çš„ç¼–ç "><a class="markdownIt-Anchor" href="#3-9-3-åŸºæœ¬è¿‡æ¸¡åŠ¨ç”»çš„ç¼–ç "></a> 3. 9. 3 åŸºæœ¬è¿‡æ¸¡åŠ¨ç”»çš„ç¼–ç </h4><ol><li>åœ¨ç›®æ ‡å…ƒç´ å¤–åŒ…è£¹&lt;transitionname=â€œxxxâ€&gt;</li><li>å®šä¹‰ class æ ·å¼<br />a) æŒ‡å®šè¿‡æ¸¡æ ·å¼:transition<br />b) æŒ‡å®šéšè—æ—¶çš„æ ·å¼:opacity/å…¶å®ƒ</li></ol><h2 id="ç¬¬-4-ç« vue-ä¸­çš„-ajax"><a class="markdownIt-Anchor" href="#ç¬¬-4-ç« vue-ä¸­çš„-ajax"></a> ç¬¬ 4 ç« ï¼šVue ä¸­çš„ ajax</h2><h3 id="4-1-è§£å†³å¼€å‘ç¯å¢ƒ-ajax-è·¨åŸŸé—®é¢˜"><a class="markdownIt-Anchor" href="#4-1-è§£å†³å¼€å‘ç¯å¢ƒ-ajax-è·¨åŸŸé—®é¢˜"></a> 4. 1 è§£å†³å¼€å‘ç¯å¢ƒ Ajax è·¨åŸŸé—®é¢˜</h3><h6 id="ä½¿ç”¨ä»£ç†æœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#ä½¿ç”¨ä»£ç†æœåŠ¡å™¨"></a> ä½¿ç”¨ä»£ç†æœåŠ¡å™¨</h6><h3 id="4-2-github-ç”¨æˆ·æœç´¢æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#4-2-github-ç”¨æˆ·æœç´¢æ¡ˆä¾‹"></a> 4. 2 github ç”¨æˆ·æœç´¢æ¡ˆä¾‹</h3><h3 id="4-2-1-æ•ˆæœ"><a class="markdownIt-Anchor" href="#4-2-1-æ•ˆæœ"></a> 4. 2. 1 æ•ˆæœ</h3><h3 id="4-2-2-æ¥å£åœ°å€"><a class="markdownIt-Anchor" href="#4-2-2-æ¥å£åœ°å€"></a> 4. 2. 2 æ¥å£åœ°å€</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://api.github.com/search/users?q=xxx</span><br></pre></td></tr></table></figure><h3 id="4-3-vue-é¡¹ç›®ä¸­å¸¸ç”¨çš„-2-ä¸ª-ajax-åº“"><a class="markdownIt-Anchor" href="#4-3-vue-é¡¹ç›®ä¸­å¸¸ç”¨çš„-2-ä¸ª-ajax-åº“"></a> 4. 3 vue é¡¹ç›®ä¸­å¸¸ç”¨çš„ 2 ä¸ª Ajax åº“</h3><h4 id="4-3-1-axios"><a class="markdownIt-Anchor" href="#4-3-1-axios"></a> 4. 3. 1 axios</h4><p>é€šç”¨çš„ Ajax è¯·æ±‚åº“,å®˜æ–¹æ¨èï¼Œä½¿ç”¨å¹¿æ³›</p><h4 id="4-3-2-vue-resource"><a class="markdownIt-Anchor" href="#4-3-2-vue-resource"></a> 4. 3. 2 vue-resource</h4><p>vue æ’ä»¶åº“,vue 1 .x ä½¿ç”¨å¹¿æ³›ï¼Œ <strong>å®˜æ–¹å·²ä¸ç»´æŠ¤ã€‚</strong></p><h3 id="4-4-slot-æ’æ§½"><a class="markdownIt-Anchor" href="#4-4-slot-æ’æ§½"></a> 4. 4 slot æ’æ§½</h3><h4 id="4-4-1-æ•ˆæœ"><a class="markdownIt-Anchor" href="#4-4-1-æ•ˆæœ"></a> 4. 4. 1 æ•ˆæœ</h4><h6 id="æ•ˆæœä¸€ä¸ä½¿ç”¨æ’æ§½"><a class="markdownIt-Anchor" href="#æ•ˆæœä¸€ä¸ä½¿ç”¨æ’æ§½"></a> æ•ˆæœä¸€ï¼ˆä¸ä½¿ç”¨æ’æ§½ï¼‰ï¼š</h6><h6 id="æ•ˆæœäºŒé»˜è®¤æ’æ§½"><a class="markdownIt-Anchor" href="#æ•ˆæœäºŒé»˜è®¤æ’æ§½"></a> æ•ˆæœäºŒï¼ˆé»˜è®¤æ’æ§½ï¼‰ï¼š</h6><h6 id="æ•ˆæœä¸‰å…·åæ’æ§½"><a class="markdownIt-Anchor" href="#æ•ˆæœä¸‰å…·åæ’æ§½"></a> æ•ˆæœä¸‰ï¼ˆå…·åæ’æ§½ï¼‰ï¼š</h6><h6 id="æ•ˆæœä¸‰ä½œç”¨åŸŸæ’æ§½"><a class="markdownIt-Anchor" href="#æ•ˆæœä¸‰ä½œç”¨åŸŸæ’æ§½"></a> æ•ˆæœä¸‰ï¼ˆä½œç”¨åŸŸæ’æ§½ï¼‰ï¼š</h6><h4 id="4-4-1-ç†è§£"><a class="markdownIt-Anchor" href="#4-4-1-ç†è§£"></a> 4. 4. 1 ç†è§£</h4><h6 id="çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å¸¦æ•°æ®çš„æ ‡ç­¾å½“ä¸€ä¸ªç»„ä»¶æœ‰ä¸ç¡®å®šçš„ç»“æ„æ—¶å°±éœ€è¦ä½¿ç”¨"><a class="markdownIt-Anchor" href="#çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å¸¦æ•°æ®çš„æ ‡ç­¾å½“ä¸€ä¸ªç»„ä»¶æœ‰ä¸ç¡®å®šçš„ç»“æ„æ—¶å°±éœ€è¦ä½¿ç”¨"></a> çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å¸¦æ•°æ®çš„æ ‡ç­¾ï¼Œå½“ä¸€ä¸ªç»„ä»¶æœ‰ä¸ç¡®å®šçš„ç»“æ„æ—¶,å°±éœ€è¦ä½¿ç”¨</h6><p>slot æŠ€æœ¯ï¼Œæ³¨æ„ï¼šæ’æ§½å†…å®¹æ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­ç¼–è¯‘å,å†ä¼ é€’ç»™å­ç»„ä»¶çš„ã€‚</p><h4 id="4-4-2-åˆ†ç±»"><a class="markdownIt-Anchor" href="#4-4-2-åˆ†ç±»"></a> 4. 4. 2 åˆ†ç±»</h4><h6 id="1-é»˜è®¤æ’æ§½"><a class="markdownIt-Anchor" href="#1-é»˜è®¤æ’æ§½"></a> 1 .é»˜è®¤æ’æ§½</h6><h6 id="2-å‘½åæ’æ§½"><a class="markdownIt-Anchor" href="#2-å‘½åæ’æ§½"></a> 2 .å‘½åæ’æ§½</h6><h6 id="3-ä½œç”¨åŸŸæ’æ§½"><a class="markdownIt-Anchor" href="#3-ä½œç”¨åŸŸæ’æ§½"></a> 3 .ä½œç”¨åŸŸæ’æ§½</h6><h2 id="ç¬¬-5-ç« vuex"><a class="markdownIt-Anchor" href="#ç¬¬-5-ç« vuex"></a> ç¬¬ 5 ç« ï¼švuex</h2><h3 id="5-1-ç†è§£-vuex"><a class="markdownIt-Anchor" href="#5-1-ç†è§£-vuex"></a> 5. 1 ç†è§£ vuex</h3><h4 id="5-1-1-vuex-æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#5-1-1-vuex-æ˜¯ä»€ä¹ˆ"></a> 5. 1. 1 vuex æ˜¯ä»€ä¹ˆ</h4><ol><li>æ¦‚å¿µï¼šä¸“é—¨åœ¨ Vue ä¸­å®ç°é›†ä¸­å¼çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ä¸ª Vue æ’ä»¶ï¼Œå¯¹ vue åº”<br />ç”¨ä¸­å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼ˆè¯»/å†™ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹<br />å¼ï¼Œä¸”é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚</li><li>Github åœ°å€:<a href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a></li></ol><h4 id="5-1-2-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨-vuex"><a class="markdownIt-Anchor" href="#5-1-2-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨-vuex"></a> 5. 1. 2 ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ Vuex</h4><h6 id="1-å¤šä¸ªç»„ä»¶ä¾èµ–äºåŒä¸€çŠ¶æ€"><a class="markdownIt-Anchor" href="#1-å¤šä¸ªç»„ä»¶ä¾èµ–äºåŒä¸€çŠ¶æ€"></a> 1 .å¤šä¸ªç»„ä»¶ä¾èµ–äºåŒä¸€çŠ¶æ€</h6><h6 id="2-æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€"><a class="markdownIt-Anchor" href="#2-æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€"></a> 2 .æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€</h6><h4 id="5-1-3-æ¡ˆä¾‹"><a class="markdownIt-Anchor" href="#5-1-3-æ¡ˆä¾‹"></a> 5. 1. 3 æ¡ˆä¾‹</h4><h4 id="5-1-4-vuex-å·¥ä½œåŸç†å›¾"><a class="markdownIt-Anchor" href="#5-1-4-vuex-å·¥ä½œåŸç†å›¾"></a> 5. 1. 4 Vuex å·¥ä½œåŸç†å›¾</h4><h3 id="5-2-vuex-æ ¸å¿ƒæ¦‚å¿µå’Œ-api"><a class="markdownIt-Anchor" href="#5-2-vuex-æ ¸å¿ƒæ¦‚å¿µå’Œ-api"></a> 5. 2 vuex æ ¸å¿ƒæ¦‚å¿µå’Œ API</h3><h3 id="5-2-1-state"><a class="markdownIt-Anchor" href="#5-2-1-state"></a> 5. 2. 1 state</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 .vuexç®¡ç†çš„çŠ¶æ€å¯¹è±¡</span><br><span class="line">2 .å®ƒåº”è¯¥æ˜¯å”¯ä¸€çš„</span><br><span class="line">3 .ç¤ºä¾‹ä»£ç ï¼š</span><br></pre></td></tr></table></figure><h3 id="5-2-2-actions"><a class="markdownIt-Anchor" href="#5-2-2-actions"></a> 5. 2. 2 actions</h3><h6 id="1-å€¼ä¸ºä¸€ä¸ªå¯¹è±¡åŒ…å«å¤šä¸ªå“åº”ç”¨æˆ·åŠ¨ä½œçš„å›è°ƒå‡½æ•°"><a class="markdownIt-Anchor" href="#1-å€¼ä¸ºä¸€ä¸ªå¯¹è±¡åŒ…å«å¤šä¸ªå“åº”ç”¨æˆ·åŠ¨ä½œçš„å›è°ƒå‡½æ•°"></a> 1 .å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¤šä¸ªå“åº”ç”¨æˆ·åŠ¨ä½œçš„å›è°ƒå‡½æ•°</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 .é€šè¿‡commit()æ¥è§¦å‘mutationä¸­å‡½æ•°çš„è°ƒç”¨,é—´æ¥æ›´æ–°state</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3 .å¦‚ä½•è§¦å‘actionsä¸­çš„å›è°ƒï¼Ÿ</span><br><span class="line">åœ¨ç»„ä»¶ä¸­ä½¿ç”¨: $store.dispatch(&#x27;å¯¹åº”çš„actionå›è°ƒå&#x27;) è§¦å‘</span><br><span class="line">4 .å¯ä»¥åŒ…å«å¼‚æ­¥ä»£ç ï¼ˆå®šæ—¶å™¨,ajaxç­‰ç­‰ï¼‰</span><br><span class="line">5 .ç¤ºä¾‹ä»£ç ï¼š</span><br></pre></td></tr></table></figure><h3 id="5-2-3-mutations"><a class="markdownIt-Anchor" href="#5-2-3-mutations"></a> 5. 2. 3 mutations</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 .å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¤šä¸ªç›´æ¥æ›´æ–°stateçš„æ–¹æ³•</span><br><span class="line">2 .è°èƒ½è°ƒç”¨mutationsä¸­çš„æ–¹æ³•ï¼Ÿå¦‚ä½•è°ƒç”¨ï¼Ÿ</span><br><span class="line">åœ¨actionä¸­ä½¿ç”¨ï¼š commit(&#x27;å¯¹åº”çš„mutationsæ–¹æ³•å&#x27;) è§¦å‘</span><br><span class="line">3 .mutationsä¸­æ–¹æ³•çš„ç‰¹ç‚¹ï¼šä¸èƒ½å†™å¼‚æ­¥ä»£ç ã€åªèƒ½å•çº¯çš„æ“ä½œstate</span><br><span class="line">4 .ç¤ºä¾‹ä»£ç ï¼š</span><br></pre></td></tr></table></figure><h3 id="5-2-4-getters"><a class="markdownIt-Anchor" href="#5-2-4-getters"></a> 5. 2. 4 getters</h3><h6 id="1-å€¼ä¸ºä¸€ä¸ªå¯¹è±¡åŒ…å«å¤šä¸ªç”¨äºè¿”å›æ•°æ®çš„å‡½æ•°"><a class="markdownIt-Anchor" href="#1-å€¼ä¸ºä¸€ä¸ªå¯¹è±¡åŒ…å«å¤šä¸ªç”¨äºè¿”å›æ•°æ®çš„å‡½æ•°"></a> 1 .å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¤šä¸ªç”¨äºè¿”å›æ•°æ®çš„å‡½æ•°</h6><h5 id="2-å¦‚ä½•ä½¿ç”¨-storegettersxxx"><a class="markdownIt-Anchor" href="#2-å¦‚ä½•ä½¿ç”¨-storegettersxxx"></a> 2 .å¦‚ä½•ä½¿ç”¨ï¼Ÿâ€”â€” $<a href="http://store.getters.xxx">store.getters.xxx</a></h5><h6 id="3-ç¤ºä¾‹ä»£ç "><a class="markdownIt-Anchor" href="#3-ç¤ºä¾‹ä»£ç "></a> 3 .ç¤ºä¾‹ä»£ç ï¼š</h6><h3 id="5-2-5-modules"><a class="markdownIt-Anchor" href="#5-2-5-modules"></a> 5. 2. 5 modules</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 .åŒ…å«å¤šä¸ªmodule</span><br><span class="line">2 .ä¸€ä¸ªmoduleæ˜¯ä¸€ä¸ªstoreçš„é…ç½®å¯¹è±¡</span><br><span class="line">3 .ä¸ä¸€ä¸ªç»„ä»¶ï¼ˆåŒ…å«æœ‰å…±äº«æ•°æ®ï¼‰å¯¹åº”</span><br></pre></td></tr></table></figure><h2 id="ç¬¬-6-ç« vue-router"><a class="markdownIt-Anchor" href="#ç¬¬-6-ç« vue-router"></a> ç¬¬ 6 ç« ï¼švue-router</h2><h3 id="6-1-ç›¸å…³ç†è§£"><a class="markdownIt-Anchor" href="#6-1-ç›¸å…³ç†è§£"></a> 6. 1 ç›¸å…³ç†è§£</h3><h4 id="6-1-1-vue-router-çš„ç†è§£"><a class="markdownIt-Anchor" href="#6-1-1-vue-router-çš„ç†è§£"></a> 6. 1. 1 vue-router çš„ç†è§£</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vueçš„ä¸€ä¸ªæ’ä»¶åº“ï¼Œä¸“é—¨ç”¨æ¥å®ç°SPAåº”ç”¨</span><br></pre></td></tr></table></figure><h4 id="6-1-2-å¯¹-spa-åº”ç”¨çš„ç†è§£"><a class="markdownIt-Anchor" href="#6-1-2-å¯¹-spa-åº”ç”¨çš„ç†è§£"></a> 6. 1. 2 å¯¹ SPA åº”ç”¨çš„ç†è§£</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. å•é¡µWebåº”ç”¨ï¼ˆsinglepagewebapplicationï¼ŒSPAï¼‰ã€‚</span><br><span class="line">2. æ•´ä¸ªåº”ç”¨åªæœ‰ ä¸€ä¸ªå®Œæ•´çš„é¡µé¢ ã€‚</span><br><span class="line">3. ç‚¹å‡»é¡µé¢ä¸­çš„å¯¼èˆªé“¾æ¥ ä¸ä¼šåˆ·æ–° é¡µé¢ï¼Œåªä¼šåšé¡µé¢çš„ å±€éƒ¨æ›´æ–°ã€‚</span><br><span class="line">4. æ•°æ®éœ€è¦é€šè¿‡ajaxè¯·æ±‚è·å–ã€‚</span><br></pre></td></tr></table></figure><h4 id="6-1-3-è·¯ç”±çš„ç†è§£"><a class="markdownIt-Anchor" href="#6-1-3-è·¯ç”±çš„ç†è§£"></a> 6. 1. 3 è·¯ç”±çš„ç†è§£</h4><h6 id="1-ä»€ä¹ˆæ˜¯è·¯ç”±"><a class="markdownIt-Anchor" href="#1-ä»€ä¹ˆæ˜¯è·¯ç”±"></a> 1. ä»€ä¹ˆæ˜¯è·¯ç”±?</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1. ä¸€ä¸ªè·¯ç”±å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey-valueï¼‰</span><br><span class="line">2. keyä¸ºè·¯å¾„,valueå¯èƒ½æ˜¯functionæˆ–component</span><br><span class="line">2. è·¯ç”±åˆ†ç±»</span><br><span class="line">1. åç«¯è·¯ç”±ï¼š</span><br><span class="line">1 ) ç†è§£ï¼švalueæ˜¯function,ç”¨äºå¤„ç†å®¢æˆ·ç«¯æäº¤çš„è¯·æ±‚ã€‚</span><br><span class="line">2 ) å·¥ä½œè¿‡ç¨‹ï¼šæœåŠ¡å™¨æ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚æ—¶,æ ¹æ® è¯·æ±‚è·¯å¾„ æ‰¾åˆ°åŒ¹é…çš„ å‡½æ•°</span><br><span class="line">æ¥å¤„ç†è¯·æ±‚,è¿”å›å“åº”æ•°æ®ã€‚</span><br><span class="line">2. å‰ç«¯è·¯ç”±ï¼š</span><br><span class="line">1 ) ç†è§£ï¼švalueæ˜¯componentï¼Œç”¨äºå±•ç¤ºé¡µé¢å†…å®¹ã€‚</span><br><span class="line">2 ) å·¥ä½œè¿‡ç¨‹ï¼šå½“æµè§ˆå™¨çš„è·¯å¾„æ”¹å˜æ—¶,å¯¹åº”çš„ç»„ä»¶å°±ä¼šæ˜¾ç¤ºã€‚</span><br></pre></td></tr></table></figure><h3 id="6-2-åŸºæœ¬è·¯ç”±"><a class="markdownIt-Anchor" href="#6-2-åŸºæœ¬è·¯ç”±"></a> 6. 2 åŸºæœ¬è·¯ç”±</h3><h4 id="6-2-1-æ•ˆæœ"><a class="markdownIt-Anchor" href="#6-2-1-æ•ˆæœ"></a> 6. 2. 1 æ•ˆæœ</h4><h4 id="6-2-2-æ€»ç»“ç¼–å†™ä½¿ç”¨è·¯ç”±çš„-3-æ­¥"><a class="markdownIt-Anchor" href="#6-2-2-æ€»ç»“ç¼–å†™ä½¿ç”¨è·¯ç”±çš„-3-æ­¥"></a> 6. 2. 2 æ€»ç»“:ç¼–å†™ä½¿ç”¨è·¯ç”±çš„ 3 æ­¥</h4><h6 id="1-å®šä¹‰è·¯ç”±ç»„ä»¶"><a class="markdownIt-Anchor" href="#1-å®šä¹‰è·¯ç”±ç»„ä»¶"></a> 1. å®šä¹‰è·¯ç”±ç»„ä»¶</h6><h6 id="2-æ³¨å†Œè·¯ç”±"><a class="markdownIt-Anchor" href="#2-æ³¨å†Œè·¯ç”±"></a> 2. æ³¨å†Œè·¯ç”±</h6><h6 id="3-ä½¿ç”¨è·¯ç”±"><a class="markdownIt-Anchor" href="#3-ä½¿ç”¨è·¯ç”±"></a> 3. ä½¿ç”¨è·¯ç”±</h6><h3 id="6-3-åµŒå¥—å¤šçº§è·¯ç”±"><a class="markdownIt-Anchor" href="#6-3-åµŒå¥—å¤šçº§è·¯ç”±"></a> 6. 3 åµŒå¥—ï¼ˆå¤šçº§ï¼‰è·¯ç”±</h3><h3 id="6-4-è·¯ç”±ä¼ å‚"><a class="markdownIt-Anchor" href="#6-4-è·¯ç”±ä¼ å‚"></a> 6. 4 è·¯ç”±ä¼ å‚</h3><h3 id="6-5-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"><a class="markdownIt-Anchor" href="#6-5-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"></a> 6. 5 ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª</h3><h5 id="ç›¸å…³-api"><a class="markdownIt-Anchor" href="#ç›¸å…³-api"></a> ç›¸å…³ APIï¼š</h5><ol><li>this.$router.push(path):ç›¸å½“äºç‚¹å‡»è·¯ç”±é“¾æ¥(å¯ä»¥è¿”å›åˆ°å½“å‰è·¯ç”±ç•Œé¢)</li><li>this.$router.replace(path):ç”¨æ–°è·¯ç”±æ›¿æ¢å½“å‰è·¯ç”±(ä¸å¯ä»¥è¿”å›åˆ°å½“å‰è·¯ç”±ç•Œé¢)</li><li>this.$router.back():è¯·æ±‚(è¿”å›)ä¸Šä¸€ä¸ªè®°å½•è·¯ç”±</li><li>this.$router.go(- 1 ):è¯·æ±‚(è¿”å›)ä¸Šä¸€ä¸ªè®°å½•è·¯ç”±</li><li>this.$router.go( 1 ):è¯·æ±‚ä¸‹ä¸€ä¸ªè®°å½•è·¯ç”±</li></ol><h2 id="ç¬¬-7-ç« vue-ui-ç»„ä»¶åº“"><a class="markdownIt-Anchor" href="#ç¬¬-7-ç« vue-ui-ç»„ä»¶åº“"></a> ç¬¬ 7 ç« ï¼šVue UI ç»„ä»¶åº“</h2><h4 id="7-1-ç§»åŠ¨ç«¯å¸¸ç”¨-ui-ç»„ä»¶åº“"><a class="markdownIt-Anchor" href="#7-1-ç§»åŠ¨ç«¯å¸¸ç”¨-ui-ç»„ä»¶åº“"></a> 7. 1 ç§»åŠ¨ç«¯å¸¸ç”¨ UI ç»„ä»¶åº“</h4><ol><li>Vant <a href="https://youzan.github.io/vant">https://youzan.github.io/vant</a></li><li>CubeUI <a href="https://didi.github.io/cube-ui">https://didi.github.io/cube-ui</a></li><li>MintUI <a href="http://mint-ui.github.io">http://mint-ui.github.io</a></li></ol><h4 id="7-2-pc-ç«¯å¸¸ç”¨-ui-ç»„ä»¶åº“"><a class="markdownIt-Anchor" href="#7-2-pc-ç«¯å¸¸ç”¨-ui-ç»„ä»¶åº“"></a> 7. 2 PC ç«¯å¸¸ç”¨ UI ç»„ä»¶åº“</h4><ol><li>ElementUI <a href="https://element.eleme.cn">https://element.eleme.cn</a></li><li>IViewUI <a href="https://www.iviewui.com">https://www.iviewui.com</a></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;tip home&quot;&gt;&lt;p&gt;ğŸ“å­¦ä¹ èµ„æ–™ï¼š&lt;a href=&quot;https://www.bilibili.com/video/BV1Zy4y1K7SH&quot;&gt;å°šç¡…è°·å¤©ç¦¹Vue&lt;/a&gt;&lt;br /&gt;
ğŸš©æ—¶é—´å®‰æ’ï¼šé¢„è®¡5å¤©æ›´æ–°å®Œ&lt;br /&gt;
ğŸ¯å¼€å§‹æ—¶é—´ï¼š05-21&lt;b</summary>
      
    
    
    
    <category term="Vue" scheme="https://serms.top/categories/Vue/"/>
    
    <category term="ç¼–ç¨‹ç¬”è®°" scheme="https://serms.top/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Vueå¤©ç¦¹è€å¸ˆç¬”è®°" scheme="https://serms.top/categories/Vue/Vue%E5%A4%A9%E7%A6%B9%E8%80%81%E5%B8%88%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Vue" scheme="https://serms.top/tags/Vue/"/>
    
    <category term="ç¼–ç¨‹ç¬”è®°" scheme="https://serms.top/tags/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Vueå­¦ä¹ ç¬”è®°(å°šç¡…è°·å¤©ç¦¹è€å¸ˆ)" scheme="https://serms.top/tags/Vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A9%E7%A6%B9%E8%80%81%E5%B8%88/"/>
    
  </entry>
  
  <entry>
    <title>Springå¸¸è§é¢è¯•é¢˜</title>
    <link href="https://serms.top/posts/5dd00982/"/>
    <id>https://serms.top/posts/5dd00982/</id>
    <published>2022-05-04T10:28:38.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€èˆ¬é—®é¢˜"><a class="markdownIt-Anchor" href="#ä¸€èˆ¬é—®é¢˜"></a> ä¸€èˆ¬é—®é¢˜</h2><h3 id="ä¸åŒç‰ˆæœ¬çš„-spring-framework-æœ‰å“ªäº›ä¸»è¦åŠŸèƒ½"><a class="markdownIt-Anchor" href="#ä¸åŒç‰ˆæœ¬çš„-spring-framework-æœ‰å“ªäº›ä¸»è¦åŠŸèƒ½"></a> ä¸åŒç‰ˆæœ¬çš„ Spring Framework æœ‰å“ªäº›ä¸»è¦åŠŸèƒ½ï¼Ÿ</h3><table><thead><tr><th>Version</th><th>Feature</th></tr></thead><tbody><tr><td>Spring 2.5</td><td>å‘å¸ƒäº 2007 å¹´ã€‚è¿™æ˜¯ç¬¬ä¸€ä¸ªæ”¯æŒæ³¨è§£çš„ç‰ˆæœ¬ã€‚</td></tr><tr><td>Spring 3.0</td><td>å‘å¸ƒäº 2009 å¹´ã€‚å®ƒå®Œå…¨åˆ©ç”¨äº† Java5 ä¸­çš„æ”¹è¿›ï¼Œå¹¶ä¸º JEE6 æä¾›äº†æ”¯æŒã€‚</td></tr><tr><td>Spring 4.0</td><td>å‘å¸ƒäº 2013 å¹´ã€‚è¿™æ˜¯ç¬¬ä¸€ä¸ªå®Œå…¨æ”¯æŒ JAVA8 çš„ç‰ˆæœ¬ã€‚</td></tr></tbody></table><h3 id="ä»€ä¹ˆæ˜¯-spring-framework"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-spring-framework"></a> ä»€ä¹ˆæ˜¯ Spring Frameworkï¼Ÿ</h3><ul><li>Spring æ˜¯ä¸€ä¸ªå¼€æºåº”ç”¨æ¡†æ¶ï¼Œæ—¨åœ¨é™ä½åº”ç”¨ç¨‹åºå¼€å‘çš„å¤æ‚åº¦ã€‚</li><li>å®ƒæ˜¯è½»é‡çº§ã€æ¾æ•£è€¦åˆçš„ã€‚</li><li>å®ƒå…·æœ‰åˆ†å±‚ä½“ç³»ç»“æ„ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©ç»„ä»¶ï¼ŒåŒæ—¶è¿˜ä¸º J2EE åº”ç”¨ç¨‹åºå¼€å‘æä¾›äº†ä¸€ä¸ªæœ‰å‡èšåŠ›çš„æ¡†æ¶ã€‚</li><li>å®ƒå¯ä»¥é›†æˆå…¶ä»–æ¡†æ¶ï¼Œå¦‚ Structsã€Hibernateã€EJB ç­‰ï¼Œæ‰€ä»¥åˆç§°ä¸ºæ¡†æ¶çš„æ¡†æ¶ã€‚</li></ul><h3 id="åˆ—ä¸¾-spring-framework-çš„ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#åˆ—ä¸¾-spring-framework-çš„ä¼˜ç‚¹"></a> åˆ—ä¸¾ Spring Framework çš„ä¼˜ç‚¹ã€‚</h3><ul><li>ç”±äº Spring Frameworks çš„åˆ†å±‚æ¶æ„ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±é€‰æ‹©è‡ªå·±éœ€è¦çš„ç»„ä»¶ã€‚</li><li>Spring Framework æ”¯æŒ POJO(Plain Old Java Object) ç¼–ç¨‹ï¼Œä»è€Œå…·å¤‡æŒç»­é›†æˆå’Œå¯æµ‹è¯•æ€§ã€‚</li><li>ç”±äºä¾èµ–æ³¨å…¥å’Œæ§åˆ¶åè½¬ï¼ŒJDBC å¾—ä»¥ç®€åŒ–ã€‚</li><li>å®ƒæ˜¯å¼€æºå…è´¹çš„ã€‚</li></ul><h3 id="spring-framework-æœ‰å“ªäº›ä¸åŒçš„åŠŸèƒ½"><a class="markdownIt-Anchor" href="#spring-framework-æœ‰å“ªäº›ä¸åŒçš„åŠŸèƒ½"></a> Spring Framework æœ‰å“ªäº›ä¸åŒçš„åŠŸèƒ½ï¼Ÿ</h3><ul><li><strong>è½»é‡çº§</strong> - Spring åœ¨ä»£ç é‡å’Œé€æ˜åº¦æ–¹é¢éƒ½å¾ˆè½»ä¾¿ã€‚</li><li><strong>IOC</strong> - æ§åˆ¶åè½¬</li><li><strong>AOP</strong> - é¢å‘åˆ‡é¢ç¼–ç¨‹å¯ä»¥å°†åº”ç”¨ä¸šåŠ¡é€»è¾‘å’Œç³»ç»ŸæœåŠ¡åˆ†ç¦»ï¼Œä»¥å®ç°é«˜å†…èšã€‚</li><li><strong>å®¹å™¨</strong> - Spring è´Ÿè´£åˆ›å»ºå’Œç®¡ç†å¯¹è±¡ï¼ˆBeanï¼‰çš„ç”Ÿå‘½å‘¨æœŸå’Œé…ç½®ã€‚</li><li><strong>MVC</strong> - å¯¹ web åº”ç”¨æä¾›äº†é«˜åº¦å¯é…ç½®æ€§ï¼Œå…¶ä»–æ¡†æ¶çš„é›†æˆä¹Ÿååˆ†æ–¹ä¾¿ã€‚</li><li><strong>äº‹åŠ¡ç®¡ç†</strong> - æä¾›äº†ç”¨äºäº‹åŠ¡ç®¡ç†çš„é€šç”¨æŠ½è±¡å±‚ã€‚Spring çš„äº‹åŠ¡æ”¯æŒä¹Ÿå¯ç”¨äºå®¹å™¨è¾ƒå°‘çš„ç¯å¢ƒã€‚</li><li><strong>JDBC å¼‚å¸¸</strong> - Spring çš„ JDBC æŠ½è±¡å±‚æä¾›äº†ä¸€ä¸ªå¼‚å¸¸å±‚æ¬¡ç»“æ„ï¼Œç®€åŒ–äº†é”™è¯¯å¤„ç†ç­–ç•¥ã€‚</li></ul><h3 id="spring-framework-ä¸­æœ‰å¤šå°‘ä¸ªæ¨¡å—å®ƒä»¬åˆ†åˆ«æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#spring-framework-ä¸­æœ‰å¤šå°‘ä¸ªæ¨¡å—å®ƒä»¬åˆ†åˆ«æ˜¯ä»€ä¹ˆ"></a> Spring Framework ä¸­æœ‰å¤šå°‘ä¸ªæ¨¡å—ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ul><li><p>Spring æ ¸å¿ƒå®¹å™¨</p><p>â€“ è¯¥å±‚åŸºæœ¬ä¸Šæ˜¯ Spring Framework çš„æ ¸å¿ƒã€‚å®ƒåŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š</p><ul><li>Spring Core</li><li>Spring Bean</li><li>SpEL (Spring Expression Language)</li><li>Spring Context</li></ul></li><li><p>æ•°æ®è®¿é—®/é›†æˆ</p><p>â€“ è¯¥å±‚æä¾›ä¸æ•°æ®åº“äº¤äº’çš„æ”¯æŒã€‚å®ƒåŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š</p><ul><li>JDBC (Java DataBase Connectivity)</li><li>ORM (Object Relational Mapping)</li><li>OXM (Object XML Mappers)</li><li>JMS (Java Messaging Service)</li><li>Transaction</li></ul></li><li><p>Web</p><p>â€“ è¯¥å±‚æä¾›äº†åˆ›å»º Web åº”ç”¨ç¨‹åºçš„æ”¯æŒã€‚å®ƒåŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š</p><ul><li>Web</li><li>Web â€“ Servlet</li><li>Web â€“ Socket</li><li>Web â€“ Portlet</li></ul></li><li><p><strong>AOP</strong> â€“ è¯¥å±‚æ”¯æŒé¢å‘åˆ‡é¢ç¼–ç¨‹</p></li><li><p><strong>Instrumentation</strong> â€“ è¯¥å±‚ä¸ºç±»æ£€æµ‹å’Œç±»åŠ è½½å™¨å®ç°æä¾›æ”¯æŒã€‚</p></li><li><p><strong>Test</strong> â€“ è¯¥å±‚ä¸ºä½¿ç”¨ JUnit å’Œ TestNG è¿›è¡Œæµ‹è¯•æä¾›æ”¯æŒã€‚</p></li><li><p>å‡ ä¸ªæ‚é¡¹æ¨¡å—:</p><ul><li>Messaging â€“ è¯¥æ¨¡å—ä¸º STOMP æä¾›æ”¯æŒã€‚å®ƒè¿˜æ”¯æŒæ³¨è§£ç¼–ç¨‹æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ç”¨äºä» WebSocket å®¢æˆ·ç«¯è·¯ç”±å’Œå¤„ç† STOMP æ¶ˆæ¯ã€‚</li><li>Aspects â€“ è¯¥æ¨¡å—ä¸ºä¸ AspectJ çš„é›†æˆæä¾›æ”¯æŒã€‚</li></ul></li></ul><h3 id="ä»€ä¹ˆæ˜¯-spring-é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-spring-é…ç½®æ–‡ä»¶"></a> ä»€ä¹ˆæ˜¯ Spring é…ç½®æ–‡ä»¶ï¼Ÿ</h3><p>Spring é…ç½®æ–‡ä»¶æ˜¯ XML æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ä¸»è¦åŒ…å«ç±»ä¿¡æ¯ã€‚å®ƒæè¿°äº†è¿™äº›ç±»æ˜¯å¦‚ä½•é…ç½®ä»¥åŠç›¸äº’å¼•å…¥çš„ã€‚ä½†æ˜¯ï¼ŒXML é…ç½®æ–‡ä»¶å†—é•¿ä¸”æ›´åŠ å¹²å‡€ã€‚å¦‚æœæ²¡æœ‰æ­£ç¡®è§„åˆ’å’Œç¼–å†™ï¼Œé‚£ä¹ˆåœ¨å¤§é¡¹ç›®ä¸­ç®¡ç†å˜å¾—éå¸¸å›°éš¾ã€‚</p><h3 id="spring-åº”ç”¨ç¨‹åºæœ‰å“ªäº›ä¸åŒç»„ä»¶"><a class="markdownIt-Anchor" href="#spring-åº”ç”¨ç¨‹åºæœ‰å“ªäº›ä¸åŒç»„ä»¶"></a> Spring åº”ç”¨ç¨‹åºæœ‰å“ªäº›ä¸åŒç»„ä»¶ï¼Ÿ</h3><p>Spring åº”ç”¨ä¸€èˆ¬æœ‰ä»¥ä¸‹ç»„ä»¶ï¼š</p><ul><li><strong>æ¥å£</strong> - å®šä¹‰åŠŸèƒ½ã€‚</li><li><strong>Bean ç±»</strong> - å®ƒåŒ…å«å±æ€§ï¼Œsetter å’Œ getter æ–¹æ³•ï¼Œå‡½æ•°ç­‰ã€‚</li><li><strong>Spring é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰</strong> - æä¾›é¢å‘åˆ‡é¢ç¼–ç¨‹çš„åŠŸèƒ½ã€‚</li><li><strong>Bean é…ç½®æ–‡ä»¶</strong> - åŒ…å«ç±»çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•é…ç½®å®ƒä»¬ã€‚</li><li><strong>ç”¨æˆ·ç¨‹åº</strong> - å®ƒä½¿ç”¨æ¥å£ã€‚</li></ul><h3 id="ä½¿ç”¨-spring-æœ‰å“ªäº›æ–¹å¼"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-spring-æœ‰å“ªäº›æ–¹å¼"></a> ä½¿ç”¨ Spring æœ‰å“ªäº›æ–¹å¼ï¼Ÿ</h3><p>ä½¿ç”¨ Spring æœ‰ä»¥ä¸‹æ–¹å¼ï¼š</p><ul><li>ä½œä¸ºä¸€ä¸ªæˆç†Ÿçš„ Spring Web åº”ç”¨ç¨‹åºã€‚</li><li>ä½œä¸ºç¬¬ä¸‰æ–¹ Web æ¡†æ¶ï¼Œä½¿ç”¨ Spring Frameworks ä¸­é—´å±‚ã€‚</li><li>ç”¨äºè¿œç¨‹ä½¿ç”¨ã€‚</li><li>ä½œä¸ºä¼ä¸šçº§ Java Beanï¼Œå®ƒå¯ä»¥åŒ…è£…ç°æœ‰çš„ POJOï¼ˆPlain Old Java Objectsï¼‰ã€‚</li></ul><h2 id="ä¾èµ–æ³¨å…¥ioc"><a class="markdownIt-Anchor" href="#ä¾èµ–æ³¨å…¥ioc"></a> ä¾èµ–æ³¨å…¥ï¼ˆIocï¼‰</h2><h3 id="ä»€ä¹ˆæ˜¯-spring-ioc-å®¹å™¨"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-spring-ioc-å®¹å™¨"></a> ä»€ä¹ˆæ˜¯ Spring IOC å®¹å™¨ï¼Ÿ</h3><p>Spring æ¡†æ¶çš„æ ¸å¿ƒæ˜¯ Spring å®¹å™¨ã€‚å®¹å™¨åˆ›å»ºå¯¹è±¡ï¼Œå°†å®ƒä»¬è£…é…åœ¨ä¸€èµ·ï¼Œé…ç½®å®ƒä»¬å¹¶ç®¡ç†å®ƒä»¬çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸã€‚Spring å®¹å™¨ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¥ç®¡ç†ç»„æˆåº”ç”¨ç¨‹åºçš„ç»„ä»¶ã€‚å®¹å™¨é€šè¿‡è¯»å–æä¾›çš„é…ç½®å…ƒæ•°æ®æ¥æ¥æ”¶å¯¹è±¡è¿›è¡Œå®ä¾‹åŒ–ï¼Œé…ç½®å’Œç»„è£…çš„æŒ‡ä»¤ã€‚è¯¥å…ƒæ•°æ®å¯ä»¥é€šè¿‡ XMLï¼ŒJava æ³¨è§£æˆ– Java ä»£ç æä¾›ã€‚</p><p><img src="https://upload-images.jianshu.io/upload_images/3101171-33099411d16ca051.png" alt="img" /></p><h3 id="ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥"></a> ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Ÿ</h3><p>åœ¨ä¾èµ–æ³¨å…¥ä¸­ï¼Œæ‚¨ä¸å¿…åˆ›å»ºå¯¹è±¡ï¼Œä½†å¿…é¡»æè¿°å¦‚ä½•åˆ›å»ºå®ƒä»¬ã€‚æ‚¨ä¸æ˜¯ç›´æ¥åœ¨ä»£ç ä¸­å°†ç»„ä»¶å’ŒæœåŠ¡è¿æ¥åœ¨ä¸€èµ·ï¼Œè€Œæ˜¯æè¿°é…ç½®æ–‡ä»¶ä¸­å“ªäº›ç»„ä»¶éœ€è¦å“ªäº›æœåŠ¡ã€‚ç”± IoC å®¹å™¨å°†å®ƒä»¬è£…é…åœ¨ä¸€èµ·ã€‚</p><h3 id="å¯ä»¥é€šè¿‡å¤šå°‘ç§æ–¹å¼å®Œæˆä¾èµ–æ³¨å…¥"><a class="markdownIt-Anchor" href="#å¯ä»¥é€šè¿‡å¤šå°‘ç§æ–¹å¼å®Œæˆä¾èµ–æ³¨å…¥"></a> å¯ä»¥é€šè¿‡å¤šå°‘ç§æ–¹å¼å®Œæˆä¾èµ–æ³¨å…¥ï¼Ÿ</h3><p>é€šå¸¸ï¼Œä¾èµ–æ³¨å…¥å¯ä»¥é€šè¿‡ä¸‰ç§æ–¹å¼å®Œæˆï¼Œå³ï¼š</p><ul><li>æ„é€ å‡½æ•°æ³¨å…¥</li><li>setter æ³¨å…¥</li><li>æ¥å£æ³¨å…¥</li></ul><p>åœ¨ Spring Framework ä¸­ï¼Œä»…ä½¿ç”¨æ„é€ å‡½æ•°å’Œ setter æ³¨å…¥ã€‚</p><h3 id="åŒºåˆ†æ„é€ å‡½æ•°æ³¨å…¥å’Œ-setter-æ³¨å…¥"><a class="markdownIt-Anchor" href="#åŒºåˆ†æ„é€ å‡½æ•°æ³¨å…¥å’Œ-setter-æ³¨å…¥"></a> åŒºåˆ†æ„é€ å‡½æ•°æ³¨å…¥å’Œ setter æ³¨å…¥ã€‚</h3><table><thead><tr><th>æ„é€ å‡½æ•°æ³¨å…¥</th><th>setter æ³¨å…¥</th></tr></thead><tbody><tr><td>æ²¡æœ‰éƒ¨åˆ†æ³¨å…¥</td><td>æœ‰éƒ¨åˆ†æ³¨å…¥</td></tr><tr><td>ä¸ä¼šè¦†ç›– setter å±æ€§</td><td>ä¼šè¦†ç›– setter å±æ€§</td></tr><tr><td>ä»»æ„ä¿®æ”¹éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹</td><td>ä»»æ„ä¿®æ”¹ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹</td></tr><tr><td>é€‚ç”¨äºè®¾ç½®å¾ˆå¤šå±æ€§</td><td>é€‚ç”¨äºè®¾ç½®å°‘é‡å±æ€§</td></tr></tbody></table><h3 id="spring-ä¸­æœ‰å¤šå°‘ç§-ioc-å®¹å™¨"><a class="markdownIt-Anchor" href="#spring-ä¸­æœ‰å¤šå°‘ç§-ioc-å®¹å™¨"></a> spring ä¸­æœ‰å¤šå°‘ç§ IOC å®¹å™¨ï¼Ÿ</h3><ul><li>BeanFactory - BeanFactory å°±åƒä¸€ä¸ªåŒ…å« bean é›†åˆçš„å·¥å‚ç±»ã€‚å®ƒä¼šåœ¨å®¢æˆ·ç«¯è¦æ±‚æ—¶å®ä¾‹åŒ– beanã€‚</li><li>ApplicationContext - ApplicationContext æ¥å£æ‰©å±•äº† BeanFactory æ¥å£ã€‚å®ƒåœ¨ BeanFactory åŸºç¡€ä¸Šæä¾›äº†ä¸€äº›é¢å¤–çš„åŠŸèƒ½ã€‚</li></ul><h3 id="åŒºåˆ†-beanfactory-å’Œ-applicationcontext"><a class="markdownIt-Anchor" href="#åŒºåˆ†-beanfactory-å’Œ-applicationcontext"></a> åŒºåˆ† BeanFactory å’Œ ApplicationContextã€‚</h3><table><thead><tr><th>BeanFactory</th><th>ApplicationContext</th></tr></thead><tbody><tr><td>å®ƒä½¿ç”¨æ‡’åŠ è½½</td><td>å®ƒä½¿ç”¨å³æ—¶åŠ è½½</td></tr><tr><td>å®ƒä½¿ç”¨è¯­æ³•æ˜¾å¼æä¾›èµ„æºå¯¹è±¡</td><td>å®ƒè‡ªå·±åˆ›å»ºå’Œç®¡ç†èµ„æºå¯¹è±¡</td></tr><tr><td>ä¸æ”¯æŒå›½é™…åŒ–</td><td>æ”¯æŒå›½é™…åŒ–</td></tr><tr><td>ä¸æ”¯æŒåŸºäºä¾èµ–çš„æ³¨è§£</td><td>æ”¯æŒåŸºäºä¾èµ–çš„æ³¨è§£</td></tr></tbody></table><h3 id="åˆ—ä¸¾-ioc-çš„ä¸€äº›å¥½å¤„"><a class="markdownIt-Anchor" href="#åˆ—ä¸¾-ioc-çš„ä¸€äº›å¥½å¤„"></a> åˆ—ä¸¾ IoC çš„ä¸€äº›å¥½å¤„ã€‚</h3><p>IoC çš„ä¸€äº›å¥½å¤„æ˜¯ï¼š</p><ul><li>å®ƒå°†æœ€å°åŒ–åº”ç”¨ç¨‹åºä¸­çš„ä»£ç é‡ã€‚</li><li>å®ƒå°†ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºæ˜“äºæµ‹è¯•ï¼Œå› ä¸ºå®ƒä¸éœ€è¦å•å…ƒæµ‹è¯•ç”¨ä¾‹ä¸­çš„ä»»ä½•å•ä¾‹æˆ– JNDI æŸ¥æ‰¾æœºåˆ¶ã€‚</li><li>å®ƒä»¥æœ€å°çš„å½±å“å’Œæœ€å°‘çš„ä¾µå…¥æœºåˆ¶ä¿ƒè¿›æ¾è€¦åˆã€‚</li><li>å®ƒæ”¯æŒå³æ—¶çš„å®ä¾‹åŒ–å’Œå»¶è¿ŸåŠ è½½æœåŠ¡ã€‚</li></ul><h3 id="spring-ioc-çš„å®ç°æœºåˆ¶"><a class="markdownIt-Anchor" href="#spring-ioc-çš„å®ç°æœºåˆ¶"></a> Spring IoC çš„å®ç°æœºåˆ¶ã€‚</h3><p>Spring ä¸­çš„ IoC çš„å®ç°åŸç†å°±æ˜¯å·¥å‚æ¨¡å¼åŠ åå°„æœºåˆ¶ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Fruit</span> &#123;</span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Apple</span> <span class="keyword">implements</span> <span class="title class_">Fruit</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Apple&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Orange</span> <span class="keyword">implements</span> <span class="title class_">Fruit</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Orange&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Factory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Fruit <span class="title function_">getInstance</span><span class="params">(String ClassName)</span> &#123;</span><br><span class="line">        Fruit f=<span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            f=(Fruit)Class.forName(ClassName).newInstance();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> f;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] a)</span> &#123;</span><br><span class="line">        Fruit f=Factory.getInstance(<span class="string">&quot;io.github.dunwu.spring.Apple&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(f!=<span class="literal">null</span>)&#123;</span><br><span class="line">            f.eat();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="beans"><a class="markdownIt-Anchor" href="#beans"></a> Beans</h2><h3 id="ä»€ä¹ˆæ˜¯-spring-bean"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-spring-bean"></a> ä»€ä¹ˆæ˜¯ spring beanï¼Ÿ</h3><ul><li>å®ƒä»¬æ˜¯æ„æˆç”¨æˆ·åº”ç”¨ç¨‹åºä¸»å¹²çš„å¯¹è±¡ã€‚</li><li>Bean ç”± Spring IoC å®¹å™¨ç®¡ç†ã€‚</li><li>å®ƒä»¬ç”± Spring IoC å®¹å™¨å®ä¾‹åŒ–ï¼Œé…ç½®ï¼Œè£…é…å’Œç®¡ç†ã€‚</li><li>Bean æ˜¯åŸºäºç”¨æˆ·æä¾›ç»™å®¹å™¨çš„é…ç½®å…ƒæ•°æ®åˆ›å»ºã€‚</li></ul><h3 id="spring-æä¾›äº†å“ªäº›é…ç½®æ–¹å¼"><a class="markdownIt-Anchor" href="#spring-æä¾›äº†å“ªäº›é…ç½®æ–¹å¼"></a> spring æä¾›äº†å“ªäº›é…ç½®æ–¹å¼ï¼Ÿ</h3><ul><li>åŸºäº xml é…ç½®</li></ul><p>bean æ‰€éœ€çš„ä¾èµ–é¡¹å’ŒæœåŠ¡åœ¨ XML æ ¼å¼çš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šã€‚è¿™äº›é…ç½®æ–‡ä»¶é€šå¸¸åŒ…å«è®¸å¤š bean å®šä¹‰å’Œç‰¹å®šäºåº”ç”¨ç¨‹åºçš„é…ç½®é€‰é¡¹ã€‚å®ƒä»¬é€šå¸¸ä»¥ bean æ ‡ç­¾å¼€å¤´ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;studentbean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.edureka.firstSpring.StudentBean&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Edureka&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>åŸºäºæ³¨è§£é…ç½®</li></ul><p>æ‚¨å¯ä»¥é€šè¿‡åœ¨ç›¸å…³çš„ç±»ï¼Œæ–¹æ³•æˆ–å­—æ®µå£°æ˜ä¸Šä½¿ç”¨æ³¨è§£ï¼Œå°† bean é…ç½®ä¸ºç»„ä»¶ç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ XML æ¥æè¿° bean è£…é…ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring å®¹å™¨ä¸­æœªæ‰“å¼€æ³¨è§£è£…é…ã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦åœ¨ä½¿ç”¨å®ƒä¹‹å‰åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¯ç”¨å®ƒã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- bean definitions go here --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>åŸºäº Java API é…ç½®</li></ul><p>Spring çš„ Java é…ç½®æ˜¯é€šè¿‡ä½¿ç”¨ @Bean å’Œ @Configuration æ¥å®ç°ã€‚</p><ol><li>@Bean æ³¨è§£æ‰®æ¼”ä¸ <code>&lt;bean /&gt;</code> å…ƒç´ ç›¸åŒçš„è§’è‰²ã€‚</li><li>@Configuration ç±»å…è®¸é€šè¿‡ç®€å•åœ°è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„å…¶ä»– @Bean æ–¹æ³•æ¥å®šä¹‰ bean é—´ä¾èµ–å…³ç³»ã€‚</li></ol><p>ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> StudentBean <span class="title function_">myStudent</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">StudentBean</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="spring-æ”¯æŒé›†ä¸­-bean-scope"><a class="markdownIt-Anchor" href="#spring-æ”¯æŒé›†ä¸­-bean-scope"></a> spring æ”¯æŒé›†ä¸­ bean scopeï¼Ÿ</h3><p>Spring bean æ”¯æŒ 5 ç§ scopeï¼š</p><ul><li><strong>Singleton</strong> - æ¯ä¸ª Spring IoC å®¹å™¨ä»…æœ‰ä¸€ä¸ªå•å®ä¾‹ã€‚</li><li><strong>Prototype</strong> - æ¯æ¬¡è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</li><li><strong>Request</strong> - æ¯ä¸€æ¬¡ HTTP è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œå¹¶ä¸”è¯¥ bean ä»…åœ¨å½“å‰ HTTP è¯·æ±‚å†…æœ‰æ•ˆã€‚</li><li><strong>Session</strong> - æ¯ä¸€æ¬¡ HTTP è¯·æ±‚éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ beanï¼ŒåŒæ—¶è¯¥ bean ä»…åœ¨å½“å‰ HTTP session å†…æœ‰æ•ˆã€‚</li><li><strong>Global-session</strong> - ç±»ä¼¼äºæ ‡å‡†çš„ HTTP Session ä½œç”¨åŸŸï¼Œä¸è¿‡å®ƒä»…ä»…åœ¨åŸºäº portlet çš„ web åº”ç”¨ä¸­æ‰æœ‰æ„ä¹‰ã€‚Portlet è§„èŒƒå®šä¹‰äº†å…¨å±€ Session çš„æ¦‚å¿µï¼Œå®ƒè¢«æ‰€æœ‰æ„æˆæŸä¸ª portlet web åº”ç”¨çš„å„ç§ä¸åŒçš„ portlet æ‰€å…±äº«ã€‚åœ¨ global session ä½œç”¨åŸŸä¸­å®šä¹‰çš„ bean è¢«é™å®šäºå…¨å±€ portlet Session çš„ç”Ÿå‘½å‘¨æœŸèŒƒå›´å†…ã€‚å¦‚æœä½ åœ¨ web ä¸­ä½¿ç”¨ global session ä½œç”¨åŸŸæ¥æ ‡è¯† beanï¼Œé‚£ä¹ˆ web ä¼šè‡ªåŠ¨å½“æˆ session ç±»å‹æ¥ä½¿ç”¨ã€‚</li></ul><p>ä»…å½“ç”¨æˆ·ä½¿ç”¨æ”¯æŒ Web çš„ ApplicationContext æ—¶ï¼Œæœ€åä¸‰ä¸ªæ‰å¯ç”¨ã€‚</p><h3 id="spring-bean-å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆæ ·çš„"><a class="markdownIt-Anchor" href="#spring-bean-å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆæ ·çš„"></a> spring bean å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</h3><p>spring bean å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>Spring å®¹å™¨æ ¹æ®é…ç½®ä¸­çš„ bean å®šä¹‰ä¸­å®ä¾‹åŒ– beanã€‚</li><li>Spring ä½¿ç”¨ä¾èµ–æ³¨å…¥å¡«å……æ‰€æœ‰å±æ€§ï¼Œå¦‚ bean ä¸­æ‰€å®šä¹‰çš„é…ç½®ã€‚</li><li>å¦‚æœ bean å®ç° BeanNameAware æ¥å£ï¼Œåˆ™å·¥å‚é€šè¿‡ä¼ é€’ bean çš„ ID æ¥è°ƒç”¨ setBeanName()ã€‚</li><li>å¦‚æœ bean å®ç° BeanFactoryAware æ¥å£ï¼Œå·¥å‚é€šè¿‡ä¼ é€’è‡ªèº«çš„å®ä¾‹æ¥è°ƒç”¨ setBeanFactory()ã€‚</li><li>å¦‚æœå­˜åœ¨ä¸ bean å…³è”çš„ä»»ä½• BeanPostProcessorsï¼Œåˆ™è°ƒç”¨ preProcessBeforeInitialization() æ–¹æ³•ã€‚</li><li>å¦‚æœä¸º bean æŒ‡å®šäº† init æ–¹æ³•ï¼ˆ<code>&lt;bean&gt;</code> çš„ init-method å±æ€§ï¼‰ï¼Œé‚£ä¹ˆå°†è°ƒç”¨å®ƒã€‚</li><li>æœ€åï¼Œå¦‚æœå­˜åœ¨ä¸ bean å…³è”çš„ä»»ä½• BeanPostProcessorsï¼Œåˆ™å°†è°ƒç”¨ postProcessAfterInitialization() æ–¹æ³•ã€‚</li><li>å¦‚æœ bean å®ç° DisposableBean æ¥å£ï¼Œå½“ spring å®¹å™¨å…³é—­æ—¶ï¼Œä¼šè°ƒç”¨ destory()ã€‚</li><li>å¦‚æœä¸º bean æŒ‡å®šäº† destroy æ–¹æ³•ï¼ˆ<code>&lt;bean&gt;</code> çš„ destroy-method å±æ€§ï¼‰ï¼Œé‚£ä¹ˆå°†è°ƒç”¨å®ƒã€‚</li></ol><h3 id="ä»€ä¹ˆæ˜¯-spring-çš„å†…éƒ¨-bean"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-spring-çš„å†…éƒ¨-bean"></a> ä»€ä¹ˆæ˜¯ spring çš„å†…éƒ¨ beanï¼Ÿ</h3><p>åªæœ‰å°† bean ç”¨ä½œå¦ä¸€ä¸ª bean çš„å±æ€§æ—¶ï¼Œæ‰èƒ½å°† bean å£°æ˜ä¸ºå†…éƒ¨ beanã€‚ä¸ºäº†å®šä¹‰ beanï¼ŒSpring çš„åŸºäº XML çš„é…ç½®å…ƒæ•°æ®åœ¨ <code>&lt;property&gt;</code> æˆ– <code>&lt;constructor-arg&gt;</code> ä¸­æä¾›äº† <code>&lt;bean&gt;</code> å…ƒç´ çš„ä½¿ç”¨ã€‚å†…éƒ¨ bean æ€»æ˜¯åŒ¿åçš„ï¼Œå®ƒä»¬æ€»æ˜¯ä½œä¸ºåŸå‹ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª Student ç±»ï¼Œå…¶ä¸­å¼•ç”¨äº† Person ç±»ã€‚è¿™é‡Œæˆ‘ä»¬å°†åªåˆ›å»ºä¸€ä¸ª Person ç±»å®ä¾‹å¹¶åœ¨ Student ä¸­ä½¿ç”¨å®ƒã€‚</p><p>Student.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Person person;</span><br><span class="line">    <span class="comment">//Setters and Getters</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    <span class="comment">//Setters and Getters</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>bean.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">â€œStudentBean</span>&quot; <span class="attr">class</span>=<span class="string">&quot;com.edureka.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;person&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--This is inner bean --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.edureka.Person&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">â€œScott</span>&quot;&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">value</span>=<span class="string">â€œBangalore</span>&quot;&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ä»€ä¹ˆæ˜¯-spring-è£…é…"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-spring-è£…é…"></a> ä»€ä¹ˆæ˜¯ spring è£…é…</h3><p>å½“ bean åœ¨ Spring å®¹å™¨ä¸­ç»„åˆåœ¨ä¸€èµ·æ—¶ï¼Œå®ƒè¢«ç§°ä¸ºè£…é…æˆ– bean è£…é…ã€‚ Spring å®¹å™¨éœ€è¦çŸ¥é“éœ€è¦ä»€ä¹ˆ bean ä»¥åŠå®¹å™¨åº”è¯¥å¦‚ä½•ä½¿ç”¨ä¾èµ–æ³¨å…¥æ¥å°† bean ç»‘å®šåœ¨ä¸€èµ·ï¼ŒåŒæ—¶è£…é… beanã€‚</p><h3 id="è‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼"></a> è‡ªåŠ¨è£…é…æœ‰å“ªäº›æ–¹å¼ï¼Ÿ</h3><p>Spring å®¹å™¨èƒ½å¤Ÿè‡ªåŠ¨è£…é… beanã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥é€šè¿‡æ£€æŸ¥ BeanFactory çš„å†…å®¹è®© Spring è‡ªåŠ¨è§£æ bean çš„åä½œè€…ã€‚</p><p>è‡ªåŠ¨è£…é…çš„ä¸åŒæ¨¡å¼ï¼š</p><ul><li><strong>no</strong> - è¿™æ˜¯é»˜è®¤è®¾ç½®ï¼Œè¡¨ç¤ºæ²¡æœ‰è‡ªåŠ¨è£…é…ã€‚åº”ä½¿ç”¨æ˜¾å¼ bean å¼•ç”¨è¿›è¡Œè£…é…ã€‚</li><li><strong>byName</strong> - å®ƒæ ¹æ® bean çš„åç§°æ³¨å…¥å¯¹è±¡ä¾èµ–é¡¹ã€‚å®ƒåŒ¹é…å¹¶è£…é…å…¶å±æ€§ä¸ XML æ–‡ä»¶ä¸­ç”±ç›¸åŒåç§°å®šä¹‰çš„ beanã€‚</li><li><strong>byType</strong> - å®ƒæ ¹æ®ç±»å‹æ³¨å…¥å¯¹è±¡ä¾èµ–é¡¹ã€‚å¦‚æœå±æ€§çš„ç±»å‹ä¸ XML æ–‡ä»¶ä¸­çš„ä¸€ä¸ª bean åç§°åŒ¹é…ï¼Œåˆ™åŒ¹é…å¹¶è£…é…å±æ€§ã€‚</li><li><strong>æ„é€ å‡½æ•°</strong> - å®ƒé€šè¿‡è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°æ¥æ³¨å…¥ä¾èµ–é¡¹ã€‚å®ƒæœ‰å¤§é‡çš„å‚æ•°ã€‚</li><li><strong>autodetect</strong> - é¦–å…ˆå®¹å™¨å°è¯•é€šè¿‡æ„é€ å‡½æ•°ä½¿ç”¨ autowire è£…é…ï¼Œå¦‚æœä¸èƒ½ï¼Œåˆ™å°è¯•é€šè¿‡ byType è‡ªåŠ¨è£…é…ã€‚</li></ul><h3 id="è‡ªåŠ¨è£…é…æœ‰ä»€ä¹ˆå±€é™"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨è£…é…æœ‰ä»€ä¹ˆå±€é™"></a> è‡ªåŠ¨è£…é…æœ‰ä»€ä¹ˆå±€é™ï¼Ÿ</h3><ul><li>è¦†ç›–çš„å¯èƒ½æ€§ - æ‚¨å§‹ç»ˆå¯ä»¥ä½¿ç”¨ <code>&lt;constructor-arg&gt;</code> å’Œ <code>&lt;property&gt;</code> è®¾ç½®æŒ‡å®šä¾èµ–é¡¹ï¼Œè¿™å°†è¦†ç›–è‡ªåŠ¨è£…é…ã€‚</li><li>åŸºæœ¬å…ƒæ•°æ®ç±»å‹ - ç®€å•å±æ€§ï¼ˆå¦‚åŸæ•°æ®ç±»å‹ï¼Œå­—ç¬¦ä¸²å’Œç±»ï¼‰æ— æ³•è‡ªåŠ¨è£…é…ã€‚</li><li>ä»¤äººå›°æƒ‘çš„æ€§è´¨ - æ€»æ˜¯å–œæ¬¢ä½¿ç”¨æ˜ç¡®çš„è£…é…ï¼Œå› ä¸ºè‡ªåŠ¨è£…é…ä¸å¤ªç²¾ç¡®ã€‚</li></ul><h2 id="æ³¨è§£"><a class="markdownIt-Anchor" href="#æ³¨è§£"></a> æ³¨è§£</h2><h3 id="ä½ ç”¨è¿‡å“ªäº›é‡è¦çš„-spring-æ³¨è§£"><a class="markdownIt-Anchor" href="#ä½ ç”¨è¿‡å“ªäº›é‡è¦çš„-spring-æ³¨è§£"></a> ä½ ç”¨è¿‡å“ªäº›é‡è¦çš„ Spring æ³¨è§£ï¼Ÿ</h3><ul><li><strong>@Controller</strong> - ç”¨äº Spring MVC é¡¹ç›®ä¸­çš„æ§åˆ¶å™¨ç±»ã€‚</li><li><strong>@Service</strong> - ç”¨äºæœåŠ¡ç±»ã€‚</li><li><strong>@RequestMapping</strong> - ç”¨äºåœ¨æ§åˆ¶å™¨å¤„ç†ç¨‹åºæ–¹æ³•ä¸­é…ç½® URI æ˜ å°„ã€‚</li><li><strong>@ResponseBody</strong> - ç”¨äºå‘é€ Object ä½œä¸ºå“åº”ï¼Œé€šå¸¸ç”¨äºå‘é€ XML æˆ– JSON æ•°æ®ä½œä¸ºå“åº”ã€‚</li><li><strong>@PathVariable</strong> - ç”¨äºå°†åŠ¨æ€å€¼ä» URI æ˜ å°„åˆ°å¤„ç†ç¨‹åºæ–¹æ³•å‚æ•°ã€‚</li><li><strong>@Autowired</strong> - ç”¨äºåœ¨ spring bean ä¸­è‡ªåŠ¨è£…é…ä¾èµ–é¡¹ã€‚</li><li><strong>@Qualifier</strong> - ä½¿ç”¨ @Autowired æ³¨è§£ï¼Œä»¥é¿å…åœ¨å­˜åœ¨å¤šä¸ª bean ç±»å‹å®ä¾‹æ—¶å‡ºç°æ··æ·†ã€‚</li><li><strong>@Scope</strong> - ç”¨äºé…ç½® spring bean çš„èŒƒå›´ã€‚</li><li><strong>@Configuration</strong>ï¼Œ<strong>@ComponentScan</strong> å’Œ <strong>@Bean</strong> - ç”¨äºåŸºäº java çš„é…ç½®ã€‚</li><li><strong>@Aspect</strong>ï¼Œ<strong>@Before</strong>ï¼Œ<strong>@After</strong>ï¼Œ<strong>@Around</strong>ï¼Œ<strong>@Pointcut</strong> - ç”¨äºåˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰ã€‚</li></ul><h3 id="å¦‚ä½•åœ¨-spring-ä¸­å¯åŠ¨æ³¨è§£è£…é…"><a class="markdownIt-Anchor" href="#å¦‚ä½•åœ¨-spring-ä¸­å¯åŠ¨æ³¨è§£è£…é…"></a> å¦‚ä½•åœ¨ spring ä¸­å¯åŠ¨æ³¨è§£è£…é…ï¼Ÿ</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring å®¹å™¨ä¸­æœªæ‰“å¼€æ³¨è§£è£…é…ã€‚å› æ­¤ï¼Œè¦ä½¿ç”¨åŸºäºæ³¨è§£è£…é…ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡é…ç½®<code>&lt;contextï¼šannotation-config /&gt;</code> å…ƒç´ åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å¯ç”¨å®ƒã€‚</p><h3 id="component-controller-repository-service-æœ‰ä½•åŒºåˆ«"><a class="markdownIt-Anchor" href="#component-controller-repository-service-æœ‰ä½•åŒºåˆ«"></a> @Component, @Controller, @Repository, @Service æœ‰ä½•åŒºåˆ«ï¼Ÿ</h3><ul><li>@Componentï¼šè¿™å°† java ç±»æ ‡è®°ä¸º beanã€‚å®ƒæ˜¯ä»»ä½• Spring ç®¡ç†ç»„ä»¶çš„é€šç”¨æ„é€ å‹ã€‚spring çš„ç»„ä»¶æ‰«ææœºåˆ¶ç°åœ¨å¯ä»¥å°†å…¶æ‹¾å–å¹¶å°†å…¶æ‹‰å…¥åº”ç”¨ç¨‹åºç¯å¢ƒä¸­ã€‚</li><li>@Controllerï¼šè¿™å°†ä¸€ä¸ªç±»æ ‡è®°ä¸º Spring Web MVC æ§åˆ¶å™¨ã€‚æ ‡æœ‰å®ƒçš„ Bean ä¼šè‡ªåŠ¨å¯¼å…¥åˆ° IoC å®¹å™¨ä¸­ã€‚</li><li>@Serviceï¼šæ­¤æ³¨è§£æ˜¯ç»„ä»¶æ³¨è§£çš„ç‰¹åŒ–ã€‚å®ƒä¸ä¼šå¯¹ @Component æ³¨è§£æä¾›ä»»ä½•å…¶ä»–è¡Œä¸ºã€‚æ‚¨å¯ä»¥åœ¨æœåŠ¡å±‚ç±»ä¸­ä½¿ç”¨ @Service è€Œä¸æ˜¯ @Componentï¼Œå› ä¸ºå®ƒä»¥æ›´å¥½çš„æ–¹å¼æŒ‡å®šäº†æ„å›¾ã€‚</li><li>@Repositoryï¼šè¿™ä¸ªæ³¨è§£æ˜¯å…·æœ‰ç±»ä¼¼ç”¨é€”å’ŒåŠŸèƒ½çš„ @Component æ³¨è§£çš„ç‰¹åŒ–ã€‚å®ƒä¸º DAO æä¾›äº†é¢å¤–çš„å¥½å¤„ã€‚å®ƒå°† DAO å¯¼å…¥ IoC å®¹å™¨ï¼Œå¹¶ä½¿æœªç»æ£€æŸ¥çš„å¼‚å¸¸æœ‰èµ„æ ¼è½¬æ¢ä¸º Spring DataAccessExceptionã€‚</li></ul><h3 id="required-æ³¨è§£æœ‰ä»€ä¹ˆç”¨"><a class="markdownIt-Anchor" href="#required-æ³¨è§£æœ‰ä»€ä¹ˆç”¨"></a> @Required æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>@Required åº”ç”¨äº bean å±æ€§ setter æ–¹æ³•ã€‚æ­¤æ³¨è§£ä»…æŒ‡ç¤ºå¿…é¡»åœ¨é…ç½®æ—¶ä½¿ç”¨ bean å®šä¹‰ä¸­çš„æ˜¾å¼å±æ€§å€¼æˆ–ä½¿ç”¨è‡ªåŠ¨è£…é…å¡«å……å—å½±å“çš„ bean å±æ€§ã€‚å¦‚æœå°šæœªå¡«å……å—å½±å“çš„ bean å±æ€§ï¼Œåˆ™å®¹å™¨å°†æŠ›å‡º BeanInitializationExceptionã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Required</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> string <span class="title function_">getName</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="autowired-æ³¨è§£æœ‰ä»€ä¹ˆç”¨"><a class="markdownIt-Anchor" href="#autowired-æ³¨è§£æœ‰ä»€ä¹ˆç”¨"></a> @Autowired æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>@Autowired å¯ä»¥æ›´å‡†ç¡®åœ°æ§åˆ¶åº”è¯¥åœ¨ä½•å¤„ä»¥åŠå¦‚ä½•è¿›è¡Œè‡ªåŠ¨è£…é…ã€‚æ­¤æ³¨è§£ç”¨äºåœ¨ setter æ–¹æ³•ï¼Œæ„é€ å‡½æ•°ï¼Œå…·æœ‰ä»»æ„åç§°æˆ–å¤šä¸ªå‚æ•°çš„å±æ€§æˆ–æ–¹æ³•ä¸Šè‡ªåŠ¨è£…é… beanã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯ç±»å‹é©±åŠ¨çš„æ³¨å…¥ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> string <span class="title function_">getName</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="qualifier-æ³¨è§£æœ‰ä»€ä¹ˆç”¨"><a class="markdownIt-Anchor" href="#qualifier-æ³¨è§£æœ‰ä»€ä¹ˆç”¨"></a> @Qualifier æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>å½“æ‚¨åˆ›å»ºå¤šä¸ªç›¸åŒç±»å‹çš„ bean å¹¶å¸Œæœ›ä»…ä½¿ç”¨å±æ€§è£…é…å…¶ä¸­ä¸€ä¸ª bean æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨@Qualifier æ³¨è§£å’Œ @Autowired é€šè¿‡æŒ‡å®šåº”è¯¥è£…é…å“ªä¸ªç¡®åˆ‡çš„ bean æ¥æ¶ˆé™¤æ­§ä¹‰ã€‚</p><p>ä¾‹å¦‚ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ†åˆ«æœ‰ä¸¤ä¸ªç±»ï¼ŒEmployee å’Œ EmpAccountã€‚åœ¨ EmpAccount ä¸­ï¼Œä½¿ç”¨@Qualifier æŒ‡å®šäº†å¿…é¡»è£…é… id ä¸º emp1 çš„ beanã€‚</p><p>Employee.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> string <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>EmpAccount.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpAccount</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Employee emp;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(emp1)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showName</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(â€œEmployee name : â€+emp.getName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="requestmapping-æ³¨è§£æœ‰ä»€ä¹ˆç”¨"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£æœ‰ä»€ä¹ˆç”¨"></a> @RequestMapping æ³¨è§£æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>@RequestMapping æ³¨è§£ç”¨äºå°†ç‰¹å®š HTTP è¯·æ±‚æ–¹æ³•æ˜ å°„åˆ°å°†å¤„ç†ç›¸åº”è¯·æ±‚çš„æ§åˆ¶å™¨ä¸­çš„ç‰¹å®šç±»/æ–¹æ³•ã€‚æ­¤æ³¨è§£å¯åº”ç”¨äºä¸¤ä¸ªçº§åˆ«ï¼š</p><ul><li>ç±»çº§åˆ«ï¼šæ˜ å°„è¯·æ±‚çš„ URL</li><li>æ–¹æ³•çº§åˆ«ï¼šæ˜ å°„ URL ä»¥åŠ HTTP è¯·æ±‚æ–¹æ³•</li></ul><h2 id="æ•°æ®è®¿é—®"><a class="markdownIt-Anchor" href="#æ•°æ®è®¿é—®"></a> æ•°æ®è®¿é—®</h2><h3 id="spring-dao-æœ‰ä»€ä¹ˆç”¨"><a class="markdownIt-Anchor" href="#spring-dao-æœ‰ä»€ä¹ˆç”¨"></a> spring DAO æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>Spring DAO ä½¿å¾— JDBCï¼ŒHibernate æˆ– JDO è¿™æ ·çš„æ•°æ®è®¿é—®æŠ€æœ¯æ›´å®¹æ˜“ä»¥ä¸€ç§ç»Ÿä¸€çš„æ–¹å¼å·¥ä½œã€‚è¿™ä½¿å¾—ç”¨æˆ·å®¹æ˜“åœ¨æŒä¹…æ€§æŠ€æœ¯ä¹‹é—´åˆ‡æ¢ã€‚å®ƒè¿˜å…è®¸æ‚¨åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œæ— éœ€è€ƒè™‘æ•è·æ¯ç§æŠ€æœ¯ä¸åŒçš„å¼‚å¸¸ã€‚</p><h3 id="åˆ—ä¸¾-spring-dao-æŠ›å‡ºçš„å¼‚å¸¸"><a class="markdownIt-Anchor" href="#åˆ—ä¸¾-spring-dao-æŠ›å‡ºçš„å¼‚å¸¸"></a> åˆ—ä¸¾ Spring DAO æŠ›å‡ºçš„å¼‚å¸¸ã€‚</h3><h3 id="spring-jdbc-api-ä¸­å­˜åœ¨å“ªäº›ç±»"><a class="markdownIt-Anchor" href="#spring-jdbc-api-ä¸­å­˜åœ¨å“ªäº›ç±»"></a> spring JDBC API ä¸­å­˜åœ¨å“ªäº›ç±»ï¼Ÿ</h3><ul><li>JdbcTemplate</li><li>SimpleJdbcTemplate</li><li>NamedParameterJdbcTemplate</li><li>SimpleJdbcInsert</li><li>SimpleJdbcCall</li></ul><h3 id="ä½¿ç”¨-spring-è®¿é—®-hibernate-çš„æ–¹æ³•æœ‰å“ªäº›"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-spring-è®¿é—®-hibernate-çš„æ–¹æ³•æœ‰å“ªäº›"></a> ä½¿ç”¨ Spring è®¿é—® Hibernate çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä½¿ç”¨ Spring è®¿é—® Hibernateï¼š</p><ol><li>ä½¿ç”¨ Hibernate æ¨¡æ¿å’Œå›è°ƒè¿›è¡Œæ§åˆ¶åè½¬</li><li>æ‰©å±• HibernateDAOSupport å¹¶åº”ç”¨ AOP æ‹¦æˆªå™¨èŠ‚ç‚¹</li></ol><h3 id="åˆ—ä¸¾-spring-æ”¯æŒçš„äº‹åŠ¡ç®¡ç†ç±»å‹"><a class="markdownIt-Anchor" href="#åˆ—ä¸¾-spring-æ”¯æŒçš„äº‹åŠ¡ç®¡ç†ç±»å‹"></a> åˆ—ä¸¾ spring æ”¯æŒçš„äº‹åŠ¡ç®¡ç†ç±»å‹</h3><p>Spring æ”¯æŒä¸¤ç§ç±»å‹çš„äº‹åŠ¡ç®¡ç†ï¼š</p><ol><li>ç¨‹åºåŒ–äº‹åŠ¡ç®¡ç†ï¼šåœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œåœ¨ç¼–ç¨‹çš„å¸®åŠ©ä¸‹ç®¡ç†äº‹åŠ¡ã€‚å®ƒä¸ºæ‚¨æä¾›æå¤§çš„çµæ´»æ€§ï¼Œä½†ç»´æŠ¤èµ·æ¥éå¸¸å›°éš¾ã€‚</li><li>å£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼šåœ¨æ­¤ï¼Œäº‹åŠ¡ç®¡ç†ä¸ä¸šåŠ¡ä»£ç åˆ†ç¦»ã€‚ä»…ä½¿ç”¨æ³¨è§£æˆ–åŸºäº XML çš„é…ç½®æ¥ç®¡ç†äº‹åŠ¡ã€‚</li></ol><h3 id="spring-æ”¯æŒå“ªäº›-orm-æ¡†æ¶"><a class="markdownIt-Anchor" href="#spring-æ”¯æŒå“ªäº›-orm-æ¡†æ¶"></a> spring æ”¯æŒå“ªäº› ORM æ¡†æ¶</h3><ul><li>Hibernate</li><li>iBatis</li><li>JPA</li><li>JDO</li><li>OJB</li></ul><h2 id="aop"><a class="markdownIt-Anchor" href="#aop"></a> AOP</h2><h3 id="ä»€ä¹ˆæ˜¯-aop"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-aop"></a> ä»€ä¹ˆæ˜¯ AOPï¼Ÿ</h3><p>AOP(Aspect-Oriented Programming), å³ <strong>é¢å‘åˆ‡é¢ç¼–ç¨‹</strong>, å®ƒä¸ OOP( Object-Oriented Programming, é¢å‘å¯¹è±¡ç¼–ç¨‹) ç›¸è¾…ç›¸æˆ, æä¾›äº†ä¸ OOP ä¸åŒçš„æŠ½è±¡è½¯ä»¶ç»“æ„çš„è§†è§’. åœ¨ OOP ä¸­, æˆ‘ä»¬ä»¥ç±»(class)ä½œä¸ºæˆ‘ä»¬çš„åŸºæœ¬å•å…ƒ, è€Œ AOP ä¸­çš„åŸºæœ¬å•å…ƒæ˜¯ <strong>Aspect(åˆ‡é¢)</strong></p><h3 id="aop-ä¸­çš„-aspect-advice-pointcut-jointpoint-å’Œ-advice-å‚æ•°åˆ†åˆ«æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#aop-ä¸­çš„-aspect-advice-pointcut-jointpoint-å’Œ-advice-å‚æ•°åˆ†åˆ«æ˜¯ä»€ä¹ˆ"></a> AOP ä¸­çš„ Aspectã€Adviceã€Pointcutã€JointPoint å’Œ Advice å‚æ•°åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ul><li><strong>Aspect</strong> - Aspect æ˜¯ä¸€ä¸ªå®ç°äº¤å‰é—®é¢˜çš„ç±»ï¼Œä¾‹å¦‚äº‹åŠ¡ç®¡ç†ã€‚æ–¹é¢å¯ä»¥æ˜¯é…ç½®çš„æ™®é€šç±»ï¼Œç„¶ååœ¨ Spring Bean é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Spring AspectJ æ”¯æŒä½¿ç”¨ @Aspect æ³¨è§£å°†ç±»å£°æ˜ä¸º Aspectã€‚</li><li><strong>Advice</strong> - Advice æ˜¯é’ˆå¯¹ç‰¹å®š JoinPoint é‡‡å–çš„æ“ä½œã€‚åœ¨ç¼–ç¨‹æ–¹é¢ï¼Œå®ƒä»¬æ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­è¾¾åˆ°å…·æœ‰åŒ¹é…åˆ‡å…¥ç‚¹çš„ç‰¹å®š JoinPoint æ—¶æ‰§è¡Œçš„æ–¹æ³•ã€‚æ‚¨å¯ä»¥å°† Advice è§†ä¸º Spring æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰æˆ– Servlet è¿‡æ»¤å™¨ï¼ˆfilterï¼‰ã€‚</li><li><strong>Advice Arguments</strong> - æˆ‘ä»¬å¯ä»¥åœ¨ advice æ–¹æ³•ä¸­ä¼ é€’å‚æ•°ã€‚æˆ‘ä»¬å¯ä»¥åœ¨åˆ‡å…¥ç‚¹ä¸­ä½¿ç”¨ args() è¡¨è¾¾å¼æ¥åº”ç”¨äºä¸å‚æ•°æ¨¡å¼åŒ¹é…çš„ä»»ä½•æ–¹æ³•ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨å®ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ç¡®å®šå‚æ•°ç±»å‹çš„ advice æ–¹æ³•ä¸­ä½¿ç”¨ç›¸åŒçš„åç§°ã€‚</li><li><strong>Pointcut</strong> - Pointcut æ˜¯ä¸ JoinPoint åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨äºç¡®å®šæ˜¯å¦éœ€è¦æ‰§è¡Œ Adviceã€‚ Pointcut ä½¿ç”¨ä¸ JoinPoint åŒ¹é…çš„ä¸åŒç±»å‹çš„è¡¨è¾¾å¼ã€‚Spring æ¡†æ¶ä½¿ç”¨ AspectJ Pointcut è¡¨è¾¾å¼è¯­è¨€æ¥ç¡®å®šå°†åº”ç”¨é€šçŸ¥æ–¹æ³•çš„ JoinPointã€‚</li><li><strong>JoinPoint</strong> - JoinPoint æ˜¯åº”ç”¨ç¨‹åºä¸­çš„ç‰¹å®šç‚¹ï¼Œä¾‹å¦‚æ–¹æ³•æ‰§è¡Œï¼Œå¼‚å¸¸å¤„ç†ï¼Œæ›´æ”¹å¯¹è±¡å˜é‡å€¼ç­‰ã€‚åœ¨ Spring AOP ä¸­ï¼ŒJoinPoint å§‹ç»ˆæ˜¯æ–¹æ³•çš„æ‰§è¡Œå™¨ã€‚</li></ul><h3 id="ä»€ä¹ˆæ˜¯é€šçŸ¥advice"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯é€šçŸ¥advice"></a> ä»€ä¹ˆæ˜¯é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ</h3><p>ç‰¹å®š JoinPoint å¤„çš„ Aspect æ‰€é‡‡å–çš„åŠ¨ä½œç§°ä¸º Adviceã€‚Spring AOP ä½¿ç”¨ä¸€ä¸ª Advice ä½œä¸ºæ‹¦æˆªå™¨ï¼Œåœ¨ JoinPoint â€œå‘¨å›´â€ç»´æŠ¤ä¸€ç³»åˆ—çš„æ‹¦æˆªå™¨ã€‚</p><h3 id="æœ‰å“ªäº›ç±»å‹çš„é€šçŸ¥advice"><a class="markdownIt-Anchor" href="#æœ‰å“ªäº›ç±»å‹çš„é€šçŸ¥advice"></a> æœ‰å“ªäº›ç±»å‹çš„é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Ÿ</h3><ul><li><strong>Before</strong> - è¿™äº›ç±»å‹çš„ Advice åœ¨ joinpoint æ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼Œå¹¶ä½¿ç”¨ @Before æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</li><li><strong>After Returning</strong> - è¿™äº›ç±»å‹çš„ Advice åœ¨è¿æ¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œåæ‰§è¡Œï¼Œå¹¶ä½¿ç”¨@AfterReturning æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</li><li><strong>After Throwing</strong> - è¿™äº›ç±»å‹çš„ Advice ä»…åœ¨ joinpoint æ–¹æ³•é€šè¿‡æŠ›å‡ºå¼‚å¸¸é€€å‡ºå¹¶ä½¿ç”¨ @AfterThrowing æ³¨è§£æ ‡è®°é…ç½®æ—¶æ‰§è¡Œã€‚</li><li><strong>After (finally)</strong> - è¿™äº›ç±»å‹çš„ Advice åœ¨è¿æ¥ç‚¹æ–¹æ³•ä¹‹åæ‰§è¡Œï¼Œæ— è®ºæ–¹æ³•é€€å‡ºæ˜¯æ­£å¸¸è¿˜æ˜¯å¼‚å¸¸è¿”å›ï¼Œå¹¶ä½¿ç”¨ @After æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</li><li><strong>Around</strong> - è¿™äº›ç±»å‹çš„ Advice åœ¨è¿æ¥ç‚¹ä¹‹å‰å’Œä¹‹åæ‰§è¡Œï¼Œå¹¶ä½¿ç”¨ @Around æ³¨è§£æ ‡è®°è¿›è¡Œé…ç½®ã€‚</li></ul><h3 id="æŒ‡å‡ºåœ¨-spring-aop-ä¸­-concern-å’Œ-cross-cutting-concern-çš„ä¸åŒä¹‹å¤„"><a class="markdownIt-Anchor" href="#æŒ‡å‡ºåœ¨-spring-aop-ä¸­-concern-å’Œ-cross-cutting-concern-çš„ä¸åŒä¹‹å¤„"></a> æŒ‡å‡ºåœ¨ spring aop ä¸­ concern å’Œ cross-cutting concern çš„ä¸åŒä¹‹å¤„ã€‚</h3><p>concern æ˜¯æˆ‘ä»¬æƒ³è¦åœ¨åº”ç”¨ç¨‹åºçš„ç‰¹å®šæ¨¡å—ä¸­å®šä¹‰çš„è¡Œä¸ºã€‚å®ƒå¯ä»¥å®šä¹‰ä¸ºæˆ‘ä»¬æƒ³è¦å®ç°çš„åŠŸèƒ½ã€‚</p><p>cross-cutting concern æ˜¯ä¸€ä¸ªé€‚ç”¨äºæ•´ä¸ªåº”ç”¨çš„è¡Œä¸ºï¼Œè¿™ä¼šå½±å“æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚ä¾‹å¦‚ï¼Œæ—¥å¿—è®°å½•ï¼Œå®‰å…¨æ€§å’Œæ•°æ®ä¼ è¾“æ˜¯åº”ç”¨ç¨‹åºå‡ ä¹æ¯ä¸ªæ¨¡å—éƒ½éœ€è¦å…³æ³¨çš„é—®é¢˜ï¼Œå› æ­¤å®ƒä»¬æ˜¯è·¨é¢†åŸŸçš„é—®é¢˜ã€‚</p><h3 id="aop-æœ‰å“ªäº›å®ç°æ–¹å¼"><a class="markdownIt-Anchor" href="#aop-æœ‰å“ªäº›å®ç°æ–¹å¼"></a> AOP æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Ÿ</h3><p>å®ç° AOP çš„æŠ€æœ¯ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><ul><li>é™æ€ä»£ç† - æŒ‡ä½¿ç”¨ AOP æ¡†æ¶æä¾›çš„å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼Œä»è€Œåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯ç”Ÿæˆ AOP ä»£ç†ç±»ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºç¼–è¯‘æ—¶å¢å¼ºï¼›<ul><li>ç¼–è¯‘æ—¶ç¼–ç»‡ï¼ˆç‰¹æ®Šç¼–è¯‘å™¨å®ç°ï¼‰</li><li>ç±»åŠ è½½æ—¶ç¼–ç»‡ï¼ˆç‰¹æ®Šçš„ç±»åŠ è½½å™¨å®ç°ï¼‰ã€‚</li></ul></li><li>åŠ¨æ€ä»£ç† - åœ¨è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­â€œä¸´æ—¶â€ç”Ÿæˆ AOP åŠ¨æ€ä»£ç†ç±»ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºè¿è¡Œæ—¶å¢å¼ºã€‚<ul><li>JDK åŠ¨æ€ä»£ç†</li><li>CGLIB</li></ul></li></ul><h3 id="spring-aop-and-aspectj-aop-æœ‰ä»€ä¹ˆåŒºåˆ«"><a class="markdownIt-Anchor" href="#spring-aop-and-aspectj-aop-æœ‰ä»€ä¹ˆåŒºåˆ«"></a> Spring AOP and AspectJ AOP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>Spring AOP åŸºäºåŠ¨æ€ä»£ç†æ–¹å¼å®ç°ï¼›AspectJ åŸºäºé™æ€ä»£ç†æ–¹å¼å®ç°ã€‚ Spring AOP ä»…æ”¯æŒæ–¹æ³•çº§åˆ«çš„ PointCutï¼›æä¾›äº†å®Œå…¨çš„ AOP æ”¯æŒï¼Œå®ƒè¿˜æ”¯æŒå±æ€§çº§åˆ«çš„ PointCutã€‚</p><h3 id="å¦‚ä½•ç†è§£-spring-ä¸­çš„ä»£ç†"><a class="markdownIt-Anchor" href="#å¦‚ä½•ç†è§£-spring-ä¸­çš„ä»£ç†"></a> å¦‚ä½•ç†è§£ Spring ä¸­çš„ä»£ç†ï¼Ÿ</h3><p>å°† Advice åº”ç”¨äºç›®æ ‡å¯¹è±¡ååˆ›å»ºçš„å¯¹è±¡ç§°ä¸ºä»£ç†ã€‚åœ¨å®¢æˆ·ç«¯å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œç›®æ ‡å¯¹è±¡å’Œä»£ç†å¯¹è±¡æ˜¯ç›¸åŒçš„ã€‚</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Advice + Target Object = Proxy</span><br></pre></td></tr></table></figure><h3 id="ä»€ä¹ˆæ˜¯ç¼–ç»‡weaving"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯ç¼–ç»‡weaving"></a> ä»€ä¹ˆæ˜¯ç¼–ç»‡ï¼ˆWeavingï¼‰ï¼Ÿ</h3><p>ä¸ºäº†åˆ›å»ºä¸€ä¸ª advice å¯¹è±¡è€Œé“¾æ¥ä¸€ä¸ª aspect å’Œå…¶å®ƒåº”ç”¨ç±»å‹æˆ–å¯¹è±¡ï¼Œç§°ä¸ºç¼–ç»‡ï¼ˆWeavingï¼‰ã€‚åœ¨ Spring AOP ä¸­ï¼Œç¼–ç»‡åœ¨è¿è¡Œæ—¶æ‰§è¡Œã€‚è¯·å‚è€ƒä¸‹å›¾ï¼š</p><p><img src="https://upload-images.jianshu.io/upload_images/3101171-cfaa92f0e4115b4a.png" alt="img" /></p><h2 id="mvc"><a class="markdownIt-Anchor" href="#mvc"></a> MVC</h2><h3 id="spring-mvc-æ¡†æ¶æœ‰ä»€ä¹ˆç”¨"><a class="markdownIt-Anchor" href="#spring-mvc-æ¡†æ¶æœ‰ä»€ä¹ˆç”¨"></a> Spring MVC æ¡†æ¶æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>Spring Web MVC æ¡†æ¶æä¾› <strong>æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨</strong> æ¶æ„å’Œéšæ—¶å¯ç”¨çš„ç»„ä»¶ï¼Œç”¨äºå¼€å‘çµæ´»ä¸”æ¾æ•£è€¦åˆçš„ Web åº”ç”¨ç¨‹åºã€‚ MVC æ¨¡å¼æœ‰åŠ©äºåˆ†ç¦»åº”ç”¨ç¨‹åºçš„ä¸åŒæ–¹é¢ï¼Œå¦‚è¾“å…¥é€»è¾‘ï¼Œä¸šåŠ¡é€»è¾‘å’Œ UI é€»è¾‘ï¼ŒåŒæ—¶åœ¨æ‰€æœ‰è¿™äº›å…ƒç´ ä¹‹é—´æä¾›æ¾æ•£è€¦åˆã€‚</p><h3 id="æè¿°ä¸€ä¸‹-dispatcherservlet-çš„å·¥ä½œæµç¨‹"><a class="markdownIt-Anchor" href="#æè¿°ä¸€ä¸‹-dispatcherservlet-çš„å·¥ä½œæµç¨‹"></a> æè¿°ä¸€ä¸‹ DispatcherServlet çš„å·¥ä½œæµç¨‹</h3><p>DispatcherServlet çš„å·¥ä½œæµç¨‹å¯ä»¥ç”¨ä¸€å¹…å›¾æ¥è¯´æ˜ï¼š</p><ol><li><p>å‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ï¼Œè¯·æ±‚è¢«å‰ç«¯æ§åˆ¶å™¨ <code>DispatcherServlet</code> æ•è·ã€‚</p></li><li><p><code>DispatcherServlet</code> æ ¹æ® <strong>-servlet.xml</strong> ä¸­çš„é…ç½®å¯¹è¯·æ±‚çš„ URL è¿›è¡Œè§£æï¼Œå¾—åˆ°è¯·æ±‚èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰ã€‚ç„¶åæ ¹æ®è¯¥ URIï¼Œè°ƒç”¨ <code>HandlerMapping</code> è·å¾—è¯¥ Handler é…ç½®çš„æ‰€æœ‰ç›¸å…³çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ Handler å¯¹è±¡ä»¥åŠ Handler å¯¹è±¡å¯¹åº”çš„æ‹¦æˆªå™¨ï¼‰ï¼Œæœ€åä»¥<code>HandlerExecutionChain</code> å¯¹è±¡çš„å½¢å¼è¿”å›ã€‚</p></li><li><p><code>DispatcherServlet</code> æ ¹æ®è·å¾—çš„<code>Handler</code>ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ <code>HandlerAdapter</code>ã€‚ï¼ˆé™„æ³¨ï¼šå¦‚æœæˆåŠŸè·å¾—<code>HandlerAdapter</code>åï¼Œæ­¤æ—¶å°†å¼€å§‹æ‰§è¡Œæ‹¦æˆªå™¨çš„ preHandler(â€¦)æ–¹æ³•ï¼‰ã€‚</p></li><li><p>æå–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Request</span><br></pre></td></tr></table></figure><p>ä¸­çš„æ¨¡å‹æ•°æ®ï¼Œå¡«å……</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Handler</span><br></pre></td></tr></table></figure><p>å…¥å‚ï¼Œå¼€å§‹æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Handler</span><br></pre></td></tr></table></figure><p>ï¼ˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Controller</span><br></pre></td></tr></table></figure><p>)ã€‚ åœ¨å¡«å……</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Handler</span><br></pre></td></tr></table></figure><p>çš„å…¥å‚è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®ä½ çš„é…ç½®ï¼ŒSpring å°†å¸®ä½ åšä¸€äº›é¢å¤–çš„å·¥ä½œï¼š</p><ul><li>HttpMessageConveterï¼š å°†è¯·æ±‚æ¶ˆæ¯ï¼ˆå¦‚ Jsonã€xml ç­‰æ•°æ®ï¼‰è½¬æ¢æˆä¸€ä¸ªå¯¹è±¡ï¼Œå°†å¯¹è±¡è½¬æ¢ä¸ºæŒ‡å®šçš„å“åº”ä¿¡æ¯ã€‚</li><li>æ•°æ®è½¬æ¢ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®è½¬æ¢ã€‚å¦‚<code>String</code>è½¬æ¢æˆ<code>Integer</code>ã€<code>Double</code>ç­‰ã€‚</li><li>æ•°æ®æ ¹å¼åŒ–ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®æ ¼å¼åŒ–ã€‚ å¦‚å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ ¼å¼åŒ–æ•°å­—æˆ–æ ¼å¼åŒ–æ—¥æœŸç­‰ã€‚</li><li>æ•°æ®éªŒè¯ï¼š éªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ï¼ˆé•¿åº¦ã€æ ¼å¼ç­‰ï¼‰ï¼ŒéªŒè¯ç»“æœå­˜å‚¨åˆ°<code>BindingResult</code>æˆ–<code>Error</code>ä¸­ã€‚</li></ul></li><li><p>Handler(Controller)æ‰§è¡Œå®Œæˆåï¼Œå‘ <code>DispatcherServlet</code> è¿”å›ä¸€ä¸ª <code>ModelAndView</code> å¯¹è±¡ï¼›</p></li><li><p>æ ¹æ®è¿”å›çš„<code>ModelAndView</code>ï¼Œé€‰æ‹©ä¸€ä¸ªé€‚åˆçš„ <code>ViewResolver</code>ï¼ˆå¿…é¡»æ˜¯å·²ç»æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­çš„<code>ViewResolver</code>)è¿”å›ç»™<code>DispatcherServlet</code>ã€‚</p></li><li><p><code>ViewResolver</code> ç»“åˆ<code>Model</code>å’Œ<code>View</code>ï¼Œæ¥æ¸²æŸ“è§†å›¾ã€‚</p></li><li><p>è§†å›¾è´Ÿè´£å°†æ¸²æŸ“ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p></li></ol><h3 id="ä»‹ç»ä¸€ä¸‹-webapplicationcontext"><a class="markdownIt-Anchor" href="#ä»‹ç»ä¸€ä¸‹-webapplicationcontext"></a> ä»‹ç»ä¸€ä¸‹ WebApplicationContext</h3><p>WebApplicationContext æ˜¯ ApplicationContext çš„æ‰©å±•ã€‚å®ƒå…·æœ‰ Web åº”ç”¨ç¨‹åºæ‰€éœ€çš„ä¸€äº›é¢å¤–åŠŸèƒ½ã€‚å®ƒä¸æ™®é€šçš„ ApplicationContext åœ¨è§£æä¸»é¢˜å’Œå†³å®šä¸å“ªä¸ª servlet å…³è”çš„èƒ½åŠ›æ–¹é¢æœ‰æ‰€ä¸åŒã€‚</p><p>æœ¬æ–‡å¤§éƒ¨åˆ†ä»ç½‘ç»œæ”¶é›†,å¸Œæœ›æ­¤æ–‡èƒ½ç»™æ‚¨å¸¦æ¥å¸®åŠ©!</p><p>å¦‚æœæ‚¨æœ‰æ›´å¥½çš„å»ºè®®å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€!</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ä¸€èˆ¬é—®é¢˜&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ä¸€èˆ¬é—®é¢˜&quot;&gt;&lt;/a&gt; ä¸€èˆ¬é—®é¢˜&lt;/h2&gt;
&lt;h3 id=&quot;ä¸åŒç‰ˆæœ¬çš„-spring-framework-æœ‰å“ªäº›ä¸»è¦åŠŸèƒ½&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; </summary>
      
    
    
    
    <category term="Spring" scheme="https://serms.top/categories/Spring/"/>
    
    <category term="Java" scheme="https://serms.top/categories/Java/"/>
    
    <category term="é¢è¯•é¢˜" scheme="https://serms.top/categories/Spring/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
    
    <category term="Spring" scheme="https://serms.top/tags/Spring/"/>
    
    <category term="Springé¢è¯•é¢˜" scheme="https://serms.top/tags/Spring%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>SpringBeanå£°æ˜å‘¨æœŸ</title>
    <link href="https://serms.top/posts/93f3f3c2/"/>
    <id>https://serms.top/posts/93f3f3c2/</id>
    <published>2022-05-04T10:06:04.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<h2 id="spring-bean-ç®€ä»‹"><a class="markdownIt-Anchor" href="#spring-bean-ç®€ä»‹"></a> Spring Bean ç®€ä»‹</h2><p>å¦‚ä½•æ³¨å†Œä¸€ä¸ª Spring Beanï¼Ÿ</p><p>é€šè¿‡ BeanDefinition å’Œå¤–éƒ¨å•ä½“å¯¹è±¡æ¥æ³¨å†Œ</p><h3 id="beandefinition"><a class="markdownIt-Anchor" href="#beandefinition"></a> BeanDefinition</h3><h4 id="ä»€ä¹ˆæ˜¯-beandefinition"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯-beandefinition"></a> ä»€ä¹ˆæ˜¯ BeanDefinition</h4><p><code>BeanDefinition</code> æ˜¯ Spring Framework ä¸­å®šä¹‰ Bean çš„é…ç½®å…ƒä¿¡æ¯æ¥å£ï¼ŒåŒ…å«ï¼š</p><ul><li>Bean ç±»å</li><li>Bean è¡Œä¸ºé…ç½®å…ƒç´ ï¼Œå¦‚ï¼šä½œç”¨åŸŸã€è‡ªåŠ¨ç»‘å®šçš„æ¨¡å¼ã€ç”Ÿå‘½å‘¨æœŸå›è°ƒç­‰</li><li>å…¶ä»– Bean å¼•ç”¨</li><li>é…ç½®è®¾ç½®ï¼Œå¦‚ Bean å±æ€§ï¼ˆPropertiesï¼‰</li></ul><h4 id="lbeandefinition-å…ƒä¿¡æ¯beandefinition-å…ƒä¿¡æ¯"><a class="markdownIt-Anchor" href="#lbeandefinition-å…ƒä¿¡æ¯beandefinition-å…ƒä¿¡æ¯"></a> l#beandefinition-å…ƒä¿¡æ¯)BeanDefinition å…ƒä¿¡æ¯</h4><p><code>BeanDefinition</code> å…ƒä¿¡æ¯å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å±æ€§ï¼ˆPropertyï¼‰</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Class Bean</td><td>å…¨ç±»åï¼Œå¿…é¡»æ˜¯å…·ä½“ç±»ï¼Œä¸èƒ½ç”¨æŠ½è±¡ç±»æˆ–æ¥å£</td></tr><tr><td>Name Bean</td><td>çš„åç§°æˆ–è€… ID</td></tr><tr><td>Scope Bean</td><td>çš„ä½œç”¨åŸŸï¼ˆå¦‚ï¼šsingletonã€prototype ç­‰ï¼‰</td></tr><tr><td>Constructor arguments Bean</td><td>æ„é€ å™¨å‚æ•°ï¼ˆç”¨äºä¾èµ–æ³¨å…¥ï¼‰</td></tr><tr><td>Properties Bean</td><td>å±æ€§è®¾ç½®ï¼ˆç”¨äºä¾èµ–æ³¨å…¥ï¼‰</td></tr><tr><td>Autowiring mode Bean</td><td>è‡ªåŠ¨ç»‘å®šæ¨¡å¼ï¼ˆå¦‚ï¼šé€šè¿‡åç§° byNameï¼‰</td></tr><tr><td>Lazy initialization mode Bean</td><td>å»¶è¿Ÿåˆå§‹åŒ–æ¨¡å¼ï¼ˆå»¶è¿Ÿå’Œéå»¶è¿Ÿï¼‰</td></tr><tr><td>Initialization method Bean</td><td>åˆå§‹åŒ–å›è°ƒæ–¹æ³•åç§°</td></tr><tr><td>Destruction method Bean</td><td>é”€æ¯å›è°ƒæ–¹æ³•åç§°</td></tr></tbody></table><h4 id="beandefinition-æ„å»º"><a class="markdownIt-Anchor" href="#beandefinition-æ„å»º"></a> BeanDefinition æ„å»º</h4><p>BeanDefinition æ„å»ºæ–¹å¼ï¼š</p><ul><li>é€šè¿‡ <code>BeanDefinitionBuilder</code></li><li>é€šè¿‡ <code>AbstractBeanDefinition</code> ä»¥åŠæ´¾ç”Ÿç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.é€šè¿‡ BeanDefinitionBuilder æ„å»º</span></span><br><span class="line"><span class="type">BeanDefinitionBuilder</span> <span class="variable">beanDefinitionBuilder</span> <span class="operator">=</span> BeanDefinitionBuilder.genericBeanDefinition(User.class);</span><br><span class="line"><span class="comment">// é€šè¿‡å±æ€§è®¾ç½®</span></span><br><span class="line">beanDefinitionBuilder</span><br><span class="line">  .addPropertyValue(<span class="string">&quot;id&quot;</span>, <span class="number">1</span>)</span><br><span class="line">  .addPropertyValue(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;å°é©¬å“¥&quot;</span>);</span><br><span class="line"><span class="comment">// è·å– BeanDefinition å®ä¾‹</span></span><br><span class="line"><span class="type">BeanDefinition</span> <span class="variable">beanDefinition</span> <span class="operator">=</span> beanDefinitionBuilder.getBeanDefinition();</span><br><span class="line"><span class="comment">// BeanDefinition å¹¶é Bean ç»ˆæ€ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. é€šè¿‡ AbstractBeanDefinition ä»¥åŠæ´¾ç”Ÿç±»</span></span><br><span class="line"><span class="type">GenericBeanDefinition</span> <span class="variable">genericBeanDefinition</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericBeanDefinition</span>();</span><br><span class="line"><span class="comment">// è®¾ç½® Bean ç±»å‹</span></span><br><span class="line">genericBeanDefinition.setBeanClass(User.class);</span><br><span class="line"><span class="comment">// é€šè¿‡ MutablePropertyValues æ‰¹é‡æ“ä½œå±æ€§</span></span><br><span class="line"><span class="type">MutablePropertyValues</span> <span class="variable">propertyValues</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MutablePropertyValues</span>();</span><br><span class="line"><span class="comment">//        propertyValues.addPropertyValue(&quot;id&quot;, 1);</span></span><br><span class="line"><span class="comment">//        propertyValues.addPropertyValue(&quot;name&quot;, &quot;å°é©¬å“¥&quot;);</span></span><br><span class="line">propertyValues</span><br><span class="line">  .add(<span class="string">&quot;id&quot;</span>, <span class="number">1</span>)</span><br><span class="line">  .add(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;å°é©¬å“¥&quot;</span>);</span><br><span class="line"><span class="comment">// é€šè¿‡ set MutablePropertyValues æ‰¹é‡æ“ä½œå±æ€§</span></span><br><span class="line">genericBeanDefinition.setPropertyValues(propertyValues);</span><br></pre></td></tr></table></figure><h3 id="å‘½å-spring-bean"><a class="markdownIt-Anchor" href="#å‘½å-spring-bean"></a> å‘½å Spring Bean</h3><h4 id="spring-bean-å‘½åè§„åˆ™"><a class="markdownIt-Anchor" href="#spring-bean-å‘½åè§„åˆ™"></a> Spring Bean å‘½åè§„åˆ™</h4><p>æ¯ä¸ª Bean æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ ‡è¯†ç¬¦ï¼ˆidentifiersï¼‰ï¼Œè¿™äº›æ ‡è¯†ç¬¦åœ¨ Bean æ‰€åœ¨çš„å®¹å™¨å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚é€šå¸¸ï¼Œä¸€ä¸ª Bean ä»…æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå¦‚æœéœ€è¦é¢å¤–çš„ï¼Œå¯è€ƒè™‘ä½¿ç”¨åˆ«åï¼ˆAliasï¼‰æ¥æ‰©å……ã€‚</p><p>åœ¨åŸºäº XML çš„é…ç½®å…ƒä¿¡æ¯ä¸­ï¼Œå¼€å‘äººå‘˜å¯ç”¨ id æˆ–è€… name å±æ€§æ¥è§„å®š Bean çš„æ ‡è¯†ç¬¦ã€‚é€šå¸¸ Bean çš„æ ‡è¯†ç¬¦ç”±å­—æ¯ç»„æˆï¼Œå…è®¸å‡ºç°ç‰¹æ®Šå­—ç¬¦ã€‚å¦‚æœè¦æƒ³å¼•å…¥ Bean çš„åˆ«åçš„è¯ï¼Œå¯åœ¨ name å±æ€§ä½¿ç”¨åŠè§’é€—å·ï¼ˆâ€œ,â€ï¼‰æˆ–åˆ†å·ï¼ˆâ€œ;â€) æ¥é—´éš”ã€‚</p><p>Bean çš„ id æˆ– name å±æ€§å¹¶éå¿…é¡»åˆ¶å®šï¼Œå¦‚æœç•™ç©ºçš„è¯ï¼Œå®¹å™¨ä¼šä¸º Bean è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„åç§°ã€‚Bean çš„å‘½åå°½ç®¡æ²¡æœ‰é™åˆ¶ï¼Œä¸è¿‡å®˜æ–¹å»ºè®®é‡‡ç”¨é©¼å³°çš„æ–¹å¼ï¼Œæ›´ç¬¦åˆ Java çš„å‘½åçº¦å®šã€‚</p><h4 id="spring-bean-å‘½åç”Ÿæˆå™¨"><a class="markdownIt-Anchor" href="#spring-bean-å‘½åç”Ÿæˆå™¨"></a> Spring Bean å‘½åç”Ÿæˆå™¨</h4><p>Spring æä¾›äº†ä¸¤ç§ Spring Bean å‘½åç”Ÿæˆå™¨ï¼š</p><ul><li>DefaultBeanNameGeneratorï¼šé»˜è®¤é€šç”¨ BeanNameGenerator å®ç°ã€‚</li><li>AnnotationBeanNameGeneratorï¼šåŸºäºæ³¨è§£æ‰«æçš„ BeanNameGenerator å®ç°ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BeanNameGenerator</span> &#123;</span><br><span class="line">   String <span class="title function_">generateBeanName</span><span class="params">(BeanDefinition definition, BeanDefinitionRegistry registry)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="spring-bean-åˆ«å"><a class="markdownIt-Anchor" href="#spring-bean-åˆ«å"></a> Spring Bean åˆ«å</h4><p>å¯èƒ½å­˜åœ¨è¿™æ ·çš„åœºæ™¯ï¼Œä¸åŒç³»ç»Ÿä¸­å¯¹äºåŒä¸€ bean çš„å‘½åæ–¹å¼ä¸ä¸€æ ·ã€‚ ä¸ºäº†é€‚é…ï¼ŒSpring æ”¯æŒ <code>&lt;alias&gt;</code> ä¸º bean æ·»åŠ åˆ«åçš„åŠŸèƒ½ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;io.github.dunwu.spring.core.domain.User&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">p:name</span>=<span class="string">&quot;å¼ ä¸‰&quot;</span> <span class="attr">p:age</span>=<span class="string">&quot;18&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">alias</span> <span class="attr">name</span>=<span class="string">&quot;sysUser&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;superUser&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>Bean åˆ«åï¼ˆAliasï¼‰çš„ä½œç”¨ï¼š</p><ul><li>å¤ç”¨ç°æœ‰çš„ BeanDefinition</li><li>æ›´å…·æœ‰åœºæ™¯åŒ–çš„å‘½åæ–¹æ³•ï¼Œæ¯”å¦‚ï¼š<ul><li><code>&lt;alias name=&quot;myApp-dataSource&quot; alias=&quot;subsystemA-dataSource&quot;/&gt;</code></li><li><code>&lt;alias name=&quot;myApp-dataSource&quot; alias=&quot;subsystemB-dataSource&quot;/&gt;</code></li></ul></li></ul><h2 id="bean-ç”Ÿå‘½å‘¨æœŸæµç¨‹"><a class="markdownIt-Anchor" href="#bean-ç”Ÿå‘½å‘¨æœŸæµç¨‹"></a> Bean ç”Ÿå‘½å‘¨æœŸæµç¨‹</h2><p><img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F14623831-a87d9a6ee1be94a3.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240&amp;refer=http%3A%2F%2Fupload-images.jianshu.io&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1654251154&amp;t=39886bb51305eca4d749695ecca02657" alt="img" /></p><ol><li>Spring å¯¹ Bean è¿›è¡Œå®ä¾‹åŒ–ï¼ˆç›¸å½“äº new XXX()ï¼‰</li><li>Spring å°†å€¼å’Œå¼•ç”¨æ³¨å…¥è¿› Bean å¯¹åº”çš„å±æ€§ä¸­</li><li>å¦‚æœ Bean å®ç°äº† <code>BeanNameAware</code> æ¥å£ï¼ŒSpring å°† Bean çš„ ID ä¼ é€’ç»™ <code>setBeanName</code> æ–¹æ³•<ul><li>ä½œç”¨æ˜¯é€šè¿‡ Bean çš„å¼•ç”¨æ¥è·å¾— Bean IDï¼Œä¸€èˆ¬ä¸šåŠ¡ä¸­æ˜¯å¾ˆå°‘æœ‰ç”¨åˆ° Bean çš„ ID çš„</li></ul></li><li>å¦‚æœ Bean å®ç°äº† <code>BeanFactoryAware</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨ <code>setBeanDactory</code> æ–¹æ³•ï¼Œå¹¶æŠŠ <code>BeanFactory</code> å®¹å™¨å®ä¾‹ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚<ul><li>ä½œç”¨æ˜¯è·å– Spring å®¹å™¨ï¼Œå¦‚ Bean é€šè¿‡ Spring å®¹å™¨å‘å¸ƒäº‹ä»¶ç­‰</li></ul></li><li>å¦‚æœ Bean å®ç°äº† <code>ApplicationContextAware</code> æ¥å£ï¼ŒSpring å®¹å™¨å°†è°ƒç”¨ <code>setApplicationContext</code> æ–¹æ³•ï¼ŒæŠŠåº”ç”¨ä¸Šä¸‹æ–‡ä½œä¸ºå‚æ•°ä¼ å…¥<ul><li>ä½œç”¨ä¸ <code>BeanFactory</code> ç±»ä¼¼éƒ½æ˜¯ä¸ºäº†è·å– Spring å®¹å™¨ï¼Œä¸åŒçš„æ˜¯ Spring å®¹å™¨åœ¨è°ƒç”¨ <code>setApplicationContext</code> æ–¹æ³•æ—¶ä¼šæŠŠå®ƒè‡ªå·±ä½œä¸º <code>setApplicationContext</code> çš„å‚æ•°ä¼ å…¥ï¼Œè€Œ Spring å®¹å™¨åœ¨è°ƒç”¨ <code>setBeanFactory</code> å‰éœ€è¦ä½¿ç”¨è€…è‡ªå·±æŒ‡å®šï¼ˆæ³¨å…¥ï¼‰<code>setBeanFactory</code> é‡Œçš„å‚æ•° <code>BeanFactory</code></li></ul></li><li>å¦‚æœ Bean å®ç°äº† <code>BeanPostProcess</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨ <code>postProcessBeforeInitialization</code> æ–¹æ³•<ul><li>ä½œç”¨æ˜¯åœ¨ Bean å®ä¾‹åˆ›å»ºæˆåŠŸåå¯¹å…¶è¿›è¡Œå¢å¼ºå¤„ç†ï¼Œå¦‚å¯¹ Bean è¿›è¡Œä¿®æ”¹ï¼Œå¢åŠ æŸä¸ªåŠŸèƒ½</li></ul></li><li>å¦‚æœ Bean å®ç°äº† <code>InitializingBean</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨ <code>afterPropertiesSet</code> æ–¹æ³•ï¼Œä½œç”¨ä¸åœ¨é…ç½®æ–‡ä»¶ä¸­å¯¹ Bean ä½¿ç”¨ <code>init-method</code> å£°æ˜åˆå§‹åŒ–çš„ä½œç”¨ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ Bean çš„å…¨éƒ¨å±æ€§è®¾ç½®æˆåŠŸåæ‰§è¡Œçš„åˆå§‹åŒ–æ–¹æ³•ã€‚</li><li>å¦‚æœ Bean å®ç°äº† <code>BeanPostProcess</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨ <code>postProcessAfterInitialization</code> æ–¹æ³•<ul><li><code>postProcessBeforeInitialization</code> æ˜¯åœ¨ Bean åˆå§‹åŒ–å‰æ‰§è¡Œçš„ï¼Œè€Œ <code>postProcessAfterInitialization</code> æ˜¯åœ¨ Bean åˆå§‹åŒ–åæ‰§è¡Œçš„</li></ul></li><li>ç»è¿‡ä»¥ä¸Šçš„å·¥ä½œåï¼ŒBean å°†ä¸€ç›´é©»ç•™åœ¨åº”ç”¨ä¸Šä¸‹æ–‡ä¸­ç»™åº”ç”¨ä½¿ç”¨ï¼Œç›´åˆ°åº”ç”¨ä¸Šä¸‹æ–‡è¢«é”€æ¯</li><li>å¦‚æœ Bean å®ç°äº† <code>DispostbleBean</code> æ¥å£ï¼ŒSpring å°†è°ƒç”¨å®ƒçš„ <code>destory</code> æ–¹æ³•ï¼Œä½œç”¨ä¸åœ¨é…ç½®æ–‡ä»¶ä¸­å¯¹ Bean ä½¿ç”¨ <code>destory-method</code> å±æ€§çš„ä½œç”¨ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨ Bean å®ä¾‹é”€æ¯å‰æ‰§è¡Œçš„æ–¹æ³•ã€‚</li></ol><h2 id="spring-bean-æ³¨å†Œ"><a class="markdownIt-Anchor" href="#spring-bean-æ³¨å†Œ"></a> Spring Bean æ³¨å†Œ</h2><p>æ³¨å†Œ Spring Bean å®é™…ä¸Šæ˜¯å°† <code>BeanDefinition</code> æ³¨å†Œåˆ° IoC å®¹å™¨ä¸­ã€‚</p><h3 id="xml-é…ç½®å…ƒä¿¡æ¯"><a class="markdownIt-Anchor" href="#xml-é…ç½®å…ƒä¿¡æ¯"></a> XML é…ç½®å…ƒä¿¡æ¯</h3><p>Spring çš„ä¼ ç»Ÿé…ç½®æ–¹å¼ã€‚åœ¨ <code>&lt;bean&gt;</code> æ ‡ç­¾ä¸­é…ç½®å…ƒæ•°æ®å†…å®¹ã€‚</p><p>ç¼ºç‚¹æ˜¯å½“ JavaBean è¿‡å¤šæ—¶ï¼Œäº§ç”Ÿçš„é…ç½®æ–‡ä»¶è¶³ä»¥è®©ä½ çœ¼èŠ±ç¼­ä¹±ã€‚</p><h3 id="æ³¨è§£é…ç½®å…ƒä¿¡æ¯"><a class="markdownIt-Anchor" href="#æ³¨è§£é…ç½®å…ƒä¿¡æ¯"></a> æ³¨è§£é…ç½®å…ƒä¿¡æ¯</h3><p>ä½¿ç”¨ <code>@Bean</code>ã€<code>@Component</code>ã€<code>@Import</code> æ³¨è§£æ³¨å†Œ Spring Beanã€‚</p><h3 id="java-api-é…ç½®å…ƒä¿¡æ¯"><a class="markdownIt-Anchor" href="#java-api-é…ç½®å…ƒä¿¡æ¯"></a> Java API é…ç½®å…ƒä¿¡æ¯</h3><ul><li>å‘½åæ–¹å¼ï¼š<code>BeanDefinitionRegistry#registerBeanDefinition(String,BeanDefinition)</code></li><li>éå‘½åæ–¹å¼ï¼š<code>BeanDefinitionReaderUtils#registerWithGeneratedName(AbstractBeanDefinition,Be</code> <code>anDefinitionRegistry)</code></li><li>é…ç½®ç±»æ–¹å¼ï¼š<code>AnnotatedBeanDefinitionReader#register(Class...)</code></li></ul><p>[ç¤ºä¾‹]</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Import(AnnotationComponentScan.MyConfiguration.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationComponentScan</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">      <span class="comment">// åˆ›å»º BeanFactory å®¹å™¨</span></span><br><span class="line">      <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 1.æ³¨å†Œé…ç½®ç±»</span></span><br><span class="line">      ctx.register(AnnotationComponentScan.class);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 2.é€šè¿‡ Java API æ³¨å†Œ</span></span><br><span class="line">      registerBeanDefinition(ctx, <span class="string">&quot;zhaoliu&quot;</span>, User.class);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å¯åŠ¨åº”ç”¨ä¸Šä¸‹æ–‡</span></span><br><span class="line">      ctx.refresh();</span><br><span class="line"></span><br><span class="line">      <span class="type">User</span> <span class="variable">wangwu</span> <span class="operator">=</span> (User) ctx.getBean(<span class="string">&quot;wangwu&quot;</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;wangwu info: &quot;</span> + wangwu);</span><br><span class="line">      System.out.println(<span class="string">&quot;All beans of User: &quot;</span> + ctx.getBeansOfType(User.class));</span><br><span class="line"></span><br><span class="line">      <span class="comment">//æ˜¾ç¤ºå…³é—­ ApplicationContext</span></span><br><span class="line">      ctx.close();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">registerBeanDefinition</span><span class="params">(BeanDefinitionRegistry registry, String beanName, Class&lt;?&gt; beanClass)</span> &#123;</span><br><span class="line">      <span class="type">BeanDefinitionBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> BeanDefinitionBuilder.genericBeanDefinition(beanClass);</span><br><span class="line">      builder.addPropertyValue(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;èµµå…­&quot;</span>);</span><br><span class="line">      builder.addPropertyValue(<span class="string">&quot;age&quot;</span>, <span class="number">31</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æ³¨å†Œ BeanDefinition</span></span><br><span class="line">      registry.registerBeanDefinition(beanName, builder.getBeanDefinition());</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Configuration</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">MyConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æ³¨è§£æ–¹å¼é…ç½®å…ƒä¿¡æ¯</span></span><br><span class="line">      <span class="meta">@Bean(name = &#123; &quot;user&quot;, &quot;wangwu&quot; &#125;)</span></span><br><span class="line">      <span class="keyword">public</span> User <span class="title function_">user</span><span class="params">()</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;ç‹äº”&quot;</span>, <span class="number">21</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="spring-bean-å®ä¾‹åŒ–"><a class="markdownIt-Anchor" href="#spring-bean-å®ä¾‹åŒ–"></a> Spring Bean å®ä¾‹åŒ–</h2><p>Spring Bean å®ä¾‹åŒ–æ–¹å¼ï¼š</p><ul><li>å¸¸è§„æ–¹å¼<ul><li>é€šè¿‡æ„é€ å™¨ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰</li><li>é€šè¿‡é™æ€å·¥å‚æ–¹æ³•ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰</li><li>é€šè¿‡ Bean å·¥å‚æ–¹æ³•ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰</li><li>é€šè¿‡ <code>FactoryBean</code>ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java APIï¼‰</li></ul></li><li>ç‰¹æ®Šæ–¹å¼<ul><li>é€šè¿‡ <code>ServiceLoaderFactoryBean</code>ï¼ˆé…ç½®å…ƒä¿¡æ¯ï¼šXMLã€Java æ³¨è§£å’Œ Java API ï¼‰</li><li>é€šè¿‡ <code>AutowireCapableBeanFactory#createBean(java.lang.Class, int, boolean)</code></li><li>é€šè¿‡ <code>BeanDefinitionRegistry#registerBeanDefinition(String,BeanDefinition)</code></li></ul></li></ul><h2 id="spring-bean-åˆå§‹åŒ–å’Œé”€æ¯"><a class="markdownIt-Anchor" href="#spring-bean-åˆå§‹åŒ–å’Œé”€æ¯"></a> Spring Bean åˆå§‹åŒ–å’Œé”€æ¯</h2><p>Spring Bean åˆå§‹åŒ–å’Œé”€æ¯çš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ol><li>ä½¿ç”¨ <code>@PostConstruct</code> å’Œ <code>@PreDestroy</code> æ³¨è§£åˆ†åˆ«æŒ‡å®šç›¸åº”çš„åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ã€‚</li><li>å®ç° <code>InitializingBean</code> æ¥å£çš„ <code>afterPropertiesSet()</code> æ–¹æ³•æ¥ç¼–å†™åˆå§‹åŒ–æ–¹æ³•ï¼›å®ç° <code>DisposableBean</code> æ¥å£çš„ <code>destroy()</code> æ–¹æ³•æ¥ç¼–å†™é”€æ¯æ–¹æ³•ã€‚</li><li>è‡ªå®šä¹‰åˆå§‹åŒ–æ–¹æ³•<ul><li>XML é…ç½®ï¼š<code>&lt;bean init-method=&quot;init&quot; destroy=&quot;destroy&quot; ... /&gt;</code></li><li>Java æ³¨è§£ï¼š<code>@Bean(initMethod = &quot;init&quot;, destroyMethod = &quot;destroy&quot;)</code></li><li>Java APIï¼š<code>AbstractBeanDefinition#setInitMethodName(String)</code> å’Œ <code>AbstractBeanDefinition#setDestroyMethodName(String)</code> åˆ†åˆ«å®šä¹‰åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•</li></ul></li></ol><p>æ³¨æ„ï¼šå¦‚æœåŒæ—¶å­˜åœ¨ï¼Œæ‰§è¡Œé¡ºåºä¼šæŒ‰ç…§åºåˆ—æ‰§è¡Œã€‚</p><h3 id="bean-çš„-initmethod-å’Œ-destroymethod"><a class="markdownIt-Anchor" href="#bean-çš„-initmethod-å’Œ-destroymethod"></a> <code>@Bean</code> çš„ initMethod å’Œ destroyMethod</h3><p>ï¼ˆ1ï¼‰å®šä¹‰ Bean å®ä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pojo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pojo</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[Pojo æ„é€ æ–¹æ³•]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[Pojo åˆå§‹åŒ–æ–¹æ³•]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[Pojo é”€æ¯æ–¹æ³•]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ä½¿ç”¨ <code>@Bean</code> åœ¨é…ç½®ç±»ä¸­æ³¨å†Œ Bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationBeanDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(initMethod = &quot;init&quot;, destroyMethod = &quot;destroy&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Pojo <span class="title function_">pojo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pojo</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¯´æ˜ï¼š<code>@Bean</code> æ³¨è§£çš„ <code>initMethod</code> å’Œ <code>destroyMethod</code> å±æ€§åˆ†åˆ«ç”¨äºæŒ‡å®š Bean å¯¹åº”çš„åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ã€‚</p></blockquote><p>ï¼ˆ3ï¼‰æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(AnnotationBeanDemo.class);</span><br><span class="line">    System.out.println(<span class="string">&quot;AnnotationBeanDemo ç¤ºä¾‹ç»“æŸ&quot;</span>);</span><br><span class="line">    context.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Pojo æ„é€ æ–¹æ³•]</span><br><span class="line">[Pojo åˆå§‹åŒ–æ–¹æ³•]</span><br><span class="line">AnnotationBeanDemo ç¤ºä¾‹ç»“æŸ</span><br><span class="line">[Pojo é”€æ¯æ–¹æ³•]</span><br></pre></td></tr></table></figure><h3 id="initializingbean-å’Œ-disposablebean"><a class="markdownIt-Anchor" href="#initializingbean-å’Œ-disposablebean"></a> <code>InitializingBean</code> å’Œ <code>DisposableBean</code></h3><ul><li><code>InitializingBean</code> æ¥å£åŒ…å«ä¸€ä¸ª <code>afterPropertiesSet</code> æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å®ç°è¯¥æ¥å£ï¼Œç„¶ååœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™åˆå§‹åŒ–é€»è¾‘ã€‚</li><li><code>DisposableBean</code>æ¥å£åŒ…å«ä¸€ä¸ª <code>destory</code> æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å®ç°è¯¥æ¥å£ï¼Œç„¶ååœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™é”€æ¯é€»è¾‘ã€‚</li></ul><p>ï¼ˆ1ï¼‰å®šä¹‰ Bean å®ä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Pojo2</span> <span class="keyword">implements</span> <span class="title class_">InitializingBean</span>, DisposableBean &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pojo2</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[Pojo2 æ„é€ æ–¹æ³•]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterPropertiesSet</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[Pojo2 åˆå§‹åŒ–æ–¹æ³•]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[Pojo2 é”€æ¯æ–¹æ³•]&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ä½¿ç”¨ <code>@Bean</code> åœ¨é…ç½®ç±»ä¸­æ³¨å†Œ Bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationBeanDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Pojo2 <span class="title function_">pojo2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pojo2</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(AnnotationBeanDemo.class);</span><br><span class="line">    System.out.println(<span class="string">&quot;AnnotationBeanDemo ç¤ºä¾‹ç»“æŸ&quot;</span>);</span><br><span class="line">    context.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[Pojo2 æ„é€ æ–¹æ³•]</span><br><span class="line">[Pojo2 åˆå§‹åŒ–æ–¹æ³•]</span><br><span class="line">AnnotationBeanDemo ç¤ºä¾‹ç»“æŸ</span><br><span class="line">[Pojo2 é”€æ¯æ–¹æ³•]</span><br></pre></td></tr></table></figure><h3 id="postconstruct-å’Œ-predestroy"><a class="markdownIt-Anchor" href="#postconstruct-å’Œ-predestroy"></a> <code>@PostConstruct</code> å’Œ <code>@PreDestroy</code></h3><p>å¯ä»¥ä½¿ç”¨ <code>@PostConstruct</code> å’Œ <code>@PreDestroy</code> æ³¨è§£ä¿®é¥°æ–¹æ³•æ¥æŒ‡å®šç›¸åº”çš„åˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•ã€‚</p><h3 id="beanpostprocessor"><a class="markdownIt-Anchor" href="#beanpostprocessor"></a> <code>BeanPostProcessor</code></h3><p>Spring æä¾›äº†ä¸€ä¸ª <code>BeanPostProcessor</code> æ¥å£ï¼Œæä¾›äº†ä¸¤ä¸ªæ–¹æ³• <code>postProcessBeforeInitialization</code> å’Œ <code>postProcessAfterInitialization</code>ã€‚å…¶ä¸­<code>postProcessBeforeInitialization</code> åœ¨ç»„ä»¶çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹å‰æ‰§è¡Œï¼Œ<code>postProcessAfterInitialization</code> åœ¨ç»„ä»¶çš„åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨ä¹‹åæ‰§è¡Œã€‚å®ƒä»¬éƒ½åŒ…å«ä¸¤ä¸ªå…¥å‚ï¼š</p><ol><li>beanï¼šå½“å‰ç»„ä»¶å¯¹è±¡ï¼›</li><li>beanNameï¼šå½“å‰ç»„ä»¶åœ¨å®¹å™¨ä¸­çš„åç§°ã€‚</li></ol><p>ï¼ˆ1ï¼‰å®šä¹‰ Pojoï¼Œå¦‚ä¸Šé¢çš„ä¾‹å­</p><p>ï¼ˆ2ï¼‰å®šä¹‰ <code>BeanPostProcessor</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBeanPostProcessor</span> <span class="keyword">implements</span> <span class="title class_">BeanPostProcessor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyBeanPostProcessor</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[BeanPostProcessor] construct&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">postProcessBeforeInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[BeanPostProcessor] postProcessBeforeInitialization&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">postProcessAfterInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[BeanPostProcessor] postProcessAfterInitialization&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰ä½¿ç”¨ <code>@Bean</code> åœ¨é…ç½®ç±»ä¸­æ³¨å†Œ Bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> Pojo <span class="title function_">pojo</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pojo</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> MyBeanPostProcessor <span class="title function_">myBeanPostProcessor</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyBeanPostProcessor</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(MyBeanPostProcessorDemo.class);</span><br><span class="line">    System.out.println(<span class="string">&quot;BeanPostProcessorDemo ç¤ºä¾‹ç»“æŸ&quot;</span>);</span><br><span class="line">    context.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[BeanPostProcessor] construct</span><br><span class="line">[Pojo æ„é€ æ–¹æ³•]</span><br><span class="line">[BeanPostProcessor] postProcessBeforeInitialization</span><br><span class="line">[Pojo åˆå§‹åŒ–æ–¹æ³•]</span><br><span class="line">[BeanPostProcessor] postProcessAfterInitialization</span><br><span class="line">BeanPostProcessorDemo ç¤ºä¾‹ç»“æŸ</span><br><span class="line">[Pojo é”€æ¯æ–¹æ³•]</span><br></pre></td></tr></table></figure><h2 id="spring-bean-åƒåœ¾å›æ”¶"><a class="markdownIt-Anchor" href="#spring-bean-åƒåœ¾å›æ”¶"></a> Spring Bean åƒåœ¾å›æ”¶</h2><p>Spring Bean åƒåœ¾å›æ”¶æ­¥éª¤ï¼š</p><ol><li>å…³é—­ Spring å®¹å™¨ï¼ˆåº”ç”¨ä¸Šä¸‹æ–‡ï¼‰</li><li>æ‰§è¡Œ GC</li><li>Spring Bean è¦†ç›–çš„ finalize() æ–¹æ³•è¢«å›è°ƒ</li></ol><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans">Spring å®˜æ–¹æ–‡æ¡£ä¹‹ Core Technologies</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;spring-bean-ç®€ä»‹&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#spring-bean-ç®€ä»‹&quot;&gt;&lt;/a&gt; Spring Bean ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;å¦‚ä½•æ³¨å†Œä¸€ä¸ª Spring Beanï¼Ÿ&lt;/p&gt;
&lt;p&gt;é€šè¿‡ BeanDe</summary>
      
    
    
    
    <category term="Spring" scheme="https://serms.top/categories/Spring/"/>
    
    <category term="SpringBeanç”Ÿå‘½å‘¨æœŸ" scheme="https://serms.top/categories/Spring/SpringBean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"/>
    
    <category term="Java" scheme="https://serms.top/categories/Java/"/>
    
    
    <category term="Java" scheme="https://serms.top/tags/Java/"/>
    
    <category term="SpringBeanç”Ÿå‘½å‘¨æœŸ" scheme="https://serms.top/tags/SpringBean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"/>
    
  </entry>
  
  <entry>
    <title>Spring-ä¾èµ–æ³¨å…¥IOC</title>
    <link href="https://serms.top/posts/841c624e/"/>
    <id>https://serms.top/posts/841c624e/</id>
    <published>2022-05-04T09:41:05.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ioc-æ¦‚å¿µç®€ä»‹"><a class="markdownIt-Anchor" href="#ioc-æ¦‚å¿µç®€ä»‹"></a> IoC æ¦‚å¿µç®€ä»‹</h2><h3 id="ioc-æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#ioc-æ˜¯ä»€ä¹ˆ"></a> IoC æ˜¯ä»€ä¹ˆ</h3><blockquote><p><strong>IoCï¼Œæ˜¯ Inversion of Control çš„ç¼©å†™ï¼Œå³æ§åˆ¶åè½¬ã€‚</strong></p><ul><li>ä¸Šå±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºä¸‹å±‚æ¨¡å—ï¼Œå®ƒä»¬å…±åŒä¾èµ–äºä¸€ä¸ªæŠ½è±¡</li><li>æŠ½è±¡ä¸èƒ½ä¾èµ–äºå…·ä½“å®ç°ï¼Œå…·ä½“å®ç°ä¾èµ–äºæŠ½è±¡</li></ul><p><em>æ³¨ï¼šåˆç§°ä¸ºä¾èµ–å€’ç½®åŸåˆ™ã€‚è¿™æ˜¯è®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™ä¹‹ä¸€ã€‚</em></p></blockquote><p>IoC ä¸æ˜¯ä»€ä¹ˆæŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚åœ¨ Java å¼€å‘ä¸­ï¼ŒIoC æ„å‘³ç€å°†ä½ è®¾è®¡å¥½çš„å¯¹è±¡äº¤ç»™å®¹å™¨æ§åˆ¶ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿçš„åœ¨ä½ çš„å¯¹è±¡å†…éƒ¨ç›´æ¥æ§åˆ¶ã€‚å¦‚ä½•ç†è§£ Ioc å‘¢ï¼Ÿç†è§£ Ioc çš„å…³é”®æ˜¯è¦æ˜ç¡®â€œè°æ§åˆ¶è°ï¼Œæ§åˆ¶ä»€ä¹ˆï¼Œä¸ºä½•æ˜¯åè½¬ï¼ˆæœ‰åè½¬å°±åº”è¯¥æœ‰æ­£è½¬äº†ï¼‰ï¼Œå“ªäº›æ–¹é¢åè½¬äº†â€ï¼Œé‚£æˆ‘ä»¬æ¥æ·±å…¥åˆ†æä¸€ä¸‹ï¼š</p><ul><li>**è°æ§åˆ¶è°ï¼Œæ§åˆ¶ä»€ä¹ˆï¼š**ä¼ ç»Ÿ JavaSE ç¨‹åºè®¾è®¡ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨å¯¹è±¡å†…éƒ¨é€šè¿‡ new è¿›è¡Œåˆ›å»ºå¯¹è±¡ï¼Œæ˜¯ç¨‹åºä¸»åŠ¨å»åˆ›å»ºä¾èµ–å¯¹è±¡ï¼›è€Œ IoC æ˜¯æœ‰ä¸“é—¨ä¸€ä¸ªå®¹å™¨æ¥åˆ›å»ºè¿™äº›å¯¹è±¡ï¼Œå³ç”± IoC å®¹å™¨æ¥æ§åˆ¶å¯¹è±¡çš„åˆ›å»ºï¼›è°æ§åˆ¶è°ï¼Ÿå½“ç„¶æ˜¯ IoC å®¹å™¨æ§åˆ¶äº†å¯¹è±¡ï¼›æ§åˆ¶ä»€ä¹ˆï¼Ÿé‚£å°±æ˜¯ä¸»è¦æ§åˆ¶äº†å¤–éƒ¨èµ„æºè·å–ï¼ˆä¸åªæ˜¯å¯¹è±¡åŒ…æ‹¬æ¯”å¦‚æ–‡ä»¶ç­‰ï¼‰ã€‚</li><li>**ä¸ºä½•æ˜¯åè½¬ï¼Œå“ªäº›æ–¹é¢åè½¬äº†ï¼š**æœ‰åè½¬å°±æœ‰æ­£è½¬ï¼Œä¼ ç»Ÿåº”ç”¨ç¨‹åºæ˜¯ç”±æˆ‘ä»¬è‡ªå·±åœ¨å¯¹è±¡ä¸­ä¸»åŠ¨æ§åˆ¶å»ç›´æ¥è·å–ä¾èµ–å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ­£è½¬ï¼›è€Œåè½¬åˆ™æ˜¯ç”±å®¹å™¨æ¥å¸®å¿™åˆ›å»ºåŠæ³¨å…¥ä¾èµ–å¯¹è±¡ï¼›ä¸ºä½•æ˜¯åè½¬ï¼Ÿå› ä¸ºç”±å®¹å™¨å¸®æˆ‘ä»¬æŸ¥æ‰¾åŠæ³¨å…¥ä¾èµ–å¯¹è±¡ï¼Œå¯¹è±¡åªæ˜¯è¢«åŠ¨çš„æ¥å—ä¾èµ–å¯¹è±¡ï¼Œæ‰€ä»¥æ˜¯åè½¬ï¼›å“ªäº›æ–¹é¢åè½¬äº†ï¼Ÿä¾èµ–å¯¹è±¡çš„è·å–è¢«åè½¬äº†ã€‚</li></ul><h3 id="ioc-èƒ½åšä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#ioc-èƒ½åšä»€ä¹ˆ"></a> IoC èƒ½åšä»€ä¹ˆ</h3><p>IoC ä¸æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œåªæ˜¯ä¸€ç§æ€æƒ³ï¼Œä¸€ä¸ªé‡è¦çš„é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ³•åˆ™ï¼Œå®ƒèƒ½æŒ‡å¯¼æˆ‘ä»¬å¦‚ä½•è®¾è®¡å‡ºæ¾è€¦åˆã€æ›´ä¼˜è‰¯çš„ç¨‹åºã€‚ä¼ ç»Ÿåº”ç”¨ç¨‹åºéƒ½æ˜¯ç”±æˆ‘ä»¬åœ¨ç±»å†…éƒ¨ä¸»åŠ¨åˆ›å»ºä¾èµ–å¯¹è±¡ï¼Œä»è€Œå¯¼è‡´ç±»ä¸ç±»ä¹‹é—´é«˜è€¦åˆï¼Œéš¾äºæµ‹è¯•ï¼›æœ‰äº† IoC å®¹å™¨åï¼ŒæŠŠåˆ›å»ºå’ŒæŸ¥æ‰¾ä¾èµ–å¯¹è±¡çš„æ§åˆ¶æƒäº¤ç»™äº†å®¹å™¨ï¼Œç”±å®¹å™¨è¿›è¡Œæ³¨å…¥ç»„åˆå¯¹è±¡ï¼Œæ‰€ä»¥å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´æ˜¯æ¾æ•£è€¦åˆï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿æµ‹è¯•ï¼Œåˆ©äºåŠŸèƒ½å¤ç”¨ï¼Œæ›´é‡è¦çš„æ˜¯ä½¿å¾—ç¨‹åºçš„æ•´ä¸ªä½“ç³»ç»“æ„å˜å¾—éå¸¸çµæ´»ã€‚</p><p>å…¶å® IoC å¯¹ç¼–ç¨‹å¸¦æ¥çš„æœ€å¤§æ”¹å˜ä¸æ˜¯ä»ä»£ç ä¸Šï¼Œè€Œæ˜¯ä»æ€æƒ³ä¸Šï¼Œå‘ç”Ÿäº†â€œä¸»ä»æ¢ä½â€çš„å˜åŒ–ã€‚åº”ç”¨ç¨‹åºåŸæœ¬æ˜¯è€å¤§ï¼Œè¦è·å–ä»€ä¹ˆèµ„æºéƒ½æ˜¯ä¸»åŠ¨å‡ºå‡»ï¼Œä½†æ˜¯åœ¨ IoC/DI æ€æƒ³ä¸­ï¼Œåº”ç”¨ç¨‹åºå°±å˜æˆè¢«åŠ¨çš„äº†ï¼Œè¢«åŠ¨çš„ç­‰å¾… IoC å®¹å™¨æ¥åˆ›å»ºå¹¶æ³¨å…¥å®ƒæ‰€éœ€è¦çš„èµ„æºäº†ã€‚</p><p>IoC å¾ˆå¥½çš„ä½“ç°äº†é¢å‘å¯¹è±¡è®¾è®¡æ³•åˆ™ä¹‹ä¸€â€”â€” <strong>å¥½è±åæ³•åˆ™ï¼šâ€œåˆ«æ‰¾æˆ‘ä»¬ï¼Œæˆ‘ä»¬æ‰¾ä½ â€</strong>ï¼›å³ç”± IoC å®¹å™¨å¸®å¯¹è±¡æ‰¾ç›¸åº”çš„ä¾èµ–å¯¹è±¡å¹¶æ³¨å…¥ï¼Œè€Œä¸æ˜¯ç”±å¯¹è±¡ä¸»åŠ¨å»æ‰¾ã€‚</p><h3 id="ioc-å’Œ-di"><a class="markdownIt-Anchor" href="#ioc-å’Œ-di"></a> IoC å’Œ DI</h3><p>å…¶å®å®ƒä»¬æ˜¯åŒä¸€ä¸ªæ¦‚å¿µçš„ä¸åŒè§’åº¦æè¿°ï¼Œç”±äºæ§åˆ¶åè½¬æ¦‚å¿µæ¯”è¾ƒå«ç³Šï¼ˆå¯èƒ½åªæ˜¯ç†è§£ä¸ºå®¹å™¨æ§åˆ¶å¯¹è±¡è¿™ä¸€ä¸ªå±‚é¢ï¼Œå¾ˆéš¾è®©äººæƒ³åˆ°è°æ¥ç»´æŠ¤å¯¹è±¡å…³ç³»ï¼‰ï¼Œæ‰€ä»¥ 2004 å¹´å¤§å¸ˆçº§äººç‰© Martin Fowler åˆç»™å‡ºäº†ä¸€ä¸ªæ–°çš„åå­—ï¼šâ€œä¾èµ–æ³¨å…¥â€ï¼Œç›¸å¯¹ IoC è€Œè¨€ï¼Œâ€œä¾èµ–æ³¨å…¥â€æ˜ç¡®æè¿°äº†â€œè¢«æ³¨å…¥å¯¹è±¡ä¾èµ– IoC å®¹å™¨é…ç½®ä¾èµ–å¯¹è±¡â€ã€‚</p><blockquote><p>æ³¨ï¼šå¦‚æœæƒ³è¦æ›´åŠ æ·±å…¥çš„äº†è§£ IoC å’Œ DIï¼Œè¯·å‚è€ƒå¤§å¸ˆçº§äººç‰© Martin Fowler çš„ä¸€ç¯‡ç»å…¸æ–‡ç«  <a href="http://www.martinfowler.com/articles/injection.html">Inversion of Control Containers and the Dependency Injection pattern (opens new window)</a>ã€‚</p></blockquote><h3 id="ioc-å®¹å™¨"><a class="markdownIt-Anchor" href="#ioc-å®¹å™¨"></a> IoC å®¹å™¨</h3><p>IoC å®¹å™¨å°±æ˜¯å…·æœ‰ä¾èµ–æ³¨å…¥åŠŸèƒ½çš„å®¹å™¨ã€‚IoC å®¹å™¨è´Ÿè´£å®ä¾‹åŒ–ã€å®šä½ã€é…ç½®åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡åŠå»ºç«‹è¿™äº›å¯¹è±¡é—´çš„ä¾èµ–ã€‚åº”ç”¨ç¨‹åºæ— éœ€ç›´æ¥åœ¨ä»£ç ä¸­ new ç›¸å…³çš„å¯¹è±¡ï¼Œåº”ç”¨ç¨‹åºç”± IoC å®¹å™¨è¿›è¡Œç»„è£…ã€‚åœ¨ Spring ä¸­ BeanFactory æ˜¯ IoC å®¹å™¨çš„å®é™…ä»£è¡¨è€…ã€‚</p><p>Spring IoC å®¹å™¨å¦‚ä½•çŸ¥é“å“ªäº›æ˜¯å®ƒç®¡ç†çš„å¯¹è±¡å‘¢ï¼Ÿè¿™å°±éœ€è¦é…ç½®æ–‡ä»¶ï¼ŒSpring IoC å®¹å™¨é€šè¿‡è¯»å–é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®å…ƒæ•°æ®ï¼Œé€šè¿‡å…ƒæ•°æ®å¯¹åº”ç”¨ä¸­çš„å„ä¸ªå¯¹è±¡è¿›è¡Œå®ä¾‹åŒ–åŠè£…é…ã€‚ä¸€èˆ¬ä½¿ç”¨åŸºäº xml é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®å…ƒæ•°æ®ï¼Œè€Œä¸” Spring ä¸é…ç½®æ–‡ä»¶å®Œå…¨è§£è€¦çš„ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–ä»»ä½•å¯èƒ½çš„æ–¹å¼è¿›è¡Œé…ç½®å…ƒæ•°æ®ï¼Œæ¯”å¦‚æ³¨è§£ã€åŸºäº java æ–‡ä»¶çš„ã€åŸºäºå±æ€§æ–‡ä»¶çš„é…ç½®éƒ½å¯ä»¥ã€‚</p><p>é‚£ Spring IoC å®¹å™¨ç®¡ç†çš„å¯¹è±¡å«ä»€ä¹ˆå‘¢ï¼Ÿ</p><h3 id="bean"><a class="markdownIt-Anchor" href="#bean"></a> Bean</h3><blockquote><p><strong>JavaBean</strong> æ˜¯ä¸€ç§ JAVA è¯­è¨€å†™æˆçš„å¯é‡ç”¨ç»„ä»¶ã€‚ä¸ºå†™æˆ JavaBeanï¼Œç±»å¿…é¡»æ˜¯å…·ä½“çš„å’Œå…¬å…±çš„ï¼Œå¹¶ä¸”å…·æœ‰æ— å‚æ•°çš„æ„é€ å™¨ã€‚JavaBean å¯¹å¤–éƒ¨é€šè¿‡æä¾› getter / setter æ–¹æ³•æ¥è®¿é—®å…¶æˆå‘˜ã€‚</p></blockquote><p>ç”± IoC å®¹å™¨ç®¡ç†çš„é‚£äº›ç»„æˆä½ åº”ç”¨ç¨‹åºçš„å¯¹è±¡æˆ‘ä»¬å°±å«å®ƒ Beanã€‚Bean å°±æ˜¯ç”± Spring å®¹å™¨åˆå§‹åŒ–ã€è£…é…åŠç®¡ç†çš„å¯¹è±¡ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œbean å°±ä¸åº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–å¯¹è±¡æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«äº†ã€‚é‚£ IoC æ€æ ·ç¡®å®šå¦‚ä½•å®ä¾‹åŒ– Beanã€ç®¡ç† Bean ä¹‹é—´çš„ä¾èµ–å…³ç³»ä»¥åŠç®¡ç† Bean å‘¢ï¼Ÿè¿™å°±éœ€è¦é…ç½®å…ƒæ•°æ®ï¼Œåœ¨ Spring ä¸­ç”± BeanDefinition ä»£è¡¨ï¼Œåè¾¹ä¼šè¯¦ç»†ä»‹ç»ï¼Œé…ç½®å…ƒæ•°æ®æŒ‡å®šå¦‚ä½•å®ä¾‹åŒ– Beanã€å¦‚ä½•ç»„è£… Bean ç­‰ã€‚</p><h2 id="spring-ioc"><a class="markdownIt-Anchor" href="#spring-ioc"></a> Spring IoC</h2><h3 id="æ ¸å¿ƒæ¥å£"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒæ¥å£"></a> æ ¸å¿ƒæ¥å£</h3><p><code>org.springframework.beans</code> å’Œ <code>org.springframework.context</code> æ˜¯ IoC å®¹å™¨çš„åŸºç¡€ã€‚</p><p>åœ¨ Spring ä¸­ï¼Œæœ‰ä¸¤ç§ IoC å®¹å™¨ï¼š<code>BeanFactory</code> å’Œ <code>ApplicationContext</code>ã€‚</p><ul><li><code>BeanFactory</code>ï¼šBeanFactory æä¾›äº† Spring å®¹å™¨çš„é…ç½®æ¡†æ¶å’ŒåŸºæœ¬åŠŸèƒ½ã€‚</li><li><code>ApplicationContext</code>ï¼šBeanFactory çš„å­æ¥å£ã€‚å®ƒè¿˜æ‰©å±•äº†å…¶ä»–ä¸€äº›æ¥å£ï¼Œä»¥æ”¯æŒæ›´ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¦‚ï¼šå›½é™…åŒ–ã€è®¿é—®èµ„æºã€äº‹ä»¶æœºåˆ¶ã€æ›´æ–¹ä¾¿çš„æ”¯æŒ AOPã€åœ¨ web åº”ç”¨ä¸­æŒ‡å®šåº”ç”¨å±‚ä¸Šä¸‹æ–‡ç­‰ã€‚</li></ul><p>å®é™…å¼€å‘ä¸­ï¼Œæ›´æ¨èä½¿ç”¨ <code>ApplicationContext</code> ä½œä¸º IoC å®¹å™¨ï¼Œå› ä¸ºå®ƒçš„åŠŸèƒ½è¿œå¤šäº <code>FactoryBean</code>ã€‚</p><p>å¸¸è§ <code>ApplicationContext</code> å®ç°ï¼š</p><ul><li><strong>ClassPathXmlApplicationContext</strong>ï¼š<code>ApplicationContext</code> çš„å®ç°ï¼Œä» classpath è·å–é…ç½®æ–‡ä»¶ï¼›</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BeanFactory</span> <span class="variable">beanFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;classpath.xml&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li><strong>FileSystemXmlApplicationContext</strong>ï¼š<code>ApplicationContext</code> çš„å®ç°ï¼Œä»æ–‡ä»¶ç³»ç»Ÿè·å–é…ç½®æ–‡ä»¶ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BeanFactory</span> <span class="variable">beanFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSystemXmlApplicationContext</span>(<span class="string">&quot;fileSystemConfig.xml&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="ioc-å®¹å™¨å·¥ä½œæ­¥éª¤"><a class="markdownIt-Anchor" href="#ioc-å®¹å™¨å·¥ä½œæ­¥éª¤"></a> IoC å®¹å™¨å·¥ä½œæ­¥éª¤</h3><p>ä½¿ç”¨ IoC å®¹å™¨å¯åˆ†ä¸ºä¸‰æ­¥éª¤ï¼š</p><ol><li><strong>é…ç½®å…ƒæ•°æ®</strong>ï¼šéœ€è¦é…ç½®ä¸€äº›å…ƒæ•°æ®æ¥å‘Šè¯‰ Springï¼Œä½ å¸Œæœ›å®¹å™¨å¦‚ä½•å·¥ä½œï¼Œå…·ä½“æ¥è¯´ï¼Œå°±æ˜¯å¦‚ä½•å»åˆå§‹åŒ–ã€é…ç½®ã€ç®¡ç† JavaBean å¯¹è±¡ã€‚</li><li><strong>å®ä¾‹åŒ–å®¹å™¨</strong>ï¼šç”± IoC å®¹å™¨è§£æé…ç½®çš„å…ƒæ•°æ®ã€‚IoC å®¹å™¨çš„ Bean Reader è¯»å–å¹¶è§£æé…ç½®æ–‡ä»¶ï¼Œæ ¹æ®å®šä¹‰ç”Ÿæˆ BeanDefinition é…ç½®å…ƒæ•°æ®å¯¹è±¡ï¼ŒIoC å®¹å™¨æ ¹æ® <code>BeanDefinition</code> è¿›è¡Œå®ä¾‹åŒ–ã€é…ç½®åŠç»„è£… Beanã€‚</li><li><strong>ä½¿ç”¨å®¹å™¨</strong>ï¼šç”±å®¢æˆ·ç«¯å®ä¾‹åŒ–å®¹å™¨ï¼Œè·å–éœ€è¦çš„ Bean</li></ol><h3 id="é…ç½®å…ƒæ•°æ®"><a class="markdownIt-Anchor" href="#é…ç½®å…ƒæ•°æ®"></a> é…ç½®å…ƒæ•°æ®</h3><p>**å…ƒæ•°æ®ï¼ˆMetadataï¼‰**åˆç§°ä¸­ä»‹æ•°æ®ã€ä¸­ç»§æ•°æ®ï¼Œä¸ºæè¿°æ•°æ®çš„æ•°æ®ï¼ˆdata about dataï¼‰ï¼Œä¸»è¦æ˜¯æè¿°æ•°æ®å±æ€§ï¼ˆpropertyï¼‰çš„ä¿¡æ¯ã€‚</p><p>é…ç½®å…ƒæ•°æ®çš„æ–¹å¼ï¼š</p><ul><li><p><strong>åŸºäº xml é…ç½®</strong>ï¼šSpring çš„ä¼ ç»Ÿé…ç½®æ–¹å¼ã€‚åœ¨ <code>&lt;beans&gt;</code> æ ‡ç­¾ä¸­é…ç½®å…ƒæ•°æ®å†…å®¹ã€‚</p><p>ç¼ºç‚¹æ˜¯å½“ JavaBean è¿‡å¤šæ—¶ï¼Œäº§ç”Ÿçš„é…ç½®æ–‡ä»¶è¶³ä»¥è®©ä½ çœ¼èŠ±ç¼­ä¹±ã€‚</p></li><li><p><strong>åŸºäºæ³¨è§£é…ç½®</strong>ï¼šSpring2.5 å¼•å…¥ã€‚å¯ä»¥å¤§å¤§ç®€åŒ–ä½ çš„é…ç½®ã€‚</p></li><li><p><strong>åŸºäº Java é…ç½®</strong>ï¼šå¯ä»¥ä½¿ç”¨ Java ç±»æ¥å®šä¹‰ JavaBean ã€‚</p><p>ä¸ºäº†ä½¿ç”¨è¿™ä¸ªæ–°ç‰¹æ€§ï¼Œéœ€è¦ç”¨åˆ° <code>@Configuration</code> ã€<code>@Bean</code> ã€<code>@Import</code> å’Œ <code>@DependsOn</code> æ³¨è§£</p></li></ul><h3 id="spring-bean-æ¦‚è¿°"><a class="markdownIt-Anchor" href="#spring-bean-æ¦‚è¿°"></a> Spring Bean æ¦‚è¿°</h3><p>ä¸€ä¸ª Spring å®¹å™¨ç®¡ç†ä¸€ä¸ªæˆ–å¤šä¸ª beanã€‚è¿™äº› bean æ ¹æ®ä½ é…ç½®çš„å…ƒæ•°æ®ï¼ˆæ¯”å¦‚ xml å½¢å¼ï¼‰æ¥åˆ›å»ºã€‚</p><p>Spring IoC å®¹å™¨æœ¬èº«ï¼Œå¹¶ä¸èƒ½è¯†åˆ«ä½ é…ç½®çš„å…ƒæ•°æ®ã€‚ä¸ºæ­¤ï¼Œè¦å°†è¿™äº›é…ç½®ä¿¡æ¯è½¬ä¸º Spring èƒ½è¯†åˆ«çš„æ ¼å¼â€”â€”<code>BeanDefinition</code> å¯¹è±¡ã€‚</p><ul><li><p><strong>å‘½å Bean</strong></p><ul><li>æŒ‡å®š id å’Œ name å±æ€§ä¸æ˜¯å¿…é¡»çš„ã€‚Spring ä¸­ï¼Œå¹¶éä¸€å®šè¦æŒ‡å®š id å’Œ name å±æ€§ã€‚å®é™…ä¸Šï¼ŒSpring ä¼šè‡ªåŠ¨ä¸ºå…¶åˆ†é…ä¸€ä¸ªç‰¹æ®Šåã€‚å¦‚æœä½ éœ€è¦å¼•ç”¨å£°æ˜çš„ beanï¼Œè¿™æ—¶ä½ æ‰éœ€è¦ä¸€ä¸ªæ ‡è¯†ã€‚å®˜æ–¹æ¨èé©¼å³°å‘½åæ³•æ¥å‘½åã€‚</li></ul></li><li><p><strong>æ”¯æŒåˆ«å</strong></p><ul><li><p>å¯èƒ½å­˜åœ¨è¿™æ ·çš„åœºæ™¯ï¼Œä¸åŒç³»ç»Ÿä¸­å¯¹äºåŒä¸€ bean çš„å‘½åæ–¹å¼ä¸ä¸€æ ·ã€‚ ä¸ºäº†é€‚é…ï¼ŒSpring æ”¯æŒ <code>&lt;alias&gt;</code> ä¸º bean æ·»åŠ åˆ«åçš„åŠŸèƒ½ã€‚</p></li><li><pre class="highlight"><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">alias</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"subsystemA-dataSource"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"subsystemB-dataSource"</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">alias</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"subsystemA-dataSource"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"myApp-dataSource"</span> /&gt;</span><span class="hljs-comment"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- **å®ä¾‹åŒ– Bean**</span><br><span class="line"></span><br><span class="line">  - æ„é€ å™¨æ–¹å¼</span><br><span class="line"></span><br><span class="line">  - ```xml</span><br><span class="line">    &lt;bean id=&quot;exampleBean&quot; class=&quot;examples.ExampleBean&quot;/&gt;</span><br></pre></td></tr></table></figure></span></code></pre></li></ul></li></ul><h3 id="ä¾èµ–æ³¨å…¥æ¨¡å¼"><a class="markdownIt-Anchor" href="#ä¾èµ–æ³¨å…¥æ¨¡å¼"></a> ä¾èµ–æ³¨å…¥æ¨¡å¼</h3><p>ä¾èµ–æ³¨å…¥æ¨¡å¼å¯ä»¥åˆ†ä¸ºæ‰‹åŠ¨æ¨¡å¼å’Œè‡ªåŠ¨æ¨¡å¼ã€‚</p><h4 id="æ‰‹åŠ¨æ³¨å…¥"><a class="markdownIt-Anchor" href="#æ‰‹åŠ¨æ³¨å…¥"></a> æ‰‹åŠ¨æ³¨å…¥</h4><p>é…ç½®æˆ–è€…ç¼–ç¨‹çš„æ–¹å¼ï¼Œæå‰å®‰æ’æ³¨å…¥è§„åˆ™</p><ul><li>XML èµ„æºé…ç½®å…ƒä¿¡æ¯</li><li>Java æ³¨è§£é…ç½®å…ƒä¿¡æ¯</li><li>API é…ç½®å…ƒä¿¡æ¯</li></ul><h4 id="è‡ªåŠ¨æ³¨å…¥"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨æ³¨å…¥"></a> è‡ªåŠ¨æ³¨å…¥</h4><p>å®ç°æ–¹æä¾›ä¾èµ–è‡ªåŠ¨å…³è”çš„æ–¹å¼ï¼ŒæŒ‰ç…§å…§å»ºçš„æ³¨å…¥è§„åˆ™ï¼ˆå®˜æ–¹ä¸æ¨èï¼‰</p><ul><li>Autowiringï¼ˆè‡ªåŠ¨ç»‘å®šï¼‰</li></ul><table><thead><tr><th>æ¨¡å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>no</td><td>é»˜è®¤å€¼ï¼Œæœªæ¿€æ´» Autowiringï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šä¾èµ–æ³¨å…¥å¯¹è±¡ã€‚</td></tr><tr><td>byName</td><td>æ ¹æ®è¢«æ³¨å…¥å±æ€§çš„åç§°ä½œä¸º Bean åç§°è¿›è¡Œä¾èµ–æŸ¥æ‰¾ï¼Œå¹¶å°†å¯¹è±¡è®¾ç½®åˆ°è¯¥å±æ€§ã€‚</td></tr><tr><td>byType</td><td>æ ¹æ®è¢«æ³¨å…¥å±æ€§çš„ç±»å‹ä½œä¸ºä¾èµ–ç±»å‹è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶å°†å¯¹è±¡è®¾ç½®åˆ°è¯¥å±æ€§ã€‚</td></tr><tr><td>constructor</td><td>ç‰¹æ®Š byType ç±»å‹ï¼Œç”¨äºæ„é€ å™¨å‚æ•°ã€‚</td></tr></tbody></table><blockquote><p>é™åˆ¶å’Œä¸è¶³å‚è€ƒï¼š<a href="https://docs.spring.io/spring/docs/5.2.2.RELEASE/spring-frameworkreference/core.html#beans-autowired-exceptions">Limitations and Disadvantages of Autowiring å°èŠ‚(opens new window)</a></p></blockquote><h4 id="ä¾èµ–æ³¨å…¥ç±»å‹"><a class="markdownIt-Anchor" href="#ä¾èµ–æ³¨å…¥ç±»å‹"></a> ä¾èµ–æ³¨å…¥ç±»å‹</h4><table><thead><tr><th>ä¾èµ–æ³¨å…¥ç±»å‹</th><th>é…ç½®å…ƒæ•°æ®ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>Setter æ–¹æ³•</td><td><code>&lt;proeprty name=&quot;user&quot; ref=&quot;userBean&quot;/&gt;</code></td></tr><tr><td>æ„é€ å™¨</td><td><code>&lt;constructor-arg name=&quot;user&quot; ref=&quot;userBean&quot; /&gt;</code></td></tr><tr><td>å­—æ®µ</td><td><code>@Autowired User user;</code></td></tr><tr><td>æ–¹æ³•</td><td><code>@Autowired public void user(User user) &#123; ... &#125;</code></td></tr><tr><td>æ¥å£å›è°ƒ</td><td><code>class MyBean implements BeanFactoryAware &#123; ... &#125;</code></td></tr></tbody></table><h4 id="setter-æ–¹æ³•æ³¨å…¥"><a class="markdownIt-Anchor" href="#setter-æ–¹æ³•æ³¨å…¥"></a> Setter æ–¹æ³•æ³¨å…¥</h4><p>æ‰‹åŠ¨æ¨¡å¼</p><ul><li>XML èµ„æºé…ç½®å…ƒä¿¡æ¯</li><li>Java æ³¨è§£é…ç½®å…ƒä¿¡æ¯</li><li>API é…ç½®å…ƒä¿¡æ¯</li></ul><p>è‡ªåŠ¨æ¨¡å¼</p><ul><li>byName</li><li>byType</li></ul><h4 id="æ„é€ å™¨æ³¨å…¥"><a class="markdownIt-Anchor" href="#æ„é€ å™¨æ³¨å…¥"></a> æ„é€ å™¨æ³¨å…¥</h4><p>æ‰‹åŠ¨æ¨¡å¼</p><ul><li>XML èµ„æºé…ç½®å…ƒä¿¡æ¯</li><li>Java æ³¨è§£é…ç½®å…ƒä¿¡æ¯</li><li>API é…ç½®å…ƒä¿¡æ¯</li></ul><p>è‡ªåŠ¨æ¨¡å¼</p><ul><li>constructor</li></ul><h4 id="å­—æ®µæ³¨å…¥"><a class="markdownIt-Anchor" href="#å­—æ®µæ³¨å…¥"></a> å­—æ®µæ³¨å…¥</h4><p>æ‰‹åŠ¨æ¨¡å¼ï¼ˆJava æ³¨è§£é…ç½®å…ƒä¿¡æ¯ï¼‰</p><ul><li><code>@Autowired</code></li><li><code>@Resource</code></li><li><code>@Inject</code>ï¼ˆå¯é€‰ï¼‰</li></ul><h4 id="æ–¹æ³•æ³¨å…¥"><a class="markdownIt-Anchor" href="#æ–¹æ³•æ³¨å…¥"></a> æ–¹æ³•æ³¨å…¥</h4><p>æ‰‹åŠ¨æ¨¡å¼ï¼ˆJava æ³¨è§£é…ç½®å…ƒä¿¡æ¯ï¼‰</p><ul><li><code>@Autowired</code></li><li><code>@Resource</code></li><li><code>@Inject</code>ï¼ˆå¯é€‰ï¼‰</li><li><code>@Bean</code></li></ul><h4 id="æ¥å£å›è°ƒæ³¨å…¥"><a class="markdownIt-Anchor" href="#æ¥å£å›è°ƒæ³¨å…¥"></a> æ¥å£å›è°ƒæ³¨å…¥</h4><p>Aware ç³»åˆ—æ¥å£å›è°ƒ</p><table><thead><tr><th>å…§å»ºæ¥å£</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>BeanFactoryAware</code></td><td>è·å– IoC å®¹å™¨- <code>BeanFactory</code></td></tr><tr><td><code>ApplicationContextAware</code></td><td>è·å– Spring åº”ç”¨ä¸Šä¸‹æ–‡- <code>ApplicationContext</code> å¯¹è±¡</td></tr><tr><td><code>EnvironmentAware</code></td><td>è·å– <code>Environment</code> å¯¹è±¡</td></tr><tr><td><code>ResourceLoaderAware</code></td><td>è·å–èµ„æºåŠ è½½å™¨å¯¹è±¡- <code>ResourceLoader</code></td></tr><tr><td><code>BeanClassLoaderAware</code></td><td>è·å–åŠ è½½å½“å‰ Bean Class çš„ <code>ClassLoader</code></td></tr><tr><td><code>BeanNameAware</code></td><td>è·å–å½“å‰ Bean çš„åç§°</td></tr><tr><td><code>MessageSourceAware</code></td><td>è·å– <code>MessageSource</code> å¯¹è±¡ï¼Œç”¨äº Spring å›½é™…åŒ–</td></tr><tr><td><code>ApplicationEventPublisherAware</code></td><td>è·å– <code>ApplicationEventPublishAware</code> å¯¹è±¡ï¼Œç”¨äº Spring äº‹ä»¶</td></tr><tr><td><code>EmbeddedValueResolverAware</code></td><td>è·å– <code>StringValueResolver</code> å¯¹è±¡ï¼Œç”¨äºå ä½ç¬¦å¤„ç†</td></tr></tbody></table><h4 id="ä¾èµ–æ³¨å…¥ç±»å‹é€‰æ‹©"><a class="markdownIt-Anchor" href="#ä¾èµ–æ³¨å…¥ç±»å‹é€‰æ‹©"></a> ä¾èµ–æ³¨å…¥ç±»å‹é€‰æ‹©</h4><ul><li>ä½ä¾èµ–ï¼šæ„é€ å™¨æ³¨å…¥</li><li>å¤šä¾èµ–ï¼šSetter æ–¹æ³•æ³¨å…¥</li><li>ä¾¿åˆ©æ€§ï¼šå­—æ®µæ³¨å…¥</li><li>å£°æ˜ç±»ï¼šæ–¹æ³•æ³¨å…¥</li></ul><h3 id="è¢«æ³¨å…¥çš„æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#è¢«æ³¨å…¥çš„æ•°æ®ç±»å‹"></a> è¢«æ³¨å…¥çš„æ•°æ®ç±»å‹</h3><p>åŸºç¡€ç±»å‹</p><ul><li>åŸç”Ÿç±»å‹ï¼ˆPrimitiveï¼‰ï¼šbooleanã€byteã€charã€shortã€intã€floatã€longã€double</li><li>æ ‡é‡ç±»å‹ï¼ˆScalarï¼‰ï¼šNumberã€Characterã€Booleanã€Enumã€Localeã€Charsetã€Currencyã€Propertiesã€UUID</li><li>å¸¸è§„ç±»å‹ï¼ˆGeneralï¼‰ï¼šObjectã€Stringã€TimeZoneã€Calendarã€Optional ç­‰</li><li>Spring ç±»å‹ï¼šResourceã€InputSourceã€Formatter ç­‰</li></ul><p>é›†åˆç±»å‹</p><ul><li>æ•°ç»„ç±»å‹ï¼ˆArrayï¼‰ï¼šåŸç”Ÿç±»å‹ã€æ ‡é‡ç±»å‹ã€å¸¸è§„ç±»å‹ã€Spring ç±»å‹</li><li>é›†åˆç±»å‹ï¼ˆCollectionï¼‰<ul><li>Collectionï¼šListã€Setï¼ˆSortedSetã€NavigableSetã€EnumSetï¼‰</li><li>Mapï¼šProperties</li></ul></li></ul><h2 id="ioc-ä¾èµ–æŸ¥æ‰¾"><a class="markdownIt-Anchor" href="#ioc-ä¾èµ–æŸ¥æ‰¾"></a> IoC ä¾èµ–æŸ¥æ‰¾</h2><p><strong>ä¾èµ–æŸ¥æ‰¾æ˜¯ä¸»åŠ¨æˆ–æ‰‹åŠ¨çš„ä¾èµ–æŸ¥æ‰¾æ–¹å¼ï¼Œé€šå¸¸éœ€è¦ä¾èµ–å®¹å™¨æˆ–æ ‡å‡† API å®ç°</strong>ã€‚</p><ul><li>æ ¹æ® Bean åç§°æŸ¥æ‰¾<ul><li>å®æ—¶æŸ¥æ‰¾</li><li>å»¶è¿ŸæŸ¥æ‰¾</li></ul></li><li>æ ¹æ® Bean ç±»å‹æŸ¥æ‰¾</li><li>æ ¹æ® Bean åç§° + ç±»å‹æŸ¥æ‰¾</li><li>æ ¹æ® Java æ³¨è§£æŸ¥æ‰¾</li></ul><p>ã€ç¤ºä¾‹ã€‘Spring IoC ä¾èµ–æŸ¥æ‰¾</p><p>xml å…ƒä¿¡æ¯é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;objectFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.beans.factory.config.ObjectFactoryCreatingFactoryBean&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;targetBeanName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;user&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;io.github.dunwu.spring.core.domain.User&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">p:name</span>=<span class="string">&quot;å¼ ä¸‰&quot;</span> <span class="attr">p:age</span>=<span class="string">&quot;18&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;superUser&quot;</span> <span class="attr">class</span>=<span class="string">&quot;io.github.dunwu.spring.core.domain.SysUser&quot;</span> <span class="attr">parent</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æå››&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;19&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;address&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å—äº¬&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¾èµ–æŸ¥æ‰¾ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BeanFactoryDemo</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="type">BeanFactory</span> <span class="variable">beanFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring/spring-dependency-lookup.xml&quot;</span>);</span><br><span class="line">lookupByType(beanFactory);</span><br><span class="line">lookupByNameInRealTime(beanFactory);</span><br><span class="line">lookupByNameInLazy(beanFactory);</span><br><span class="line">lookupByAnnotation(beanFactory);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">lookupByType</span><span class="params">(BeanFactory beanFactory)</span> &#123;</span><br><span class="line"><span class="type">SysUser</span> <span class="variable">user</span> <span class="operator">=</span> beanFactory.getBean(SysUser.class);</span><br><span class="line">System.out.println(<span class="string">&quot;SysUser = &quot;</span> + user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">lookupByNameInRealTime</span><span class="params">(BeanFactory beanFactory)</span> &#123;</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) beanFactory.getBean(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;user = &quot;</span> + user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">lookupByNameInLazy</span><span class="params">(BeanFactory beanFactory)</span> &#123;</span><br><span class="line">ObjectFactory&lt;User&gt; objectFactory = (ObjectFactory&lt;User&gt;) beanFactory.getBean(<span class="string">&quot;objectFactory&quot;</span>);</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> objectFactory.getObject();</span><br><span class="line">System.out.println(<span class="string">&quot;user = &quot;</span> + user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">lookupByAnnotation</span><span class="params">(BeanFactory beanFactory)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (beanFactory <span class="keyword">instanceof</span> ListableBeanFactory) &#123;</span><br><span class="line"><span class="type">ListableBeanFactory</span> <span class="variable">listableBeanFactory</span> <span class="operator">=</span> (ListableBeanFactory) beanFactory;</span><br><span class="line">Map&lt;String, Object&gt; users = listableBeanFactory.getBeansWithAnnotation(Super.class);</span><br><span class="line">System.out.println(<span class="string">&quot;users = &quot;</span> + users);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ioc-ä¾èµ–æ³¨å…¥"><a class="markdownIt-Anchor" href="#ioc-ä¾èµ–æ³¨å…¥"></a> IoC ä¾èµ–æ³¨å…¥</h2><p>DIï¼Œæ˜¯ Dependency Injection çš„ç¼©å†™ï¼Œå³ä¾èµ–æ³¨å…¥ã€‚ä¾èµ–æ³¨å…¥æ˜¯ IoC çš„æœ€å¸¸è§å½¢å¼ã€‚ä¾èµ–æ³¨å…¥æ˜¯æ‰‹åŠ¨æˆ–è‡ªåŠ¨ç»‘å®šçš„æ–¹å¼ï¼Œæ— éœ€ä¾èµ–ç‰¹å®šçš„å®¹å™¨æˆ– APIã€‚</p><p><strong>å®¹å™¨å…¨æƒè´Ÿè´£ç»„ä»¶çš„è£…é…ï¼Œå®ƒä¼šæŠŠç¬¦åˆä¾èµ–å…³ç³»çš„å¯¹è±¡é€šè¿‡ JavaBean å±æ€§æˆ–è€…æ„é€ å‡½æ•°ä¼ é€’ç»™éœ€è¦çš„å¯¹è±¡</strong>ã€‚</p><p>DI æ˜¯ç»„ä»¶ä¹‹é—´ä¾èµ–å…³ç³»ç”±å®¹å™¨åœ¨è¿è¡ŒæœŸå†³å®šï¼Œå½¢è±¡çš„è¯´ï¼Œå³ç”±å®¹å™¨åŠ¨æ€çš„å°†æŸä¸ªä¾èµ–å…³ç³»æ³¨å…¥åˆ°ç»„ä»¶ä¹‹ä¸­ã€‚ä¾èµ–æ³¨å…¥çš„ç›®çš„å¹¶éä¸ºè½¯ä»¶ç³»ç»Ÿå¸¦æ¥æ›´å¤šåŠŸèƒ½ï¼Œè€Œæ˜¯ä¸ºäº†æå‡ç»„ä»¶é‡ç”¨çš„é¢‘ç‡ï¼Œå¹¶ä¸ºç³»ç»Ÿæ­å»ºä¸€ä¸ªçµæ´»ã€å¯æ‰©å±•çš„å¹³å°ã€‚é€šè¿‡ä¾èµ–æ³¨å…¥æœºåˆ¶ï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡ç®€å•çš„é…ç½®ï¼Œè€Œæ— éœ€ä»»ä½•ä»£ç å°±å¯æŒ‡å®šç›®æ ‡éœ€è¦çš„èµ„æºï¼Œå®Œæˆè‡ªèº«çš„ä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸éœ€è¦å…³å¿ƒå…·ä½“çš„èµ„æºæ¥è‡ªä½•å¤„ï¼Œç”±è°å®ç°ã€‚</p><p>ç†è§£ DI çš„å…³é”®æ˜¯ï¼šâ€œè°ä¾èµ–è°ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–ï¼Œè°æ³¨å…¥è°ï¼Œæ³¨å…¥äº†ä»€ä¹ˆâ€ï¼Œé‚£æˆ‘ä»¬æ¥æ·±å…¥åˆ†æä¸€ä¸‹ï¼š</p><ul><li>**è°ä¾èµ–äºè°ï¼š**å½“ç„¶æ˜¯åº”ç”¨ç¨‹åºä¾èµ–äº IoC å®¹å™¨ï¼›</li><li>**ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–ï¼š**åº”ç”¨ç¨‹åºéœ€è¦ IoC å®¹å™¨æ¥æä¾›å¯¹è±¡éœ€è¦çš„å¤–éƒ¨èµ„æºï¼›</li><li>**è°æ³¨å…¥è°ï¼š**å¾ˆæ˜æ˜¾æ˜¯ IoC å®¹å™¨æ³¨å…¥åº”ç”¨ç¨‹åºæŸä¸ªå¯¹è±¡ï¼Œåº”ç”¨ç¨‹åºä¾èµ–çš„å¯¹è±¡ï¼›</li><li><strong>æ³¨å…¥äº†ä»€ä¹ˆ</strong>ï¼šå°±æ˜¯æ³¨å…¥æŸä¸ªå¯¹è±¡æ‰€éœ€è¦çš„å¤–éƒ¨èµ„æºï¼ˆåŒ…æ‹¬å¯¹è±¡ã€èµ„æºã€å¸¸é‡æ•°æ®ï¼‰ã€‚</li></ul><p>IoC ä¾èµ–æ³¨å…¥ API</p><ul><li>æ ¹æ® Bean åç§°æ³¨å…¥</li><li>æ ¹æ® Bean ç±»å‹æ³¨å…¥</li><li>æ³¨å…¥å®¹å™¨å†…å»º Bean å¯¹è±¡</li><li>æ³¨å…¥é Bean å¯¹è±¡</li><li>æ³¨å…¥ç±»å‹<ul><li>å®æ—¶æ³¨å…¥</li><li>å»¶è¿Ÿæ³¨å…¥</li></ul></li></ul><h2 id="ioc-å®¹å™¨é…ç½®"><a class="markdownIt-Anchor" href="#ioc-å®¹å™¨é…ç½®"></a> IoC å®¹å™¨é…ç½®</h2><p>IoC å®¹å™¨çš„é…ç½®æœ‰ä¸‰ç§æ–¹å¼ï¼š</p><ul><li>åŸºäº xml é…ç½®</li><li>åŸºäºæ³¨è§£é…ç½®</li><li>åŸºäº Java é…ç½®</li></ul><p>ä½œä¸º Spring ä¼ ç»Ÿçš„é…ç½®æ–¹å¼ï¼Œxml é…ç½®æ–¹å¼ä¸€èˆ¬ä¸ºå¤§å®¶æ‰€ç†ŸçŸ¥ã€‚</p><p>å¦‚æœåŒå€¦äº† xml é…ç½®ï¼ŒSpring ä¹Ÿæä¾›äº†æ³¨è§£é…ç½®æ–¹å¼æˆ– Java é…ç½®æ–¹å¼æ¥ç®€åŒ–é…ç½®ã€‚</p><p><strong>æœ¬æ–‡ï¼Œå°†å¯¹ Java é…ç½® IoC å®¹å™¨åšè¯¦ç»†çš„ä»‹ç»ã€‚</strong></p><h3 id=""><a class="markdownIt-Anchor" href="#"></a> <a href="https://dunwu.github.io/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#_5-1-xml-%E9%85%8D%E7%BD%AE">#</a>5.1. Xml é…ç½®</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">         http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;resource1.xml&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bean1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bean2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;bean2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">alias</span> <span class="attr">alias</span>=<span class="string">&quot;bean3&quot;</span> <span class="attr">name</span>=<span class="string">&quot;bean2&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;resource2.xml&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ ‡ç­¾è¯´æ˜ï¼š</p><ul><li><code>&lt;beans&gt;</code> æ˜¯ Spring é…ç½®æ–‡ä»¶çš„æ ¹èŠ‚ç‚¹ã€‚</li><li><code>&lt;bean&gt;</code> ç”¨æ¥å®šä¹‰ä¸€ä¸ª JavaBeanã€‚<code>id</code> å±æ€§æ˜¯å®ƒçš„æ ‡è¯†ï¼Œåœ¨æ–‡ä»¶ä¸­å¿…é¡»å”¯ä¸€ï¼›<code>class</code> å±æ€§æ˜¯å®ƒå…³è”çš„ç±»ã€‚</li><li><code>&lt;alias&gt;</code> ç”¨æ¥å®šä¹‰ Bean çš„åˆ«åã€‚</li><li><code>&lt;import&gt;</code> ç”¨æ¥å¯¼å…¥å…¶ä»–é…ç½®æ–‡ä»¶çš„ Bean å®šä¹‰ã€‚è¿™æ˜¯ä¸ºäº†åŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æŠŠè¿™äº›é…ç½®æ–‡ä»¶æ„é€ ä¸ºä¸€ä¸ªæ•°ç»„ï¼ˆnew String[] {â€œconfig1.xmlâ€, config2.xml}ï¼‰ä¼ ç»™ <code>ApplicationContext</code> å®ç°ç±»è¿›è¡ŒåŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œé‚£ä¸€ä¸ªæ›´é€‚åˆç”±ç”¨æˆ·å†³å®šï¼›è¿™ä¸¤ç§æ–¹å¼éƒ½æ˜¯é€šè¿‡è°ƒç”¨ Bean Definition Reader è¯»å– Bean å®šä¹‰ï¼Œå†…éƒ¨å®ç°æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚<code>&lt;import&gt;</code> æ ‡ç­¾å¯ä»¥æ”¾åœ¨ <code>&lt;beans&gt;</code> ä¸‹çš„ä»»ä½•ä½ç½®ï¼Œæ²¡æœ‰é¡ºåºå…³ç³»ã€‚</li></ul><h4 id="-2"><a class="markdownIt-Anchor" href="#-2"></a> <a href="https://dunwu.github.io/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%AE%B9%E5%99%A8">#</a>å®ä¾‹åŒ–å®¹å™¨</h4><p>å®ä¾‹åŒ–å®¹å™¨çš„è¿‡ç¨‹ï¼š å®šä½èµ„æºï¼ˆXML é…ç½®æ–‡ä»¶ï¼‰ è¯»å–é…ç½®ä¿¡æ¯(Resource) è½¬åŒ–ä¸º Spring å¯è¯†åˆ«çš„æ•°æ®å½¢å¼ï¼ˆBeanDefinitionï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="keyword">new</span> <span class="title class_">String</span>[] &#123;<span class="string">&quot;services.xml&quot;</span>, <span class="string">&quot;daos.xml&quot;</span>&#125;);</span><br></pre></td></tr></table></figure><p>ç»„åˆ xml é…ç½®æ–‡ä»¶ é…ç½®çš„ Bean åŠŸèƒ½å„ä¸ç›¸åŒï¼Œéƒ½æ”¾åœ¨ä¸€ä¸ª xml æ–‡ä»¶ä¸­ï¼Œä¸ä¾¿ç®¡ç†ã€‚ Java è®¾è®¡æ¨¡å¼è®²ç©¶èŒè´£å•ä¸€åŸåˆ™ã€‚é…ç½®å…¶å®ä¹Ÿæ˜¯å¦‚æ­¤ï¼ŒåŠŸèƒ½ä¸åŒçš„ JavaBean åº”è¯¥è¢«ç»„ç»‡åœ¨ä¸åŒçš„ xml æ–‡ä»¶ä¸­ã€‚ç„¶åä½¿ç”¨ import æ ‡ç­¾æŠŠå®ƒä»¬ç»Ÿä¸€å¯¼å…¥ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;classpath:spring/applicationContext.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;/WEB-INF/spring/service.xml&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h4 id="-3"><a class="markdownIt-Anchor" href="#-3"></a> <a href="https://dunwu.github.io/spring-tutorial/core/Spring%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html#%E4%BD%BF%E7%94%A8%E5%AE%B9%E5%99%A8">#</a>ä½¿ç”¨å®¹å™¨</h4><p>ä½¿ç”¨å®¹å™¨çš„æ–¹å¼å°±æ˜¯é€šè¿‡<code>getBean</code>è·å– IoC å®¹å™¨ä¸­çš„ JavaBeanã€‚ Spring ä¹Ÿæœ‰å…¶ä»–æ–¹æ³•å»è·å¾— JavaBeanï¼Œä½†æ˜¯ Spring å¹¶ä¸æ¨èå…¶ä»–æ–¹å¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// create and configure beans</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="keyword">new</span> <span class="title class_">String</span>[] &#123;<span class="string">&quot;services.xml&quot;</span>, <span class="string">&quot;daos.xml&quot;</span>&#125;);</span><br><span class="line"><span class="comment">// retrieve configured instance</span></span><br><span class="line"><span class="type">PetStoreService</span> <span class="variable">service</span> <span class="operator">=</span> context.getBean(<span class="string">&quot;petStore&quot;</span>, PetStoreService.class);</span><br><span class="line"><span class="comment">// use configured instance</span></span><br><span class="line">List&lt;String&gt; userList = service.getUsernameList();</span><br></pre></td></tr></table></figure><h3 id="æ³¨è§£é…ç½®"><a class="markdownIt-Anchor" href="#æ³¨è§£é…ç½®"></a> æ³¨è§£é…ç½®</h3><p>Spring2.5 å¼•å…¥äº†æ³¨è§£ã€‚ äºæ˜¯ï¼Œä¸€ä¸ªé—®é¢˜äº§ç”Ÿäº†ï¼š<strong>ä½¿ç”¨æ³¨è§£æ–¹å¼æ³¨å…¥ JavaBean æ˜¯ä¸æ˜¯ä¸€å®šå®Œçˆ† xml æ–¹å¼ï¼Ÿ</strong> æœªå¿…ã€‚æ­£æ‰€è°“ï¼Œä»è€…è§ä»æ™ºè€…è§æ™ºã€‚ä»»ä½•äº‹ç‰©éƒ½æœ‰å…¶ä¼˜ç¼ºç‚¹ï¼Œçœ‹ä½ å¦‚ä½•å–èˆã€‚æ¥çœ‹çœ‹æ³¨è§£çš„ä¼˜ç¼ºç‚¹ï¼š <strong>ä¼˜ç‚¹</strong>ï¼šå¤§å¤§å‡å°‘äº†é…ç½®ï¼Œå¹¶ä¸”å¯ä»¥ä½¿é…ç½®æ›´åŠ ç²¾ç»†â€”â€”ç±»ï¼Œæ–¹æ³•ï¼Œå­—æ®µéƒ½å¯ä»¥ç”¨æ³¨è§£å»æ ‡è®°ã€‚ <strong>ç¼ºç‚¹</strong>ï¼šä½¿ç”¨æ³¨è§£ï¼Œä¸å¯é¿å…äº§ç”Ÿäº†ä¾µå…¥å¼ç¼–ç¨‹ï¼Œä¹Ÿäº§ç”Ÿäº†ä¸€äº›é—®é¢˜ã€‚</p><ul><li>ä½ éœ€è¦å°†æ³¨è§£åŠ å…¥ä½ çš„æºç å¹¶ç¼–è¯‘å®ƒï¼›</li><li>æ³¨è§£å¾€å¾€æ¯”è¾ƒåˆ†æ•£ï¼Œä¸æ˜“ç®¡æ§ã€‚</li></ul><blockquote><p>æ³¨ï¼šspring ä¸­ï¼Œå…ˆè¿›è¡Œæ³¨è§£æ³¨å…¥ï¼Œç„¶åæ‰æ˜¯ xml æ³¨å…¥ï¼Œå› æ­¤å¦‚æœæ³¨å…¥çš„ç›®æ ‡ç›¸åŒï¼Œåè€…ä¼šè¦†ç›–å‰è€…ã€‚</p></blockquote><h4 id="å¯åŠ¨æ³¨è§£"><a class="markdownIt-Anchor" href="#å¯åŠ¨æ³¨è§£"></a> å¯åŠ¨æ³¨è§£</h4><p>Spring é»˜è®¤æ˜¯ä¸å¯ç”¨æ³¨è§£çš„ã€‚å¦‚æœæƒ³ä½¿ç”¨æ³¨è§£ï¼Œéœ€è¦å…ˆåœ¨ xml ä¸­å¯åŠ¨æ³¨è§£ã€‚ å¯åŠ¨æ–¹å¼ï¼šåœ¨ xml ä¸­åŠ å…¥ä¸€ä¸ªæ ‡ç­¾ï¼Œå¾ˆç®€å•å§ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š<code>&lt;context:annotation-config/&gt;</code> åªä¼šæ£€ç´¢å®šä¹‰å®ƒçš„ä¸Šä¸‹æ–‡ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½  ä¸º DispatcherServlet æŒ‡å®šäº†ä¸€ä¸ª<code>WebApplicationContext</code>ï¼Œé‚£ä¹ˆå®ƒåªåœ¨ controller ä¸­æŸ¥æ‰¾<code>@Autowired</code>æ³¨è§£ï¼Œè€Œä¸ä¼šæ£€æŸ¥å…¶å®ƒçš„è·¯å¾„ã€‚</p></blockquote><h4 id="required"><a class="markdownIt-Anchor" href="#required"></a> <code>@Required</code></h4><p><code>@Required</code> æ³¨è§£åªèƒ½ç”¨äºä¿®é¥° bean å±æ€§çš„ setter æ–¹æ³•ã€‚å—å½±å“çš„ bean å±æ€§å¿…é¡»åœ¨é…ç½®æ—¶è¢«å¡«å……åœ¨ xml é…ç½®æ–‡ä»¶ä¸­ï¼Œå¦åˆ™å®¹å™¨å°†æŠ›å‡º<code>BeanInitializationException</code>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationRequired</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Required</span> æ³¨è§£ç”¨äºbeanå±æ€§çš„setteræ–¹æ³•å¹¶ä¸”å®ƒæŒ‡ç¤ºï¼Œå—å½±å“çš„beanå±æ€§å¿…é¡»åœ¨é…ç½®æ—¶è¢«å¡«å……åœ¨xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œ</span></span><br><span class="line"><span class="comment">     *           å¦åˆ™å®¹å™¨å°†æŠ›å‡ºBeanInitializationExceptionã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Required</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSex</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSex</span><span class="params">(String sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="autowired"><a class="markdownIt-Anchor" href="#autowired"></a> <code>@Autowired</code></h4><p><code>@Autowired</code>æ³¨è§£å¯ç”¨äºä¿®é¥°å±æ€§ã€setter æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€‚</p><p>@Autowired æ³¨å…¥è¿‡ç¨‹</p><ul><li>å…ƒä¿¡æ¯è§£æ</li><li>ä¾èµ–æŸ¥æ‰¾</li><li>ä¾èµ–æ³¨å…¥ï¼ˆå­—æ®µã€æ–¹æ³•ï¼‰</li></ul><blockquote><p>æ³¨ï¼š<code>@Autowired</code>æ³¨è§£ä¹Ÿå¯ç”¨äºä¿®é¥°æ„é€ æ–¹æ³•ï¼Œä½†å¦‚æœç±»ä¸­åªæœ‰é»˜è®¤æ„é€ æ–¹æ³•ï¼Œåˆ™æ²¡æœ‰å¿…è¦ã€‚å¦‚æœæœ‰å¤šä¸ªæ„é€ å™¨ï¼Œè‡³å°‘åº”è¯¥ä¿®é¥°ä¸€ä¸ªï¼Œæ¥å‘Šè¯‰å®¹å™¨å“ªä¸€ä¸ªå¿…é¡»ä½¿ç”¨ã€‚</p></blockquote><p>å¯ä»¥ä½¿ç”¨ JSR330 çš„æ³¨è§£<code>@Inject</code>æ¥æ›¿ä»£<code>@Autowired</code>ã€‚</p><p><strong>*èŒƒä¾‹*</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationAutowired</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(AnnotationRequired.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Apple fieldA;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Banana fieldB;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Orange fieldC;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Apple <span class="title function_">getFieldA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fieldA;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFieldA</span><span class="params">(Apple fieldA)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.fieldA = fieldA;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Banana <span class="title function_">getFieldB</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fieldB;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFieldB</span><span class="params">(Banana fieldB)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.fieldB = fieldB;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Orange <span class="title function_">getFieldC</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fieldC;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFieldC</span><span class="params">(Orange fieldC)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.fieldC = fieldC;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AnnotationAutowired</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AnnotationAutowired</span><span class="params">(Orange fieldC)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.fieldC = fieldC;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">AbstractApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring/spring-annotation.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">AnnotationAutowired</span> <span class="variable">annotationAutowired</span> <span class="operator">=</span></span><br><span class="line">                        (AnnotationAutowired) ctx.getBean(<span class="string">&quot;annotationAutowired&quot;</span>);</span><br><span class="line">        log.debug(<span class="string">&quot;fieldA: &#123;&#125;, fieldB:&#123;&#125;, fieldC:&#123;&#125;&quot;</span>, annotationAutowired.getFieldA().getName(),</span><br><span class="line">                        annotationAutowired.getFieldB().getName(),</span><br><span class="line">                        annotationAutowired.getFieldC().getName());</span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>xml ä¸­çš„é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æµ‹è¯•@Autowired --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;apple&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.Apple&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;potato&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.Banana&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;tomato&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.Orange&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;annotationAutowired&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.AnnotationAutowired&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h4 id="qualifier"><a class="markdownIt-Anchor" href="#qualifier"></a> <code>@Qualifier</code></h4><p>åœ¨<code>@Autowired</code>æ³¨è§£ä¸­ï¼Œæåˆ°äº†å¦‚æœå‘ç°æœ‰å¤šä¸ªå€™é€‰çš„ bean éƒ½ç¬¦åˆä¿®é¥°ç±»å‹ï¼ŒSpring å°±ä¼šæŠ“çäº†ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>å¯ä»¥é€šè¿‡<code>@Qualifier</code>æŒ‡å®š bean åç§°æ¥é”å®šçœŸæ­£éœ€è¦çš„é‚£ä¸ª beanã€‚</p><p><strong>*èŒƒä¾‹*</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationQualifier</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(AnnotationQualifier.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;dog&quot;)</span> <span class="comment">/** å»é™¤è¿™è¡Œï¼Œä¼šæŠ¥å¼‚å¸¸ */</span></span><br><span class="line">    Animal dog;</span><br><span class="line"></span><br><span class="line">    Animal cat;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Animal <span class="title function_">getDog</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> dog;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDog</span><span class="params">(Animal dog)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.dog = dog;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Animal <span class="title function_">getCat</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCat</span><span class="params">(<span class="meta">@Qualifier(&quot;cat&quot;)</span> Animal cat)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cat = cat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">AbstractApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring/spring-annotation.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">AnnotationQualifier</span> <span class="variable">annotationQualifier</span> <span class="operator">=</span></span><br><span class="line">                (AnnotationQualifier) ctx.getBean(<span class="string">&quot;annotationQualifier&quot;</span>);</span><br><span class="line"></span><br><span class="line">        log.debug(<span class="string">&quot;Dog name: &#123;&#125;&quot;</span>, annotationQualifier.getDog().getName());</span><br><span class="line">        log.debug(<span class="string">&quot;Cat name: &#123;&#125;&quot;</span>, annotationQualifier.getCat().getName());</span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ç‹—&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;çŒ«&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>xml ä¸­çš„é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æµ‹è¯•@Qualifier --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dog&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.Dog&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cat&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.Cat&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;annotationQualifier&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.AnnotationQualifier&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h4 id="resource"><a class="markdownIt-Anchor" href="#resource"></a> <code>@Resource</code></h4><p>Spring æ”¯æŒ JSP250 è§„å®šçš„æ³¨è§£<code>@Resource</code>ã€‚è¿™ä¸ªæ³¨è§£æ ¹æ®æŒ‡å®šçš„åç§°æ¥æ³¨å…¥ beanã€‚</p><p>å¦‚æœæ²¡æœ‰ä¸º<code>@Resource</code>æŒ‡å®šåç§°ï¼Œå®ƒä¼šåƒ<code>@Autowired</code>ä¸€æ ·æŒ‰ç…§ç±»å‹å»å¯»æ‰¾åŒ¹é…ã€‚</p><p>åœ¨ Spring ä¸­ï¼Œç”±<code>CommonAnnotationBeanPostProcessor</code>æ¥å¤„ç†<code>@Resource</code>æ³¨è§£ã€‚</p><p><strong>*èŒƒä¾‹*</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationResource</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(AnnotationResource.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource(name = &quot;flower&quot;)</span></span><br><span class="line">    Plant flower;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource(name = &quot;tree&quot;)</span></span><br><span class="line">    Plant tree;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Plant <span class="title function_">getFlower</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> flower;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFlower</span><span class="params">(Plant flower)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.flower = flower;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Plant <span class="title function_">getTree</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> tree;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTree</span><span class="params">(Plant tree)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.tree = tree;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">AbstractApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring/spring-annotation.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">AnnotationResource</span> <span class="variable">annotationResource</span> <span class="operator">=</span></span><br><span class="line">                        (AnnotationResource) ctx.getBean(<span class="string">&quot;annotationResource&quot;</span>);</span><br><span class="line">        log.debug(<span class="string">&quot;type: &#123;&#125;, name: &#123;&#125;&quot;</span>, annotationResource.getFlower().getClass(), annotationResource.getFlower().getName());</span><br><span class="line">        log.debug(<span class="string">&quot;type: &#123;&#125;, name: &#123;&#125;&quot;</span>, annotationResource.getTree().getClass(), annotationResource.getTree().getName());</span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>xml çš„é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æµ‹è¯•@Resource --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;flower&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.Flower&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;tree&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.Tree&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;annotationResource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.beans.annotation.sample.AnnotationResource&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h4 id="postconstruct-å’Œ-predestroy"><a class="markdownIt-Anchor" href="#postconstruct-å’Œ-predestroy"></a> <code>@PostConstruct</code> å’Œ <code>@PreDestroy</code></h4><p><code>@PostConstruct</code> å’Œ <code>@PreDestroy</code> æ˜¯ JSR 250 è§„å®šçš„ç”¨äºç”Ÿå‘½å‘¨æœŸçš„æ³¨è§£ã€‚</p><p>ä»å…¶åå·å°±å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªæ˜¯åœ¨æ„é€ ä¹‹åè°ƒç”¨çš„æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯é”€æ¯ä¹‹å‰è°ƒç”¨çš„æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationPostConstructAndPreDestroy</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(AnnotationPostConstructAndPreDestroy.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        log.debug(<span class="string">&quot;call @PostConstruct method&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        log.debug(<span class="string">&quot;call @PreDestroy method&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="inject"><a class="markdownIt-Anchor" href="#inject"></a> <code>@Inject</code></h4><p>ä» Spring3.0 å¼€å§‹ï¼ŒSpring æ”¯æŒ JSR 330 æ ‡å‡†æ³¨è§£ï¼ˆä¾èµ–æ³¨å…¥ï¼‰ã€‚</p><p>æ³¨ï¼šå¦‚æœè¦ä½¿ç”¨ JSR 330 æ³¨è§£ï¼Œéœ€è¦ä½¿ç”¨å¤–éƒ¨ jar åŒ…ã€‚</p><p>è‹¥ä½ ä½¿ç”¨ maven ç®¡ç† jar åŒ…ï¼Œåªéœ€è¦æ·»åŠ ä¾èµ–åˆ° pom.xml å³å¯ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.inject<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.inject<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>@Inject</code> å’Œ <code>@Autowired</code> ä¸€æ ·ï¼Œå¯ä»¥ä¿®é¥°å±æ€§ã€setter æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€‚</p><p><strong>*èŒƒä¾‹*</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationInject</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(AnnotationInject.class);</span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    Apple fieldA;</span><br><span class="line"></span><br><span class="line">    Banana fieldB;</span><br><span class="line"></span><br><span class="line">    Orange fieldC;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Apple <span class="title function_">getFieldA</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fieldA;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFieldA</span><span class="params">(Apple fieldA)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.fieldA = fieldA;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Banana <span class="title function_">getFieldB</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fieldB;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFieldB</span><span class="params">(Banana fieldB)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.fieldB = fieldB;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Orange <span class="title function_">getFieldC</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> fieldC;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AnnotationInject</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AnnotationInject</span><span class="params">(Orange fieldC)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.fieldC = fieldC;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">AbstractApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring/spring-annotation.xml&quot;</span>);</span><br><span class="line">        <span class="type">AnnotationInject</span> <span class="variable">annotationInject</span> <span class="operator">=</span> (AnnotationInject) ctx.getBean(<span class="string">&quot;annotationInject&quot;</span>);</span><br><span class="line"></span><br><span class="line">        log.debug(<span class="string">&quot;type: &#123;&#125;, name: &#123;&#125;&quot;</span>, annotationInject.getFieldA().getClass(),</span><br><span class="line">                        annotationInject.getFieldA().getName());</span><br><span class="line"></span><br><span class="line">        log.debug(<span class="string">&quot;type: &#123;&#125;, name: &#123;&#125;&quot;</span>, annotationInject.getFieldB().getClass(),</span><br><span class="line">                        annotationInject.getFieldB().getName());</span><br><span class="line"></span><br><span class="line">        log.debug(<span class="string">&quot;type: &#123;&#125;, name: &#123;&#125;&quot;</span>, annotationInject.getFieldC().getClass(),</span><br><span class="line">                        annotationInject.getFieldC().getName());</span><br><span class="line"></span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="java-é…ç½®"><a class="markdownIt-Anchor" href="#java-é…ç½®"></a> Java é…ç½®</h3><p>åŸºäº Java é…ç½® Spring IoC å®¹å™¨ï¼Œå®é™…ä¸Šæ˜¯<strong>Spring å…è®¸ç”¨æˆ·å®šä¹‰ä¸€ä¸ªç±»ï¼Œåœ¨è¿™ä¸ªç±»ä¸­å»ç®¡ç† IoC å®¹å™¨çš„é…ç½®</strong>ã€‚</p><p>ä¸ºäº†è®© Spring è¯†åˆ«è¿™ä¸ªå®šä¹‰ç±»ä¸ºä¸€ä¸ª Spring é…ç½®ç±»ï¼Œéœ€è¦ç”¨åˆ°ä¸¤ä¸ªæ³¨è§£ï¼š<code>@Configuration</code>å’Œ<code>@Bean</code>ã€‚</p><p>å¦‚æœä½ ç†Ÿæ‚‰ Spring çš„ xml é…ç½®æ–¹å¼ï¼Œä½ å¯ä»¥å°†<code>@Configuration</code>ç­‰ä»·äº<code>&lt;beans&gt;</code>æ ‡ç­¾ï¼›å°†<code>@Bean</code>ç­‰ä»·äº<code>&lt;bean&gt;</code>æ ‡ç­¾ã€‚</p><h4 id="bean-2"><a class="markdownIt-Anchor" href="#bean-2"></a> <code>@Bean</code></h4><p>@Bean çš„ä¿®é¥°ç›®æ ‡åªèƒ½æ˜¯æ–¹æ³•æˆ–æ³¨è§£ã€‚</p><p>@Bean åªèƒ½å®šä¹‰åœ¨ <code>@Configuration</code> æˆ– <code>@Component</code> æ³¨è§£ä¿®é¥°çš„ç±»ä¸­ã€‚</p><h4 id="å£°æ˜ä¸€ä¸ª-bean"><a class="markdownIt-Anchor" href="#å£°æ˜ä¸€ä¸ª-bean"></a> å£°æ˜ä¸€ä¸ª bean</h4><p>æ­¤å¤–ï¼Œ@Configuration ç±»å…è®¸åœ¨åŒä¸€ä¸ªç±»ä¸­é€šè¿‡@Bean å®šä¹‰å†…éƒ¨ bean ä¾èµ–ã€‚</p><p>å£°æ˜ä¸€ä¸ª beanï¼Œåªéœ€è¦åœ¨ bean å±æ€§çš„ set æ–¹æ³•ä¸Šæ ‡æ³¨@Bean å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationConfiguration</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(JavaComponentScan.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Job <span class="title function_">getPolice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Police</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AnnotationConfigApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(AnnotationConfiguration.class);</span><br><span class="line">        ctx.scan(<span class="string">&quot;org.zp.notes.spring.beans&quot;</span>);</span><br><span class="line">        ctx.refresh();</span><br><span class="line">        <span class="type">Job</span> <span class="variable">job</span> <span class="operator">=</span> (Job) ctx.getBean(<span class="string">&quot;police&quot;</span>);</span><br><span class="line">        log.debug(<span class="string">&quot;job: &#123;&#125;, work: &#123;&#125;&quot;</span>, job.getClass(), job.work());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Job</span> &#123;</span><br><span class="line">    String <span class="title function_">work</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component(&quot;police&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Police</span> <span class="keyword">implements</span> <span class="title class_">Job</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">work</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æŠ“ç½ªçŠ¯&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç­‰ä»·äºé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;police&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.zp.notes.spring.ioc.sample.job.Police&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>@Bean æ³¨è§£ç”¨æ¥è¡¨æ˜ä¸€ä¸ªæ–¹æ³•å®ä¾‹åŒ–ã€é…ç½®åˆåˆå§‹åŒ–ä¸€ä¸ªè¢« Spring IoC å®¹å™¨ç®¡ç†çš„æ–°å¯¹è±¡ã€‚</p><p>å¦‚æœä½ ç†Ÿæ‚‰ Spring çš„ xml é…ç½®ï¼Œä½ å¯ä»¥å°†@Bean è§†ä¸ºç­‰ä»·äº<code>&lt;beans&gt;</code>æ ‡ç­¾ã€‚</p><p>@Bean æ³¨è§£å¯ä»¥ç”¨äºä»»ä½•çš„ Spring <code>@Component</code> beanï¼Œç„¶è€Œï¼Œé€šå¸¸è¢«ç”¨äº<code>@Configuration</code> beanã€‚</p><h4 id="configuration"><a class="markdownIt-Anchor" href="#configuration"></a> <code>@Configuration</code></h4><p><code>@Configuration</code> æ˜¯ä¸€ä¸ªç±»çº§åˆ«çš„æ³¨è§£ï¼Œç”¨æ¥æ ‡è®°è¢«ä¿®é¥°ç±»çš„å¯¹è±¡æ˜¯ä¸€ä¸ª<code>BeanDefinition</code>ã€‚</p><p><code>@Configuration</code> å£°æ˜ bean æ˜¯é€šè¿‡è¢« <code>@Bean</code> ä¿®é¥°çš„å…¬å…±æ–¹æ³•ã€‚æ­¤å¤–ï¼Œ<code>@Configuration</code> å…è®¸åœ¨åŒä¸€ä¸ªç±»ä¸­é€šè¿‡ <code>@Bean</code> å®šä¹‰å†…éƒ¨ bean ä¾èµ–ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MyService <span class="title function_">myService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyServiceImpl</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç­‰ä»·äºé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.acme.services.MyServiceImpl&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç”¨ <code>AnnotationConfigApplicationContext</code> å®ä¾‹åŒ– IoC å®¹å™¨ã€‚</p><h2 id="æœ€ä½³å®è·µ"><a class="markdownIt-Anchor" href="#æœ€ä½³å®è·µ"></a> æœ€ä½³å®è·µ</h2><h3 id="singleton-çš„-bean-å¦‚ä½•æ³¨å…¥-prototype-çš„-bean"><a class="markdownIt-Anchor" href="#singleton-çš„-bean-å¦‚ä½•æ³¨å…¥-prototype-çš„-bean"></a> singleton çš„ Bean å¦‚ä½•æ³¨å…¥ prototype çš„ Bean</h3><p>Spring åˆ›å»ºçš„ Bean é»˜è®¤æ˜¯å•ä¾‹çš„ï¼Œä½†å½“ Bean é‡åˆ°ç»§æ‰¿çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå¿½ç•¥è¿™ä¸€ç‚¹ã€‚</p><p>å‡è®¾æœ‰ä¸€ä¸ª SayService æŠ½è±¡ç±»ï¼Œå…¶ä¸­ç»´æŠ¤äº†ä¸€ä¸ªç±»å‹æ˜¯ ArrayList çš„å­—æ®µ dataï¼Œç”¨äºä¿å­˜æ–¹æ³•å¤„ç†çš„ä¸­é—´æ•°æ®ã€‚æ¯æ¬¡è°ƒç”¨ say æ–¹æ³•éƒ½ä¼šå¾€ data åŠ å…¥æ–°æ•°æ®ï¼Œå¯ä»¥è®¤ä¸º SayService æ˜¯æœ‰çŠ¶æ€ï¼Œå¦‚æœ SayService æ˜¯å•ä¾‹çš„è¯å¿…ç„¶ä¼š OOMã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * SayService æ˜¯æœ‰çŠ¶æ€ï¼Œå¦‚æœ SayService æ˜¯å•ä¾‹çš„è¯å¿…ç„¶ä¼š OOM</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">SayService</span> &#123;</span><br><span class="line"></span><br><span class="line">   List&lt;String&gt; data = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">      data.add(IntStream.rangeClosed(<span class="number">1</span>, <span class="number">1000000</span>)</span><br><span class="line">         .mapToObj(__ -&gt; <span class="string">&quot;a&quot;</span>)</span><br><span class="line">         .collect(Collectors.joining(<span class="string">&quot;&quot;</span>)) + UUID.randomUUID().toString());</span><br><span class="line">      log.info(<span class="string">&quot;I&#x27;m &#123;&#125; size:&#123;&#125;&quot;</span>, <span class="built_in">this</span>, data.size());</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†å®é™…å¼€å‘çš„æ—¶å€™ï¼Œå¼€å‘åŒå­¦æ²¡æœ‰è¿‡å¤šæ€è€ƒå°±æŠŠ SayHello å’Œ SayBye ç±»åŠ ä¸Šäº† @Service æ³¨è§£ï¼Œè®©å®ƒä»¬æˆä¸ºäº† Beanï¼Œä¹Ÿæ²¡æœ‰è€ƒè™‘åˆ°çˆ¶ç±»æ˜¯æœ‰çŠ¶æ€çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SayBye</span> <span class="keyword">extends</span> <span class="title class_">SayService</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="built_in">super</span>.say();</span><br><span class="line">      log.info(<span class="string">&quot;bye&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SayHello</span> <span class="keyword">extends</span> <span class="title class_">SayService</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="built_in">super</span>.say();</span><br><span class="line">log.info(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸ºç±»æ ‡è®°ä¸Š @Service æ³¨è§£æŠŠç±»å‹äº¤ç”±å®¹å™¨ç®¡ç†å‰ï¼Œé¦–å…ˆè¯„ä¼°ä¸€ä¸‹ç±»æ˜¯å¦æœ‰çŠ¶æ€ï¼Œç„¶åä¸º Bean è®¾ç½®åˆé€‚çš„ Scopeã€‚</p><p>è°ƒç”¨ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;beansingletonandorder&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BeanSingletonAndOrderController</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   List&lt;SayService&gt; sayServiceList;</span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   <span class="keyword">private</span> ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@GetMapping(&quot;test&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">      log.info(<span class="string">&quot;====================&quot;</span>);</span><br><span class="line">      sayServiceList.forEach(SayService::say);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯èƒ½æœ‰äººè®¤ä¸ºï¼Œä¸º SayHello å’Œ SayBye ä¸¤ä¸ªç±»éƒ½æ ‡è®°äº† @Scope æ³¨è§£ï¼Œè®¾ç½®äº† PROTOTYPE çš„ç”Ÿå‘½å‘¨æœŸå°±å¯ä»¥è§£å†³ä¸Šé¢çš„é—®é¢˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)</span></span><br></pre></td></tr></table></figure><p>ä½†å®é™…ä¸Šè¿˜æ˜¯æœ‰é—®é¢˜ã€‚å› ä¸º@RestController æ³¨è§£ =@Controller æ³¨è§£ +@ResponseBody æ³¨è§£ï¼Œåˆå› ä¸º @Controller æ ‡è®°äº† @Component å…ƒæ³¨è§£ï¼Œæ‰€ä»¥ @RestController æ³¨è§£å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ª Spring Beanã€‚</p><p>Bean é»˜è®¤æ˜¯å•ä¾‹çš„ï¼Œæ‰€ä»¥å•ä¾‹çš„ Controller æ³¨å…¥çš„ Service ä¹Ÿæ˜¯ä¸€æ¬¡æ€§åˆ›å»ºçš„ï¼Œå³ä½¿ Service æœ¬èº«æ ‡è¯†äº† prototype çš„èŒƒå›´ä¹Ÿæ²¡ç”¨ã€‚</p><p>ä¿®å¤æ–¹å¼æ˜¯ï¼Œè®© Service ä»¥ä»£ç†æ–¹å¼æ³¨å…¥ã€‚è¿™æ ·è™½ç„¶ Controller æœ¬èº«æ˜¯å•ä¾‹çš„ï¼Œä½†æ¯æ¬¡éƒ½èƒ½ä»ä»£ç†è·å– Serviceã€‚è¿™æ ·ä¸€æ¥ï¼Œprototype èŒƒå›´çš„é…ç½®æ‰èƒ½çœŸæ­£ç”Ÿæ•ˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE, proxyMode = ScopedProx)</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#beans">Spring å®˜æ–¹æ–‡æ¡£ä¹‹ Core Technologies</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ioc-æ¦‚å¿µç®€ä»‹&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ioc-æ¦‚å¿µç®€ä»‹&quot;&gt;&lt;/a&gt; IoC æ¦‚å¿µç®€ä»‹&lt;/h2&gt;
&lt;h3 id=&quot;ioc-æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ioc-</summary>
      
    
    
    
    <category term="Spring" scheme="https://serms.top/categories/Spring/"/>
    
    <category term="Java" scheme="https://serms.top/categories/Java/"/>
    
    <category term="SpringIOCè¯¦è§£" scheme="https://serms.top/categories/Spring/SpringIOC%E8%AF%A6%E8%A7%A3/"/>
    
    
    <category term="Spring" scheme="https://serms.top/tags/Spring/"/>
    
    <category term="Java" scheme="https://serms.top/tags/Java/"/>
    
    <category term="SpringIOC" scheme="https://serms.top/tags/SpringIOC/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€é”®ç”Ÿæˆä»£ç </title>
    <link href="https://serms.top/posts/1d84dc88/"/>
    <id>https://serms.top/posts/1d84dc88/</id>
    <published>2022-05-03T16:07:01.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<div class="tip home"><p>å†™åœ¨å‰é¢çš„è¯:<br />æœ¬è„šæœ¬æ¨¡æ¿ä¸æ”¶å–ä»»ä½•è´¹ç”¨,åˆè¡·å°±æ˜¯ä¸æƒ³é‡å¤é€ æ¢¯å­,å¦‚æœå¯¹å„ä½æœ‰å¸®åŠ©çš„è¯,å¯ä»¥ç»™ä½œè€…æ‰“ä¸Šä¸€æ¯å¥¶èŒ¶é’±,ç›®å‰æ’ä»¶è¿˜æ˜¯æœ‰ç‚¹å° Bug,ä½†æ˜¯ä¸å½±å“ä½¿ç”¨,ç°åœ¨å„å¹³å°ç›¸å…³çš„ä»£ç ç”Ÿæˆæ’ä»¶ä¹Ÿæ¯”è¾ƒæˆç†Ÿäº†,å¹¶ä¸”å¸¦æœ‰ç‹¬ç‰¹çš„ç‰¹è‰²å’Œä¸€äº›è‡ªå¸¦çš„ä»£ç æç¤ºåŠŸèƒ½,ä½¿ç”¨æ„Ÿå—æ•´ä½“éƒ½ä¸é”™,ä½†æ˜¯å¥½ç”¨çš„æ’ä»¶è‚¯å®šæ˜¯è¦æ”¶è´¹çš„å•¦~å…·ä½“çš„è¯·å‚è€ƒä¸‹é¢ç›¸å…³æ’ä»¶æŸ¥çœ‹</p></div><details class="folding-tag" green><summary> æŸ¥çœ‹è§†é¢‘æ•™ç¨‹ </summary>              <div class='content'>              <iframe class="bilibili" src="//player.bilibili.com/player.html?aid=981357376&bvid=BV1q44y1u7EL&cid=711986806&page=1&high_quality=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" > </iframe>              </div>            </details><table><thead><tr><th style="text-align:center">å‚è€ƒæ’ä»¶</th></tr></thead><tbody><tr><td style="text-align:center"><strong><a href="https://github.com/gejun123456/MyBatisCodeHelper-Pro">MyBatisCodeHelper-Pro</a></strong></td></tr><tr><td style="text-align:center"><a href="https://github.com/zhengjunbase/codehelper.generator"><strong>codehelper.generator</strong></a></td></tr><tr><td style="text-align:center"><a href="https://github.com/mybatis/mybatis-3"><strong>mybatis</strong></a></td></tr><tr><td style="text-align:center"><a href="https://github.com/mybatis/generator">mybatis generator</a></td></tr><tr><td style="text-align:center"><a href="https://github.com/pagehelper/Mybatis-PageHelper">pageHelper</a></td></tr><tr><td style="text-align:center"><a href="https://github.com/zouzg/mybatis-generator-gui">mybatis-generator-gui</a></td></tr><tr><td style="text-align:center"><a href="https://github.com/itfsw/mybatis-generator-plugin">mybatis generator plugin</a></td></tr><tr><td style="text-align:center"><a href="https://github.com/baomidou/mybatis-plus">mybatisplus</a></td></tr></tbody></table><details class="folding-tag" cyan><summary> åŠŸèƒ½ä»‹ç» </summary>              <div class='content'>              <p>æœ¬è„šæœ¬åªé€‚ç”¨äº EasyCode æ¨¡æ¿æ­é…ä½¿ç”¨</p><p>æ”¯æŒç”Ÿæˆä»£ç å…·ä½“å¦‚ä¸‹:</p><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>controller å±‚ä»£ç </p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>handler å¤„ç†å™¨</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>interceptor æ‹¦æˆªå™¨</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>mapper æ•°æ®åº“æ¥å£</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>pojo å®ä½“ç±»</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>service æœåŠ¡å±‚</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>service-impl æœåŠ¡å±‚å®ç°ç±»</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>application.yaml yamlå…¨å±€é…ç½®æ–‡ä»¶</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>Bugä¿®å¤~</p>            </div><p>æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿,ä¸€é”®ç”Ÿæˆåˆ°åº•,åŸºæœ¬æ»¡è¶³ä½ æ—¥å¸¸ CRUD</p><p>è™½ç„¶è¿˜æ˜¯æœ‰ç‚¹ Bug,ä½†æ˜¯æˆ‘è§‰å¾—ä»–å·²ç»æˆç†Ÿäº†,å› ä¸ºä¸å½±å“ä½¿ç”¨,å…·ä½“ Bug æˆ‘ä¼šåœ¨ä¸‹æ–‡ä¸­è®²äº›</p>              </div>            </details><h2 id="ä½¿ç”¨æ•™ç¨‹"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ•™ç¨‹"></a> ä½¿ç”¨æ•™ç¨‹</h2><h3 id="å‰ç½®æ¡ä»¶"><a class="markdownIt-Anchor" href="#å‰ç½®æ¡ä»¶"></a> å‰ç½®æ¡ä»¶</h3><p>éšæ„åˆ›å»ºä¸€ä¸ª SpringBoot é¡¹ç›®,åœ¨ pom é‡Œé¢å¼•å…¥ç›¸å…³ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mp--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Mysqlé©±åŠ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--mpä»£ç ç”Ÿæˆå™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid-spring-boot-starter --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æœç´¢ EasyCode æ’ä»¶å®‰è£…</p><p><img src="https://unpkg.com/serms-assets@1.0.23/imgs/image-20220504090944383.png" alt="" /></p><p>åœ¨æ–‡ä»¶&gt;è®¾ç½®&gt;å…¶ä»–è®¾ç½®&gt;EasyCode&gt;Template ä¸­æ·»åŠ ç»„å,å‘½åéšæ„,å¯ä»¥çœ‹åˆ°,é™¤äº†ç¬¬ä¸€ä¸ª,ä¸‹é¢å››ä¸ªéƒ½æ’ä»¶è‡ªå¸¦çš„,ä½ ä»¬ä¹Ÿå¯ä»¥å°è¯•ä¸€ä¸‹</p><p><img src="https://unpkg.com/serms-assets@1.0.23/imgs/image-20220504091123867.png" alt="" /></p><p>æ¥ä¸‹æ¥å°±æ˜¯æœ€é‡è¦çš„æ·»åŠ æ¨¡æ¿äº†</p><h3 id="pojojavavm"><a class="markdownIt-Anchor" href="#pojojavavm"></a> pojo.java.vm</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">$!&#123;define.vm&#125;</span><br><span class="line">#set($author = <span class="string">&quot;SerMs&quot;</span>)</span><br><span class="line">#save(<span class="string">&quot;/pojo&quot;</span>, <span class="string">&quot;.java&quot;</span>)</span><br><span class="line"></span><br><span class="line">#setPackageSuffix(<span class="string">&quot;pojo&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.*;</span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#tableComment(<span class="string">&quot;å®ä½“ç±»&quot;</span>)</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">$</span>!&#123;tableInfo.name&#125; <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> serialVersionUID= $!tool.serial();</span><br><span class="line">#foreach($column in $tableInfo.pkColumn)</span><br><span class="line">    #<span class="keyword">if</span>($&#123;column.comment&#125;)<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * $&#123;column.comment&#125;</span></span><br><span class="line"><span class="comment">     */</span>#end</span><br><span class="line"></span><br><span class="line"><span class="meta">@TableId(value = &quot;$!&#123;column.obj.name&#125;&quot; , type = IdType.AUTO)</span></span><br><span class="line"><span class="keyword">private</span> $!&#123;tool.getClsNameByFullName($column.type)&#125; $!&#123;column.name&#125;;</span><br><span class="line">#end</span><br><span class="line">#foreach($column in $tableInfo.otherColumn)</span><br><span class="line"></span><br><span class="line">    #<span class="keyword">if</span>($&#123;column.comment&#125;)<span class="comment">/**$&#123;column.comment&#125;*/</span>#end</span><br><span class="line">    #<span class="keyword">if</span>(!($column.name.equals(<span class="string">&#x27;deleted&#x27;</span>)||$column.name.equals(<span class="string">&#x27;updateTime&#x27;</span>)||$column.name.equals(<span class="string">&#x27;createTime&#x27;</span>)))<span class="meta">@TableField(value = &quot;$!&#123;column.obj.name&#125;&quot;)</span>#end</span><br><span class="line">    #<span class="keyword">if</span>($column.name.equals(<span class="string">&#x27;createTime&#x27;</span>))</span><br><span class="line">    <span class="comment">/** åˆ›å»ºæ—¶é—´ */</span></span><br><span class="line">    <span class="meta">@TableField(value = &quot;$!&#123;column.obj.name&#125;&quot; , fill = FieldFill.INSERT)</span>#end</span><br><span class="line">    #<span class="keyword">if</span>($column.name.equals(<span class="string">&#x27;updateTime&#x27;</span>))</span><br><span class="line">    <span class="comment">/** ä¿®æ”¹æ—¶é—´ */</span></span><br><span class="line">    <span class="meta">@TableField(value = &quot;$!&#123;column.obj.name&#125;&quot; , fill = FieldFill.INSERT_UPDATE)</span>#end</span><br><span class="line">    #<span class="keyword">if</span>($column.name.equals(<span class="string">&#x27;deleted&#x27;</span>))<span class="meta">@TableLogic</span></span><br><span class="line">    #end</span><br><span class="line"><span class="keyword">private</span> $!&#123;tool.getClsNameByFullName($column.type)&#125; $!&#123;column.name&#125;;</span><br><span class="line">#end</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="serviceimpljavavm"><a class="markdownIt-Anchor" href="#serviceimpljavavm"></a> serviceImpl.java.vm</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">##å®šä¹‰åˆå§‹å˜é‡</span><br><span class="line">#set($author = <span class="string">&quot;SerMs&quot;</span>)</span><br><span class="line">#set($tableName = $tool.append($tableInfo.name, <span class="string">&quot;ServiceImpl&quot;</span>))</span><br><span class="line">##è®¾ç½®å›è°ƒ</span><br><span class="line">$!callback.setFileName($tool.append($tableName, <span class="string">&quot;.java&quot;</span>))</span><br><span class="line">$!callback.setSavePath($tool.append($tableInfo.savePath, <span class="string">&quot;/service/impl&quot;</span>))</span><br><span class="line"></span><br><span class="line">##æ‹¿åˆ°ä¸»é”®</span><br><span class="line">#<span class="keyword">if</span>(!$tableInfo.pkColumn.isEmpty())</span><br><span class="line">    #set($pk = $tableInfo.pkColumn.get(<span class="number">0</span>))</span><br><span class="line">#end</span><br><span class="line"></span><br><span class="line">#<span class="keyword">if</span>($tableInfo.savePackageName)<span class="keyword">package</span> $!&#123;tableInfo.savePackageName&#125;.#&#123;end&#125;service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;</span><br><span class="line"><span class="keyword">import</span> $!&#123;tableInfo.savePackageName&#125;.pojo.$!&#123;tableInfo.name&#125;;</span><br><span class="line"><span class="keyword">import</span> $!&#123;tableInfo.savePackageName&#125;.mapper.$!&#123;tableInfo.name&#125;Mapper;</span><br><span class="line"><span class="keyword">import</span> $!&#123;tableInfo.savePackageName&#125;.service.$!&#123;tableInfo.name&#125;Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * $!&#123;tableInfo.comment&#125;($!&#123;tableInfo.name&#125;)è¡¨æœåŠ¡å®ç°ç±»</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> $!author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> $!time.currTime()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Service(&quot;$!tool.firstLowerCase($!&#123;tableInfo.name&#125;)Service&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">$</span>!&#123;tableName&#125; <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;$!&#123;tableInfo.name&#125;Mapper, $!&#123;tableInfo.name&#125;&gt; <span class="keyword">implements</span> <span class="title class_">$</span>!&#123;tableInfo.name&#125;Service &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="mapperjavavm"><a class="markdownIt-Anchor" href="#mapperjavavm"></a> mapper.java.vm</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#set($tableName = $tool.append($tableInfo.name, <span class="string">&quot;Mapper&quot;</span>))</span><br><span class="line">#set($author = <span class="string">&quot;SerMs&quot;</span>)</span><br><span class="line"></span><br><span class="line">$!callback.setFileName($tool.append($tableName, <span class="string">&quot;.java&quot;</span>))</span><br><span class="line">$!callback.setSavePath($tool.append($tableInfo.savePath, <span class="string">&quot;/mapper&quot;</span>))</span><br><span class="line"></span><br><span class="line">#<span class="keyword">if</span>(!$tableInfo.pkColumn.isEmpty())</span><br><span class="line">    #set($pk = $tableInfo.pkColumn.get(<span class="number">0</span>))</span><br><span class="line">#end</span><br><span class="line"></span><br><span class="line">#<span class="keyword">if</span>($tableInfo.savePackageName)<span class="keyword">package</span> $!&#123;tableInfo.savePackageName&#125;.#&#123;end&#125;mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> $!&#123;tableInfo.savePackageName&#125;.pojo.$!tableInfo.name;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * $!&#123;tableInfo.comment&#125;($!&#123;tableInfo.name&#125;)è¡¨æ•°æ®åº“è®¿é—®å±‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> $!author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> $!time.currTime()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">$</span>!&#123;tableName&#125; <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;$!tableInfo.name&gt; &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="servicejavavm"><a class="markdownIt-Anchor" href="#servicejavavm"></a> service.java.vm</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#set($author = <span class="string">&quot;SerMs&quot;</span>)</span><br><span class="line">#set($tableName = $tool.append($tableInfo.name, <span class="string">&quot;Service&quot;</span>))</span><br><span class="line"></span><br><span class="line">$!callback.setFileName($tool.append($tableName, <span class="string">&quot;.java&quot;</span>))</span><br><span class="line">$!callback.setSavePath($tool.append($tableInfo.savePath, <span class="string">&quot;/service&quot;</span>))</span><br><span class="line"></span><br><span class="line">#<span class="keyword">if</span>(!$tableInfo.pkColumn.isEmpty())</span><br><span class="line">    #set($pk = $tableInfo.pkColumn.get(<span class="number">0</span>))</span><br><span class="line">#end</span><br><span class="line"></span><br><span class="line">#<span class="keyword">if</span>($tableInfo.savePackageName)<span class="keyword">package</span> $!&#123;tableInfo.savePackageName&#125;.#&#123;end&#125;service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> $!&#123;tableInfo.savePackageName&#125;.pojo.$!&#123;tableInfo.name&#125;;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.service.IService;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * $!&#123;tableInfo.comment&#125;($!&#123;tableInfo.name&#125;)è¡¨æœåŠ¡æ¥å£</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> $!author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> $!time.currTime()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">$</span>!&#123;tableName&#125; <span class="keyword">extends</span> <span class="title class_">IService</span>&lt;$!tableInfo.name&gt; &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="controllerjavavm"><a class="markdownIt-Anchor" href="#controllerjavavm"></a> controller.java.vm</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">#set($author = <span class="string">&quot;SerMs&quot;</span>)</span><br><span class="line">#set($tableName = $tool.append($tableInfo.name, <span class="string">&quot;Controller&quot;</span>))</span><br><span class="line"></span><br><span class="line">$!callback.setFileName($tool.append($tableName, <span class="string">&quot;.java&quot;</span>))</span><br><span class="line">$!callback.setSavePath($tool.append($tableInfo.savePath, <span class="string">&quot;/controller&quot;</span>))</span><br><span class="line"></span><br><span class="line">#<span class="keyword">if</span>(!$tableInfo.pkColumn.isEmpty())</span><br><span class="line">    #set($pk = $tableInfo.pkColumn.get(<span class="number">0</span>))</span><br><span class="line">#end</span><br><span class="line"></span><br><span class="line">#<span class="keyword">if</span>($tableInfo.savePackageName)<span class="keyword">package</span> $!&#123;tableInfo.savePackageName&#125;.#&#123;end&#125;controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;</span><br><span class="line"><span class="keyword">import</span> $!&#123;tableInfo.savePackageName&#125;.pojo.$!&#123;tableInfo.name&#125;;</span><br><span class="line"><span class="keyword">import</span> $!&#123;tableInfo.savePackageName&#125;.service.$!&#123;tableInfo.name&#125;Service;</span><br><span class="line"><span class="keyword">import</span> $!&#123;tableInfo.savePackageName&#125;.util.R;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * $!&#123;tableInfo.comment&#125;($!&#123;tableInfo.name&#125;)è¡¨æ§åˆ¶å±‚</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> $!author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> $!time.currTime()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;$!tool.firstLowerCase($tableInfo.name)&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">$</span>!&#123;tableName&#125; &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æœåŠ¡å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> $!&#123;tableInfo.name&#125;Service $!tool.firstLowerCase($tableInfo.name)Service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†é¡µæŸ¥è¯¢æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@GetMapping</span></span><br><span class="line"><span class="keyword">public</span> R <span class="title function_">page</span><span class="params">(<span class="meta">@RequestParam</span> <span class="type">int</span> current,<span class="meta">@RequestParam</span> <span class="type">int</span> size)</span>&#123;</span><br><span class="line">        Page&lt;$!&#123;tableInfo.name&#125;&gt; page=<span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(current,size);</span><br><span class="line">        <span class="keyword">return</span> R.ok().setData(<span class="built_in">this</span>.$!&#123;tool.firstLowerCase($tableInfo.name)&#125;Service.page(page));&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡ä¸»é”®æŸ¥è¯¢å•æ¡æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R <span class="title function_">selectOne</span><span class="params">(<span class="meta">@PathVariable</span> Serializable id)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.ok().setData(<span class="built_in">this</span>.$!&#123;tool.firstLowerCase($tableInfo.name)&#125;Service.getById(id));&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ–°å¢æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="keyword">public</span> R <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> $!&#123;tableInfo.name&#125; $!tool.firstLowerCase($tableInfo.name)</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> R.ok().setData(<span class="built_in">this</span>.$!&#123;tool.firstLowerCase($tableInfo.name)&#125;Service.save($!tool.firstLowerCase($tableInfo.name)));&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¿®æ”¹æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="keyword">public</span> R <span class="title function_">updateById</span><span class="params">(<span class="meta">@RequestBody</span> $!&#123;tableInfo.name&#125; $!tool.firstLowerCase($tableInfo.name)</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> R.ok().setData(<span class="built_in">this</span>.$!&#123;tool.firstLowerCase($tableInfo.name)&#125;Service.updateById($!tool.firstLowerCase($tableInfo.name)));&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å•æ¡/æ‰¹é‡åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@DeleteMapping</span></span><br><span class="line"><span class="keyword">public</span> R <span class="title function_">delete</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;Long&gt; id)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> R.ok().setData(<span class="built_in">this</span>.$!&#123;tool.firstLowerCase($tableInfo.name)&#125;Service.removeByIds(id));&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>r.java.vm</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$!&#123;define.vm&#125;</span><br><span class="line">#set($author = <span class="string">&quot;SerMs&quot;</span>)</span><br><span class="line"></span><br><span class="line">#save(<span class="string">&quot;/util&quot;</span>, <span class="string">&quot;R.java&quot;</span>)</span><br><span class="line"></span><br><span class="line">#setPackageSuffix(<span class="string">&quot;util&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»Ÿä¸€è¿”å›å¯¹è±¡R</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> $!author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> $!time.currTime()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">R</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="keyword">private</span> Object data;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®æ•°æ®</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> data æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> R</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">setData</span><span class="params">(Object data)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = data;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œæˆåŠŸ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> R</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">ok</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.code = <span class="number">200</span>;</span><br><span class="line">        r.message = <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œå¤±è´¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> R</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">fail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.code = <span class="number">205</span>;</span><br><span class="line">        r.message = <span class="string">&quot;fail&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç³»ç»Ÿå¼‚å¸¸</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">exp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.code = <span class="number">500</span>;</span><br><span class="line">        r.message = <span class="string">&quot;exception&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="interceptor351javavm"><a class="markdownIt-Anchor" href="#interceptor351javavm"></a> interceptor3.5.1.java.vm</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$!&#123;define.vm&#125;</span><br><span class="line">#set($author = <span class="string">&quot;SerMs&quot;</span>)</span><br><span class="line"></span><br><span class="line">#save(<span class="string">&quot;/interceptor&quot;</span>, <span class="string">&quot;MybatisPlusPageInterceptor.java&quot;</span>)</span><br><span class="line"></span><br><span class="line">#setPackageSuffix(<span class="string">&quot;interceptor&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * MyBatis-Plus 3.5.1 æ‹¦æˆªå™¨</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> $!author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> $!time.currTime()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusPageInterceptor</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°ç‰ˆåˆ†é¡µæ’ä»¶è®¾ç½®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">getPaginationInnerInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>());</span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="handler351javavm"><a class="markdownIt-Anchor" href="#handler351javavm"></a> handler3.5.1.java.vm</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$!&#123;define.vm&#125;</span><br><span class="line">#set($author = <span class="string">&quot;SerMs&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#save(<span class="string">&quot;/handler&quot;</span>,<span class="string">&quot;MyMetaObjectHandler.java&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#setPackageSuffix(<span class="string">&quot;handler&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.handlers.MetaObjectHandler;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.reflection.MetaObject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * MyBatis-Plus 3.5.1 å¤„ç†å™¨</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> $!author</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> $!time.currTime()</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title class_">MetaObjectHandler</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ’å…¥æ—¶çš„å¡«å……ç­–ç•¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> metaObject</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.setFieldValByName(<span class="string">&quot;createTime&quot;</span> , <span class="keyword">new</span> <span class="title class_">Date</span>(), metaObject);</span><br><span class="line">        <span class="built_in">this</span>.setFieldValByName(<span class="string">&quot;updateTime&quot;</span> , <span class="keyword">new</span> <span class="title class_">Date</span>(), metaObject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ›´æ–°æ—¶çš„å¡«å……ç­–ç•¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> metaObject</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.setFieldValByName(<span class="string">&quot;updateTime&quot;</span> , <span class="keyword">new</span> <span class="title class_">Date</span>(), metaObject);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>application.yaml.vm</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">##è®¾ç½®ä¿å­˜åç§°ä¸ä¿å­˜ä½ç½®</span><br><span class="line">$!callback.setFileName(<span class="string">&quot;application.yaml&quot;</span>)</span><br><span class="line">$!callback.setSavePath($tool.append($modulePath, <span class="string">&quot;/src/main/resources&quot;</span>))</span><br><span class="line">spring:</span><br><span class="line">  datasource:</span><br><span class="line">    url: jdbc:mysql:<span class="comment">//localhost:3306/XXXX?allowPublicKeyRetrieval=true&amp;serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class="line">    username: root</span><br><span class="line">    password: <span class="number">123456</span></span><br><span class="line">    type: com.alibaba.druid.pool.DruidDataSource</span><br><span class="line">    druid:</span><br><span class="line">      # ä¸‹é¢ä¸ºè¿æ¥æ± çš„è¡¥å……è®¾ç½®ï¼Œåº”ç”¨åˆ°ä¸Šé¢æ‰€æœ‰æ•°æ®æºä¸­</span><br><span class="line">      # åˆå§‹åŒ–å¤§å°ï¼Œæœ€å°ï¼Œæœ€å¤§</span><br><span class="line">      initial-size: <span class="number">5</span></span><br><span class="line">      min-idle: <span class="number">5</span></span><br><span class="line">      max-active: <span class="number">20</span></span><br><span class="line">      # é…ç½®è·å–è¿æ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´</span><br><span class="line">      max-wait: <span class="number">60000</span></span><br><span class="line">      # é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿æ¥ï¼Œå•ä½æ˜¯æ¯«ç§’</span><br><span class="line">      time-between-eviction-runs-millis: <span class="number">60000</span></span><br><span class="line">      # é…ç½®ä¸€ä¸ªè¿æ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’</span><br><span class="line">      min-evictable-idle-time-millis: <span class="number">300000</span></span><br><span class="line"></span><br><span class="line">#é…ç½®æ—¥å¿—ï¼Œæˆ‘ä»¬æ‰€ç”¨çš„sqlç°åœ¨æ˜¯ä¸å¯è§çš„ï¼Œæˆ‘ä»¬å¸Œæœ›çŸ¥é“ä»–æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»è¦æŸ¥çœ‹æ—¥å¿—ï¼</span><br><span class="line">mybatis-plus:</span><br><span class="line">  global-config:</span><br><span class="line">    db-config:</span><br><span class="line">      logic-delete-field: deleted # å…¨å±€é€»è¾‘åˆ é™¤çš„å®ä½“å­—æ®µå(since <span class="number">3.3</span><span class="number">.0</span>,é…ç½®åå¯ä»¥å¿½ç•¥ä¸é…ç½®æ­¥éª¤<span class="number">2</span>)</span><br><span class="line">      logic-delete-value: <span class="number">1</span> # é€»è¾‘å·²åˆ é™¤å€¼(é»˜è®¤ä¸º <span class="number">1</span>)</span><br><span class="line">      logic-not-delete-value: <span class="number">0</span> # é€»è¾‘æœªåˆ é™¤å€¼(é»˜è®¤ä¸º <span class="number">0</span>)</span><br><span class="line">  configuration:</span><br><span class="line">    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl</span><br></pre></td></tr></table></figure><p>æ·»åŠ å®Œåç‚¹å‡»åº”ç”¨</p><h3 id="ä¸€é”®ç”Ÿæˆ"><a class="markdownIt-Anchor" href="#ä¸€é”®ç”Ÿæˆ"></a> ä¸€é”®ç”Ÿæˆ</h3><p>é€‰æ‹©<code>æ•°æ®åº“è¡¨</code>å³å‡»é€‰æ‹©<code>EasyCode</code>é€‰æ‹©ç¬¬ä¸€ä¸ª</p><p>æ³¨æ„çœ‹,ç›®å‰å¯ä»¥çœ‹åˆ°æˆ‘é¡¹ç›®å·¦å³ç›®å½•é‡Œé¢å¹¶æ²¡æœ‰ä»€ä¹ˆä»£ç ~</p><p><img src="https://unpkg.com/serms-assets@1.0.23/imgs/image-20220504093031339.png" alt="" /></p><p>é€‰æ‹©é¡¹ç›®å·¥ç¨‹æ¨¡å—,é€‰æ‹©æ¨¡å—å¯¹åº”çš„åŒ…,é€‰æ‹©ä½ åˆ›å»ºå¥½çš„ç»„å</p><p>é€‰æ‹©å•è¡¨,é€‰æ‹©å•è¡¨,ç¬¬ä¸€æ¬¡ä½¿ç”¨æ¨¡æ¿ä¸è¦å¤šè¡¨!!!</p><p>å•è¡¨æ„å»ºå…¨é€‰æ‰€æœ‰é…ç½®,ä¾§é¢æŒ‰ç…§æˆ‘é€‰çš„æ¥é€‰å°±è¡Œ,ä¸‹é¢æˆ‘ä¼šè®²è§£,å› ä¸ºè¿™é‡Œæœ‰ Bug</p><p><img src="https://unpkg.com/serms-assets@1.0.23/imgs/image-20220504093152583.png" alt="" /></p><p>ç‚¹å‡»ç¡®å®šä¹‹åå¯ä»¥çœ‹åˆ°æˆ‘å·¦ä¾§é¡¹ç›®ç›®å½•ä»£ç å·²ç»ç”Ÿæˆå®Œæ¯•äº†~</p><p>æ¥ä¸‹æ¥å¦‚æœä½ æƒ³å¤šè¡¨åˆ›å»ºå°±å¯ä»¥è¿™æ ·é€‰æ‹©,ä¸éœ€è¦åœ¨é€‰æ‹©<span class='p blue'>applicationYAML&interceptorç±»&Rç±»&handleré…ç½®ç±»</span>äº†</p><p><img src="https://unpkg.com/serms-assets@1.0.23/imgs/image-20220504094428113.png" alt="" /></p><h3 id="é…ç½®"><a class="markdownIt-Anchor" href="#é…ç½®"></a> é…ç½®</h3><p>å› ä¸ºæœ¬äººæŠ€æœ¯æœ‰é™,æœ‰äº›åœ°æ–¹è¿˜æ˜¯ä¼šæœ‰ä¸€ç‚¹å° Bug</p><p>å¦‚ä¸‹å›¾æ‰€ç¤º:åœ¨ç”Ÿæˆçš„æ–‡ä»¶é‡Œé¢ä¼šå‘ç°æœ‰ handler å¤„ç†ç±» interceptor æ‹¦æˆªå™¨ util å·¥å…·ç±»éƒ½ç›¸åº”çš„çˆ†çº¢äº†~</p><p><img src="https://unpkg.com/serms-assets@1.0.23/imgs/image-20220504094957874.png" alt="" /></p><p>ä¸è¦æ…Œ,è¿™é‡Œçš„åŸå› å¾ˆç®€å•,è§£å†³æ–¹æ¡ˆä¹Ÿå°±æ›´å¾ˆç®€å•äº†</p><p>æŠŠæ–‡ä»¶åä¿®æ”¹æ›´ class ç±»åä¸€ç›´å°±æ¬§å…‹äº†</p><p>ç„¶åä¿®æ”¹ applicationYml æ–‡ä»¶,æŠŠä½ æ•°æ®åº“åä¿®æ”¹ä¸€ä¸‹,è´¦å·å¯†ç ä¿®æ”¹ä¸€ä¸‹,å°±å¯ä»¥è·‘äº†~</p><p><img src="https://unpkg.com/serms-assets@1.0.23/imgs/image-20220504095443091.png" alt="" /></p><h3 id="å»-man-è®¿é—®ä¸€ä¸‹~"><a class="markdownIt-Anchor" href="#å»-man-è®¿é—®ä¸€ä¸‹~"></a> å» man è®¿é—®ä¸€ä¸‹~</h3><p>åˆ†é¡µæŸ¥è¯¢ä¸€ä¸‹ 200OK æ²¡é—®é¢˜,</p><p><img src="https://unpkg.com/serms-assets@1.0.23/imgs/image-20220504095959606.png" alt="" /></p><p>å…¶ä½™çš„è‡ªå·±æµ‹è¯•,è¿™é‡Œå°±ä¸å¤šåšé˜è¿°äº†~</p><div class="tip warning"><p>æ³¨æ„:Bug!!!</p><p>åœ¨é¡¹ç›®ç¬¬ä¸€æ¬¡ä½¿ç”¨æ¨¡æ¿çš„æ—¶å€™å»ºè®®å…ˆå•è¡¨ç”Ÿæˆ,å› ä¸º<span class='p blue'>applicationYAML&amp;interceptorç±»&amp;Rç±»&amp;handleré…ç½®ç±»</span>éƒ½åªéœ€ç”Ÿæˆä¸€æ¬¡,å¦‚æœä½ å¤šè¡¨ä¸€æ¬¡æ€§å…¨éƒ¨å…¨é€‰,å°±ä¼šåˆ›å»ºå¤šä¸ª<span class='p blue'>applicationYAML&amp;interceptorç±»&amp;Rç±»&amp;handleré…ç½®ç±»</span>,åˆ°æ—¶å€™å‡ºäº‹å°±åˆ«è¯´æˆ‘æ²¡æé†’~</p><p>å¦‚æœ‰æ›´å¥½çš„å»ºè®®,å¯ä»¥åœ¨ä¸‹é¢ç•™è¨€åé¦ˆ~</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;tip home&quot;&gt;&lt;p&gt;å†™åœ¨å‰é¢çš„è¯:&lt;br /&gt;
æœ¬è„šæœ¬æ¨¡æ¿ä¸æ”¶å–ä»»ä½•è´¹ç”¨,åˆè¡·å°±æ˜¯ä¸æƒ³é‡å¤é€ æ¢¯å­,å¦‚æœå¯¹å„ä½æœ‰å¸®åŠ©çš„è¯,å¯ä»¥ç»™ä½œè€…æ‰“ä¸Šä¸€æ¯å¥¶èŒ¶é’±,ç›®å‰æ’ä»¶è¿˜æ˜¯æœ‰ç‚¹å° Bug,ä½†æ˜¯ä¸å½±å“ä½¿ç”¨,ç°åœ¨å„å¹³å°ç›¸å…³çš„ä»£ç ç”Ÿæˆæ’ä»¶ä¹Ÿæ¯”è¾ƒæˆç†Ÿäº†,å¹¶ä¸”å¸¦æœ‰ç‹¬ç‰¹çš„ç‰¹è‰²</summary>
      
    
    
    
    <category term="Spring" scheme="https://serms.top/categories/Spring/"/>
    
    <category term="æ’ä»¶" scheme="https://serms.top/categories/Spring/%E6%8F%92%E4%BB%B6/"/>
    
    <category term="EasyCodeä»£ç æ¨¡æ¿ç”Ÿæˆ" scheme="https://serms.top/categories/Spring/EasyCode%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF%E7%94%9F%E6%88%90/"/>
    
    
    <category term="SpringBootä»£ç æ¨¡æ¿" scheme="https://serms.top/tags/SpringBoot%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF/"/>
    
    <category term="MybatisPlusä»£ç æ¨¡æ¿" scheme="https://serms.top/tags/MybatisPlus%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF/"/>
    
  </entry>
  
  <entry>
    <title>å›æº¯ç»å…¸é—®é¢˜</title>
    <link href="https://serms.top/posts/bcbdb63a/"/>
    <id>https://serms.top/posts/bcbdb63a/</id>
    <published>2022-04-27T13:11:43.000Z</published>
    <updated>2022-07-19T14:06:34.814Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é€’å½’çš„æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#é€’å½’çš„æ¦‚å¿µ"></a> é€’å½’çš„æ¦‚å¿µ</h2><p>ç®€å•çš„è¯´ï¼šé€’å½’å°±æ˜¯æ–¹æ³•<span class='p red'>è°ƒç”¨è‡ªå·±</span>,æ¯æ¬¡è°ƒç”¨<span class='p red'>ä¼ å…¥ä¸åŒçš„å˜é‡</span>ã€‚é€’å½’æœ‰åŠ©äºç¼–ç¨‹è€…è§£å†³å¤æ‚çš„é—®é¢˜ï¼ŒåŒæ—¶å¯ä»¥è®©ä»£ç å˜å¾—ç®€æ´</p><hr /><h2 id="ä¸¤ä¸ªæ¡ˆåˆ—è¯´æ˜é€’å½’çš„è°ƒç”¨æœºåˆ¶"><a class="markdownIt-Anchor" href="#ä¸¤ä¸ªæ¡ˆåˆ—è¯´æ˜é€’å½’çš„è°ƒç”¨æœºåˆ¶"></a> ä¸¤ä¸ªæ¡ˆåˆ—è¯´æ˜é€’å½’çš„è°ƒç”¨æœºåˆ¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test(<span class="number">4</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n&gt;<span class="number">2</span>)&#123;</span><br><span class="line">            test(n-<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="comment">//else&#123;åŠ ä¸Šelseè¾“å‡ºç»“æœåˆæ˜¯æ€ä¹ˆæ ·å‘¢ï¼</span></span><br><span class="line">        System.out.println(<span class="string">&quot;n=&quot;</span>+n);</span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å»ºè®®å…ˆè‡ªå·±åˆ†æä¸€ä¸‹è¿™ä¸ªè¿è¡Œç»“æœæ˜¯å•¥ï¼</p><p>ç„¶ååœ¨ideaé‡Œé¢ç¼–è¯‘è¿è¡Œçœ‹ä¸€ä¸‹ç»“æœï¼Œæ˜¯ä¸æ˜¯å’Œä½ æƒ³çš„ä¸€æ ·ã€‚</p><p>é€’å½’è°ƒç”¨çš„è§„åˆ™ï¼š</p><p>1.å½“ç¨‹åºæ‰§è¡Œåˆ°ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå°±ä¼šå¼€è¾Ÿä¸€ä¸ªç‹¬ç«‹çš„ç©ºé—´(æ ˆ )</p><p>2.å°±åƒä¸Šé¢çš„æ¡ˆä¾‹ï¼Œå½“æ‰§è¡Œtest(4)æ—¶ï¼Œå› ä¸ºn&gt;2,æ‰€ä»¥å¼€å§‹æ‰§è¡Œtest(3)ï¼Œæ³¨æ„æ­¤æ—¶test(4)æ˜¯æœªæ‰§è¡Œå®Œçš„ï¼Œç›´åˆ°test(2),test(3)å®Œæ¯•å‡ºæ ˆä¹‹åï¼Œæœ€åæ‰æ˜¯test(4)</p><p>3.æ¯ä¸ªç©ºé—´çš„æ•°æ®ï¼ˆå±€éƒ¨å˜é‡ï¼Œæ˜¯ç‹¬ç«‹çš„ï¼‰</p><p>å†æ¥ä¸€ä¸ªä¾‹å­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é˜¶ä¹˜é—®é¢˜</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo2</span>&#123;</span><br><span class="line">    puclic <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        System.out.println(fun(<span class="number">4</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n*fun(n-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr /><h2 id="é€’å½’éœ€è¦éµå®ˆçš„é‡è¦è§„åˆ™"><a class="markdownIt-Anchor" href="#é€’å½’éœ€è¦éµå®ˆçš„é‡è¦è§„åˆ™"></a> é€’å½’éœ€è¦éµå®ˆçš„é‡è¦è§„åˆ™</h2><p>1ï¼‰æ‰§è¡Œä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå°±åˆ›å»ºä¸€ä¸ªæ–°çš„å—ä¿æŠ¤çš„ç‹¬ç«‹ç©ºé—´ï¼ˆæ ˆç©ºé—´ï¼‰</p><p>2ï¼‰æ–¹æ³•çš„å±€éƒ¨å˜é‡æ—¶ç‹¬ç«‹çš„ï¼Œä¸ä¼šç›¸äº’å½±å“</p><p>3ï¼‰å¦‚æœæ–¹æ³•ä¸­åº”ç”¨çš„æ˜¯å¼•ç”¨ç±»å‹çš„å˜é‡ï¼ˆæ¯”å¦‚æ•°ç»„ï¼‰ï¼Œå°±ä¼šå…±äº«è¯¥å¼•ç”¨ç±»å‹çš„æ•°æ®</p><p>3ï¼‰é€’å½’å¿…é¡»å‘é€€å‡ºé€’å½’çš„æ¡ä»¶é€¼è¿‘ï¼Œå¦åˆ™å°±æ˜¯æ— é™é€’å½’ï¼Œæ­»é¾Ÿï¼</p><p>4ï¼‰å½“ä¸€ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œæˆ–è€…é‡åˆ°returnï¼Œå°±ä¼šè¿”å›ï¼Œéµå®ˆè°è°ƒç”¨ï¼Œå°±å°†ç»“æœè¿”å›ç»™è°ï¼ŒåŒæ—¶å½“æ–¹æ³•æ‰§è¡Œå®Œæ¯•æˆ–è€…è¿”å›æ—¶ï¼Œè¯¥æ–¹æ³•ä¹Ÿå°±æ‰§è¡Œå®Œæ¯•ã€‚</p><h2 id="ç»å…¸è¿·å®«é—®é¢˜"><a class="markdownIt-Anchor" href="#ç»å…¸è¿·å®«é—®é¢˜"></a> ç»å…¸è¿·å®«é—®é¢˜</h2><span class='p center small'>é—®é¢˜ï¼šå°çƒä»åæ ‡ä½ç½®ä¸ºï¼ˆ1ï¼Œ1ï¼‰çš„ç©ºç™½ä½ç½®ç§»åŠ¨åˆ°ï¼ˆ6ï¼Œ5ï¼‰çš„æœ€çŸ­è·¯å¾„æ€ä¹ˆç”¨å›æº¯çš„æ€æƒ³æ±‚å‡ºæ¥ï¼ˆæ³¨ï¼šå·¦ä¸Šè§’çš„åæ ‡æ˜¯(0ï¼Œ0))</span><p><img src="https://img-blog.csdnimg.cn/20210513162036833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjMyNDE0,size_16,color_FFFFFF,t_70" alt="" /></p><p>æç¤ºï¼š</p><ul><li>å°çƒå¾—åˆ°çš„è·¯å¾„ï¼Œå’Œç¨‹åºå‘˜è®¾ç½®çš„æ‰¾è·¯ç­–ç•¥æœ‰å…³å³:æ‰¾è·¯çš„ä¸Šä¸‹å·¦å³çš„é¡ºåºç›¸å…³</li><li>åœ¨å¾—åˆ°å°çƒè·¯å¾„æ—¶ï¼Œå¯ä»¥å…ˆä½¿ç”¨(ä¸‹å³ä¸Šå·¦)ï¼Œå†æ”¹æˆ(ä¸Šå³ä¸‹å·¦)ï¼Œçœ‹çœ‹è·¯å¾„æ˜¯ä¸æ˜¯æœ‰å˜åŒ–</li><li>æµ‹è¯•å›æ½®ç°è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/27 19:52</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MiGong</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//å…ˆåˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„,æ¨¡æ‹Ÿè¿·å®«</span></span><br><span class="line">        <span class="comment">//åœ°å›¾</span></span><br><span class="line">        <span class="type">int</span>[][] map = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">8</span>][<span class="number">7</span>];</span><br><span class="line">        <span class="comment">//ä½¿ç”¨1è¡¨ç¤ºå¢™</span></span><br><span class="line">        <span class="comment">//ä¸Šä¸‹å…¨éƒ¨ç½®ä¸º1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line">            map[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line">            map[<span class="number">7</span>][i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·¦å³å…¨éƒ¨ç½®ä¸º1</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">            map[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">            map[i][<span class="number">6</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è®¾ç½®æŒ¡æ¿,1è¡¨ç¤º</span></span><br><span class="line">        map[<span class="number">3</span>][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        map[<span class="number">3</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">        map[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line">        map[<span class="number">2</span>][<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¾“å‡ºåœ°å›¾</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">7</span>; j++) &#123;</span><br><span class="line">                System.out.print(map[i][j] + <span class="string">&quot;  &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä½¿ç”¨é€’å½’å›æº¯ç»™å°çƒæ‰¾è·¯</span></span><br><span class="line">        setWay(map, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//è¾“å‡ºæ–°çš„åœ°å›¾,å°çƒèµ°è¿‡,å¹¶æ ‡è¯†è¿‡çš„é€’å½’</span></span><br><span class="line">        System.out.println(<span class="string">&quot;è¾“å‡ºæ–°çš„åœ°å›¾,å°çƒèµ°è¿‡,å¹¶æ ‡è¯†è¿‡çš„é€’å½’&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">7</span>; j++) &#123;</span><br><span class="line">                System.out.print(map[i][j] + <span class="string">&quot;  &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨é€’å½’å›æº¯æ¥ç»™å°çƒæ‰¾è·¯</span></span><br><span class="line">    <span class="comment">//1. mapè¡¨ç¤ºåœ°å›¾</span></span><br><span class="line">    <span class="comment">//2. i,jè¡¨ç¤ºä»åœ°å›¾çš„å“ªä¸ªä½ç½®å¼€å§‹å‡ºå‘(1,1)</span></span><br><span class="line">    <span class="comment">//3. å¦‚æœå°çƒèƒ½åˆ°map[6][5]ä½ç½®,åˆ™è¯´æ˜é€šè·¯æ‰¾åˆ°</span></span><br><span class="line">    <span class="comment">//4. çº¦å®š,å½“map[i][j] ä¸º0è¡¨ç¤ºè¯¥ç‚¹æ²¡æœ‰èµ°è¿‡,å½“ä¸º1è¡¨ç¤ºå¢™,2è¡¨ç¤ºé€šè·¯å¯ä»¥èµ°,3è¡¨ç¤ºè¯¥ç‚¹èµ°è¿‡ä½†æ˜¯ä¸é€š</span></span><br><span class="line">    <span class="comment">//5. åœ¨èµ°è¿·å®«æ—¶,éœ€è¦ç¡®å®šä¸€ä¸ªç­–ç•¥(æ–¹æ³•) ä¸‹-&gt;å³-&gt;ä¸Š-&gt;å·¦,å¦‚æœè¯¥ç‚¹èµ°ä¸é€š,åœ¨å›æº¯</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯´æ˜</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> map è¡¨ç¤ºåœ°å›¾</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> i   ä»å“ªä¸ªä½ç½®å¼€å§‹æ‰¾è·¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> j</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¦‚æœæ‰¾åˆ°é€šè·¯, å°±è¿”å›treu, å¦åˆ™è¿”å›false</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">setWay</span><span class="params">(<span class="type">int</span>[][] map, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (map[<span class="number">6</span>][<span class="number">5</span>] == <span class="number">2</span>) &#123;    <span class="comment">//é€šè·¯å·²æ‰¾åˆ°æ¬§å…‹</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (map[i][j] == <span class="number">0</span>) &#123;    <span class="comment">//å¦‚æœå½“å‰è¿™ä¸ªç‚¹è¿˜æ²¡æœ‰èµ°è¿‡</span></span><br><span class="line">                <span class="comment">//æŒ‰ç…§ç­–ç•¥  ä¸‹-&gt;å³-&gt;ä¸Š-&gt;å·¦,å¦‚æœè¯¥ç‚¹èµ°ä¸é€š,åœ¨å›æº¯</span></span><br><span class="line">                map[i][j] = <span class="number">2</span>;  <span class="comment">//å‡å®šè¯¥ç‚¹æ—¶å¯ä»¥èµ°é€š</span></span><br><span class="line">                <span class="keyword">if</span> (setWay(map, i + <span class="number">1</span>, j)) &#123;  <span class="comment">//å‘ä¸‹èµ°</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (setWay(map, i, j + <span class="number">1</span>)) &#123;    <span class="comment">//å‘å³èµ°</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (setWay(map, i - <span class="number">1</span>, j)) &#123;   <span class="comment">//å‘ä¸Šèµ°</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (setWay(map, i, j - <span class="number">1</span>)) &#123;  <span class="comment">//å‘å·¦èµ°</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//è¯´æ˜è¯¥ç‚¹æ˜¯èµ°ä¸é€š,æ˜¯æ­»è·¯</span></span><br><span class="line">                    map[i][j] = <span class="number">3</span>;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; <span class="comment">//å¦‚æœmap[i][j] !=0,å¯èƒ½æ˜¯1,2,3</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;é€’å½’çš„æ¦‚å¿µ&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é€’å½’çš„æ¦‚å¿µ&quot;&gt;&lt;/a&gt; é€’å½’çš„æ¦‚å¿µ&lt;/h2&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼šé€’å½’å°±æ˜¯æ–¹æ³•&lt;span class=&#39;p red&#39;&gt;è°ƒç”¨è‡ªå·±&lt;/span&gt;,æ¯æ¬¡è°ƒç”¨&lt;span class=&#39;p r</summary>
      
    
    
    
    <category term="æ•°æ®ç»“æ„" scheme="https://serms.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="é€’å½’" scheme="https://serms.top/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E9%80%92%E5%BD%92/"/>
    
    <category term="ç®—æ³•" scheme="https://serms.top/categories/%E7%AE%97%E6%B3%95/"/>
    
    <category term="å›æº¯" scheme="https://serms.top/categories/%E7%AE%97%E6%B3%95/%E5%9B%9E%E6%BA%AF/"/>
    
    <category term="ç®—æ³•é¢è¯•é¢˜" scheme="https://serms.top/categories/%E7%AE%97%E6%B3%95%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
    
    <category term="æ•°æ®ç»“æ„" scheme="https://serms.top/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="ç®—æ³•" scheme="https://serms.top/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>å“”å“”å›¾ç‰‡é—®é¢˜</title>
    <link href="https://serms.top/posts/f605ecd9/"/>
    <id>https://serms.top/posts/f605ecd9/</id>
    <published>2022-04-19T06:17:11.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<div class="tip home"><p>æœ¬æ–‡æ ¹æ®æ´ªå“¥å“”å“”æ•™ç¨‹äºŒæ”¹~è§£å†³å“”å“”å‘é€å›¾ç‰‡é—®é¢˜</p></div><table><thead><tr><th style="text-align:center">ç›¸å…³æ•™ç¨‹</th><th style="text-align:center">æ•™ç¨‹åœ°å€</th></tr></thead><tbody><tr><td style="text-align:center">æ´ªå“¥å“”å“”æ•™ç¨‹</td><td style="text-align:center"><div class="tag link"><a class="link-card" title="æ´ªå“¥å“”å“”æ•™ç¨‹" href="https://blog.zhheo.com/p/a6947667.html"><div class="left"><img src="https://unpkg.com/akilar-friends@latest/avatar/blog.zhheo.com.jpg"/></div><div class="right"><p class="text">æ´ªå“¥å“”å“”æ•™ç¨‹</p><p class="url">https://blog.zhheo.com/p/a6947667.html</p></div></a></div></td></tr><tr><td style="text-align:center">ã€Œå“”å“”ç‚¹å•¥ã€å¾®ä¿¡å…¬ä¼—å·</td><td style="text-align:center"><a href="https://immmmm.com/bb-by-wechat-pro/">ã€Œå“”å“”ç‚¹å•¥ã€å¾®ä¿¡å…¬ä¼—å· 2.0</a></td></tr></tbody></table><details class="folding-tag" yellow><summary> é—®é¢˜è¯´æ˜ </summary>              <div class='content'>              <p><img src="https://unpkg.com/serms-assets@1.0.21/bufferfly/image-20220419142846050.png" alt="" /></p><p><img src="https://unpkg.com/serms-assets@1.0.21/bufferfly/image-20220419142902156.png" alt="" /></p><p><img src="https://unpkg.com/serms-assets@1.0.21/bufferfly/image-20220419142911862.png" alt="" /></p><div class="tip "><p>å¯ä»¥çœ‹åˆ°é—®é¢˜å¾ˆæ˜æ˜¾</p><ol><li>å›¾ç‰‡å¤§å°</li><li>å›¾ç‰‡ä¸Šä¸‹æœ‰å¤šä½™å¾—ä»£ç (æ´ªå“¥ js å¾—é—®é¢˜)</li><li>æ— æ³•é¢„è§ˆ</li></ol></div>              </div>            </details><h2 id="ä¿®æ”¹æ­¥éª¤"><a class="markdownIt-Anchor" href="#ä¿®æ”¹æ­¥éª¤"></a> ä¿®æ”¹æ­¥éª¤</h2><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">æºç ä¿®æ”¹æ–¹å¼</button></li><li class="tab"><button type="button" data-href="#test1-2">cdné“¾æ¥æ›¿æ¢(æ¨è)</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><img src="https://unpkg.com/serms-assets@1.0.21/bufferfly/image-20220419145803095.png" alt="" /></p><p>å°†æ´ªå“¥ heobbe.js æ–‡ä»¶æ‹‰å–åˆ°åšå®¢å­˜æ”¾ js å¾—ç›®å½•ä¸‹</p><p>ä¿®æ”¹å…¶ä¸­å¾—<code>urlToLink</code>æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">urlToLink</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åˆ¤æ–­æ˜¯å¦æ˜¯å›¾ç‰‡&quot;</span>, str.<span class="title function_">indexOf</span>(<span class="string">&quot;http&quot;</span>));</span><br><span class="line">  <span class="keyword">if</span> (str.<span class="title function_">indexOf</span>(<span class="string">&quot;http&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> re_forpic =</span><br><span class="line">      <span class="regexp">/\bhttps?:[^:&lt;&gt;&quot;]*\/([^:&lt;&gt;&quot;]*)(\.(jpeg)|(png)|(jpg)|(webp))(!blogimg)?/g</span>;</span><br><span class="line">    <span class="keyword">var</span> a1;</span><br><span class="line">    <span class="keyword">var</span> a2;</span><br><span class="line">    str.<span class="title function_">replace</span>(re_forpic, <span class="keyword">function</span> (<span class="params">imgurl</span>) &#123;</span><br><span class="line">      a1 =</span><br><span class="line">        <span class="string">&quot;&lt;a href=&quot;</span> +</span><br><span class="line">        imgurl +</span><br><span class="line">        <span class="string">&quot; data-fancybox=&#x27;gallery&#x27; data-caption=&#x27;&#x27; data-thumb=&quot;</span> +</span><br><span class="line">        imgurl +</span><br><span class="line">        <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">      a2 = <span class="string">&quot;&lt;img src=&quot;</span> + imgurl + <span class="string">&quot;&gt;&lt;/img&gt;&lt;/a&gt;&quot;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    str = a1 + a2;</span><br><span class="line">    <span class="keyword">return</span> a1 + a2;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="regexp">/\bhttps?:\/\/(?!\S+(?:jpe?g|png|bmp|gif|webp|gif))\S+/g</span>;</span><br><span class="line"></span><br><span class="line">    str = str.<span class="title function_">replace</span>(re, <span class="keyword">function</span> (<span class="params">website</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="string">&quot; &lt;a href=&#x27;&quot;</span> + website + <span class="string">&quot;&#x27;rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27;&gt;â†˜é“¾æ¥â†™&lt;/a&gt;&quot;</span></span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œåå…¨æ–‡(å¯ç›´æ¥å¤åˆ¶è¿™ä¸ªç²˜è´´æ›¿æ¢ heobber.js)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if (document.querySelector(&#x27;#bber-loading&#x27;)) &#123;</span></span><br><span class="line"><span class="comment">//   var loading_pic = document.getElementById(&#x27;bber-loading&#x27;);</span></span><br><span class="line"><span class="comment">//   loading_pic.innerHTML = &#x27;&lt;span id=&quot;moments_loading&quot;&gt;&lt;i class=&quot;fa fa-spinner fa-spin&quot;&gt;&lt;/i&gt;&lt;/span&gt;&#x27;;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getbbdata</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> bbsurl = bbapiurl;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> httpRequest = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>(); <span class="comment">//ç¬¬ä¸€æ­¥ï¼šå»ºç«‹æ‰€éœ€çš„å¯¹è±¡</span></span><br><span class="line">  httpRequest.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, bbsurl, <span class="literal">true</span>); <span class="comment">//ç¬¬äºŒæ­¥ï¼šæ‰“å¼€è¿æ¥  å°†è¯·æ±‚å‚æ•°å†™åœ¨urlä¸­  ps:&quot;./Ptest.php?name=test&amp;nameone=testone&quot;</span></span><br><span class="line">  httpRequest.<span class="title function_">send</span>(); <span class="comment">//ç¬¬ä¸‰æ­¥ï¼šå‘é€è¯·æ±‚  å°†è¯·æ±‚å‚æ•°å†™åœ¨URLä¸­</span></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * è·å–æ•°æ®åçš„å¤„ç†ç¨‹åº</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  httpRequest.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (httpRequest.<span class="property">readyState</span> == <span class="number">4</span> &amp;&amp; httpRequest.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> json = httpRequest.<span class="property">responseText</span>; <span class="comment">//è·å–åˆ°jsonå­—ç¬¦ä¸²ï¼Œè¿˜éœ€è§£æ</span></span><br><span class="line">      <span class="keyword">var</span> obj = <span class="built_in">eval</span>(<span class="string">&quot;(&quot;</span> + json + <span class="string">&quot;)&quot;</span>);</span><br><span class="line">      <span class="comment">// console.log(obj.data)</span></span><br><span class="line">      <span class="keyword">const</span> bbArray = obj.<span class="property">data</span>.<span class="title function_">map</span>(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">date</span>: e.<span class="property">date</span>,</span><br><span class="line">          <span class="attr">content</span>: e.<span class="property">content</span>,</span><br><span class="line">          <span class="attr">from</span>: e.<span class="property">from</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// console.log(fundsArray)</span></span><br><span class="line">      saveToLocal.<span class="title function_">set</span>(<span class="string">&quot;zhheo-bb&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(bbArray), <span class="number">5</span> / (<span class="number">60</span> * <span class="number">24</span>));</span><br><span class="line">      <span class="keyword">const</span> data = saveToLocal.<span class="title function_">get</span>(<span class="string">&quot;zhheo-bb&quot;</span>);</span><br><span class="line">      <span class="title function_">generateBBHtml</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(data));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">generateBBHtml</span> = array =&gt; &#123;</span><br><span class="line">  <span class="keyword">var</span> $dom = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#bber&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> result = <span class="string">&#x27;&lt;section class=&quot;timeline page-1&quot;&gt;&lt;ul&gt;&lt;div class=&quot;list&quot;&gt;&#x27;</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(array);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (array.<span class="property">length</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">var</span> from_icon = <span class="string">&quot;&quot;</span>;</span><br><span class="line">      <span class="keyword">if</span> (array[i].<span class="property">from</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;iPhone&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">        from_icon = <span class="string">&#x27;&lt;i class=&quot;fas fa-mobile-alt&quot;&gt;&lt;/i&gt;&#x27;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (array[i].<span class="property">from</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;iPad&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">        from_icon = <span class="string">&#x27;&lt;i class=&quot;fas fa-tablet-alt&quot;&gt;&lt;/i&gt;&#x27;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (array[i].<span class="property">from</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;Mac&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">        from_icon = <span class="string">&#x27;&lt;i class=&quot;fas fa-laptop&quot;&gt;&lt;/i&gt;&#x27;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (array[i].<span class="property">from</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;å¾®ä¿¡&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">        from_icon = <span class="string">&#x27;&lt;i class=&quot;fab fa-weixin&quot; style=&quot;font-size: 0.6rem&quot;&gt;&lt;/i&gt;&#x27;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        from_icon = <span class="string">&#x27;&lt;i class=&quot;fas fa-tools&quot;&gt;&lt;/i&gt;&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>(array[i].<span class="property">date</span>);</span><br><span class="line">      <span class="keyword">var</span> dtime = array[i].<span class="property">date</span>,</span><br><span class="line">        data =</span><br><span class="line">          d.<span class="title function_">getFullYear</span>() +</span><br><span class="line">          <span class="string">&quot;/&quot;</span> +</span><br><span class="line">          (d.<span class="title function_">getMonth</span>() + <span class="number">1</span>) +</span><br><span class="line">          <span class="string">&quot;/&quot;</span> +</span><br><span class="line">          d.<span class="title function_">getDate</span>() +</span><br><span class="line">          <span class="string">&quot; &quot;</span> +</span><br><span class="line">          d.<span class="title function_">getHours</span>() +</span><br><span class="line">          <span class="string">&quot;:&quot;</span> +</span><br><span class="line">          d.<span class="title function_">getMinutes</span>() +</span><br><span class="line">          <span class="string">&quot;:&quot;</span> +</span><br><span class="line">          d.<span class="title function_">getSeconds</span>();</span><br><span class="line">      <span class="keyword">var</span> dataCont =</span><br><span class="line">        <span class="string">&#x27;&lt;p class=&quot;datacont&quot;&gt;&#x27;</span> + <span class="title function_">urlToLink</span>(array[i].<span class="property">content</span>) + <span class="string">&quot;&lt;/p&gt;&quot;</span>;</span><br><span class="line">      <span class="keyword">var</span> dataTime = <span class="string">&#x27;&lt;p class=&quot;datatime&quot;&gt;&#x27;</span> + data + <span class="string">&quot;&lt;/p&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">      result +=</span><br><span class="line">        <span class="string">`&lt;li class=&quot;item&quot;&gt;&lt;div&gt;`</span> +</span><br><span class="line">        dataTime +</span><br><span class="line">        dataCont +</span><br><span class="line">        <span class="string">`&lt;/p&gt;&lt;p class=&quot;datafrom&quot;&gt;&lt;small&gt;`</span> +</span><br><span class="line">        from_icon +</span><br><span class="line">        array[i].<span class="property">from</span> +</span><br><span class="line">        <span class="string">`&lt;/small&gt;&lt;/p&gt;&lt;/div&gt;&lt;/li&gt;`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    result += <span class="string">&#x27;!&#123;_p(&quot;aside.card_funds.zero&quot;)&#125;&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  result += <span class="string">&quot;&lt;/div&gt;&lt;/ul&gt;&lt;/section&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> $dom = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#bber&quot;</span>);</span><br><span class="line"></span><br><span class="line">  $dom.<span class="property">innerHTML</span> = result;</span><br><span class="line">  <span class="title class_">Lately</span>(&#123;</span><br><span class="line">    <span class="attr">target</span>: <span class="string">&quot;#bber .datatime&quot;</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">lazyLoadInstance</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">lazyLoadInstance</span>.<span class="title function_">update</span>();</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">pjax</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">pjax</span>.<span class="title function_">refresh</span>($dom);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#bber&quot;</span>)) &#123;</span><br><span class="line">  <span class="title function_">getbbdata</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">urlToLink</span>(<span class="params">str</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åˆ¤æ–­æ˜¯å¦æ˜¯å›¾ç‰‡&quot;</span>, str.<span class="title function_">indexOf</span>(<span class="string">&quot;http&quot;</span>));</span><br><span class="line">  <span class="keyword">if</span> (str.<span class="title function_">indexOf</span>(<span class="string">&quot;http&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> re_forpic =</span><br><span class="line">      <span class="regexp">/\bhttps?:[^:&lt;&gt;&quot;]*\/([^:&lt;&gt;&quot;]*)(\.(jpeg)|(png)|(jpg)|(webp))(!blogimg)?/g</span>;</span><br><span class="line">    <span class="keyword">var</span> a1;</span><br><span class="line">    <span class="keyword">var</span> a2;</span><br><span class="line">    str.<span class="title function_">replace</span>(re_forpic, <span class="keyword">function</span> (<span class="params">imgurl</span>) &#123;</span><br><span class="line">      a1 =</span><br><span class="line">        <span class="string">&quot;&lt;a href=&quot;</span> +</span><br><span class="line">        imgurl +</span><br><span class="line">        <span class="string">&quot; data-fancybox=&#x27;gallery&#x27; data-caption=&#x27;&#x27; data-thumb=&quot;</span> +</span><br><span class="line">        imgurl +</span><br><span class="line">        <span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">      a2 = <span class="string">&quot;&lt;img src=&quot;</span> + imgurl + <span class="string">&quot;&gt;&lt;/img&gt;&lt;/a&gt;&quot;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    str = a1 + a2;</span><br><span class="line">    <span class="keyword">return</span> a1 + a2;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> re = <span class="regexp">/\bhttps?:\/\/(?!\S+(?:jpe?g|png|bmp|gif|webp|gif))\S+/g</span>;</span><br><span class="line"></span><br><span class="line">    str = str.<span class="title function_">replace</span>(re, <span class="keyword">function</span> (<span class="params">website</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="string">&quot; &lt;a href=&#x27;&quot;</span> + website + <span class="string">&quot;&#x27;rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27;&gt;â†˜é“¾æ¥â†™&lt;/a&gt;&quot;</span></span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">MIT License - http://www.opensource.org/licenses/mit-license.php</span></span><br><span class="line"><span class="comment">For usage and examples, visit:</span></span><br><span class="line"><span class="comment">https://tokinx.github.io/lately/</span></span><br><span class="line"><span class="comment">Copyright (c) 2017, Biji.IO</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> $jscomp = $jscomp || &#123;&#125;;</span><br><span class="line">$jscomp.<span class="property">scope</span> = &#123;&#125;;</span><br><span class="line">$jscomp.<span class="property">arrayIteratorImpl</span> = <span class="keyword">function</span> (<span class="params">b</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> g = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> g &lt; b.<span class="property">length</span></span><br><span class="line">      ? &#123;</span><br><span class="line">          <span class="attr">done</span>: !<span class="number">1</span>,</span><br><span class="line">          <span class="attr">value</span>: b[g++],</span><br><span class="line">        &#125;</span><br><span class="line">      : &#123;</span><br><span class="line">          <span class="attr">done</span>: !<span class="number">0</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">$jscomp.<span class="property">arrayIterator</span> = <span class="keyword">function</span> (<span class="params">b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">next</span>: $jscomp.<span class="title function_">arrayIteratorImpl</span>(b),</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">$jscomp.<span class="property">makeIterator</span> = <span class="keyword">function</span> (<span class="params">b</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> g = <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> <span class="title class_">Symbol</span> &amp;&amp; <span class="title class_">Symbol</span>.<span class="property">iterator</span> &amp;&amp; b[<span class="title class_">Symbol</span>.<span class="property">iterator</span>];</span><br><span class="line">  <span class="keyword">return</span> g ? g.<span class="title function_">call</span>(b) : $jscomp.<span class="title function_">arrayIterator</span>(b);</span><br><span class="line">&#125;;</span><br><span class="line">(<span class="keyword">function</span> (<span class="params">b, g</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> p = <span class="keyword">function</span> (<span class="params">h</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> d = h.<span class="property">lang</span> || &#123;</span><br><span class="line">      <span class="attr">second</span>: <span class="string">&quot;\u79d2&quot;</span>,</span><br><span class="line">      <span class="attr">minute</span>: <span class="string">&quot;\u5206\u949f&quot;</span>,</span><br><span class="line">      <span class="attr">hour</span>: <span class="string">&quot;\u5c0f\u65f6&quot;</span>,</span><br><span class="line">      <span class="attr">day</span>: <span class="string">&quot;\u5929&quot;</span>,</span><br><span class="line">      <span class="attr">month</span>: <span class="string">&quot;\u4e2a\u6708&quot;</span>,</span><br><span class="line">      <span class="attr">year</span>: <span class="string">&quot;\u5e74&quot;</span>,</span><br><span class="line">      <span class="attr">ago</span>: <span class="string">&quot;\u524d&quot;</span>,</span><br><span class="line">      <span class="attr">error</span>: <span class="string">&quot;NaN&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    h = $jscomp.<span class="title function_">makeIterator</span>(<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(h.<span class="property">target</span> || <span class="string">&quot;.time&quot;</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> c = h.<span class="title function_">next</span>(); !c.<span class="property">done</span>; c = h.<span class="title function_">next</span>()) &#123;</span><br><span class="line">      c = c.<span class="property">value</span>;</span><br><span class="line">      <span class="keyword">var</span> a = c.<span class="property">dateTime</span>;</span><br><span class="line">      <span class="keyword">var</span> e = c.<span class="property">title</span>,</span><br><span class="line">        f = c.<span class="property">innerHTML</span>;</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        !a ||</span><br><span class="line">        <span class="built_in">isNaN</span>(</span><br><span class="line">          <span class="keyword">new</span> <span class="title class_">Date</span>(</span><br><span class="line">            (a = a.<span class="title function_">replace</span>(<span class="regexp">/(.*)[a-z](.*)\+(.*)/gi</span>, <span class="string">&quot;$1 $2&quot;</span>).<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>))</span><br><span class="line">          )</span><br><span class="line">        )</span><br><span class="line">      )</span><br><span class="line">        <span class="keyword">if</span> (e &amp;&amp; !<span class="built_in">isNaN</span>(<span class="keyword">new</span> <span class="title class_">Date</span>((e = e.<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>))))) a = e;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (f &amp;&amp; !<span class="built_in">isNaN</span>(<span class="keyword">new</span> <span class="title class_">Date</span>((f = f.<span class="title function_">replace</span>(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>))))) a = f;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">      c.<span class="property">title</span> = a;</span><br><span class="line">      a = <span class="keyword">new</span> <span class="title class_">Date</span>(a);</span><br><span class="line">      a = (<span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>() - a.<span class="title function_">getTime</span>()) / <span class="number">1e3</span>;</span><br><span class="line">      e = a / <span class="number">60</span>;</span><br><span class="line">      f = e / <span class="number">60</span>;</span><br><span class="line">      <span class="keyword">var</span> k = f / <span class="number">24</span>,</span><br><span class="line">        l = k / <span class="number">30</span>,</span><br><span class="line">        m = l / <span class="number">12</span>;</span><br><span class="line">      c.<span class="property">innerHTML</span> =</span><br><span class="line">        (<span class="number">1</span> &lt;= m</span><br><span class="line">          ? <span class="title class_">Math</span>.<span class="title function_">floor</span>(m) + d.<span class="property">year</span></span><br><span class="line">          : <span class="number">1</span> &lt;= l</span><br><span class="line">          ? <span class="title class_">Math</span>.<span class="title function_">floor</span>(l) + d.<span class="property">month</span></span><br><span class="line">          : <span class="number">1</span> &lt;= k</span><br><span class="line">          ? <span class="title class_">Math</span>.<span class="title function_">floor</span>(k) + d.<span class="property">day</span></span><br><span class="line">          : <span class="number">1</span> &lt;= f</span><br><span class="line">          ? <span class="title class_">Math</span>.<span class="title function_">floor</span>(f) + d.<span class="property">hour</span></span><br><span class="line">          : <span class="number">1</span> &lt;= e</span><br><span class="line">          ? <span class="title class_">Math</span>.<span class="title function_">floor</span>(e) + d.<span class="property">minute</span></span><br><span class="line">          : <span class="number">1</span> &lt;= a</span><br><span class="line">          ? <span class="title class_">Math</span>.<span class="title function_">floor</span>(a) + d.<span class="property">second</span></span><br><span class="line">          : d.<span class="property">error</span>) + d.<span class="property">ago</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">var</span> n = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span> || (<span class="number">0</span>, <span class="built_in">eval</span>)(<span class="string">&quot;this&quot;</span>);</span><br><span class="line">  &#125;)();</span><br><span class="line">  <span class="string">&quot;Lately&quot;</span> <span class="keyword">in</span> n || (n.<span class="property">Lately</span> = p);</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>æ¥ç€åœ¨ css æ–‡ä»¶ä¸­æ·»åŠ :</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.datacont</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p>ç›´æ¥æŠŠæ´ªå“¥å¾— heobbe.js æ›¿æ¢æˆ,ä½œè€…ç¼–å†™å¥½å¾— js é“¾æ¥:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">https</span>:<span class="comment">//unpkg.com/msstatic@1.0.1/js/heobber.js</span></span><br></pre></td></tr></table></figure><p>æ¥ç€åœ¨ css æ–‡ä»¶ä¸­æ·»åŠ :</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.datacont</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;tip home&quot;&gt;&lt;p&gt;æœ¬æ–‡æ ¹æ®æ´ªå“¥å“”å“”æ•™ç¨‹äºŒæ”¹~è§£å†³å“”å“”å‘é€å›¾ç‰‡é—®é¢˜&lt;/p&gt;
&lt;/div&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;ç›¸å…³æ•™ç¨‹&lt;/th&gt;
&lt;th style=&quot;text-ali</summary>
      
    
    
    
    <category term="bufferfly" scheme="https://serms.top/categories/bufferfly/"/>
    
    <category term="å“”å“”" scheme="https://serms.top/categories/bufferfly/%E5%93%94%E5%93%94/"/>
    
    
    <category term="bufferfly" scheme="https://serms.top/tags/bufferfly/"/>
    
    <category term="å“”å“”" scheme="https://serms.top/tags/%E5%93%94%E5%93%94/"/>
    
  </entry>
  
  <entry>
    <title>Springçš„è‡ªåŠ¨è£…é…</title>
    <link href="https://serms.top/posts/63755f3a/"/>
    <id>https://serms.top/posts/63755f3a/</id>
    <published>2022-04-08T15:58:03.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<div class="tip home"><p>å¥½å¤„ï¼šå¤§å¹…åº¦å‡å°‘ Spring é…ç½®</p><p>åå¤„ï¼šä¾èµ–ä¸èƒ½æ˜ç¡®ç®¡ç†ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ª bean åŒæ—¶ç¬¦åˆæ³¨å…¥è§„åˆ™ï¼Œæ²¡æœ‰æ¸…æ™°çš„ä¾èµ–å…³ç³»ã€‚</p><p>åœ¨è£…é…çš„æ—¶å€™ä¼šæœ‰ä¸¤ç§æ–¹å¼ï¼Œ<code>byName</code>å’Œ<code>byType</code>ä¸¤ç§ã€‚</p><p>byNameï¼šæ ¹æ®å±æ€§åè‡ªåŠ¨è£…é…ã€‚æ­¤é€‰é¡¹å°†æ£€æŸ¥å®¹å™¨å¹¶æ ¹æ®åå­—æŸ¥æ‰¾ä¸å±æ€§å®Œå…¨ä¸€è‡´çš„ beanï¼Œå¹¶å°†å…¶ä¸å±æ€§è‡ªåŠ¨è£…é…ã€‚</p><p>byTypeï¼šå¦‚æœå®¹å™¨ä¸­å­˜åœ¨ä¸€ä¸ªä¸æŒ‡å®šå±æ€§ç±»å‹ç›¸åŒçš„ beanï¼Œé‚£ä¹ˆå°†ä¸è¯¥å±æ€§è‡ªåŠ¨è£…é…ï¼›å¦‚æœå­˜åœ¨å¤šä¸ªè¯¥ç±»å‹ beanï¼Œé‚£ä¹ˆæŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶æŒ‡å‡ºä¸èƒ½ä½¿ç”¨ byType æ–¹å¼è¿›è¡Œè‡ªåŠ¨è£…é…ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›¸åŒ¹é…çš„ beanï¼Œåˆ™ä»€ä¹ˆäº‹éƒ½ä¸å‘ç”Ÿï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®</p></div><h2 id="ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…"></a> ä»€ä¹ˆæ˜¯è‡ªåŠ¨è£…é…</h2><p>è‡ªåŠ¨è£…é…ï¼š<em>ä¹Ÿå°±æ˜¯ <code>Spring</code> ä¼šåœ¨å®¹å™¨ä¸­è‡ªåŠ¨çš„æŸ¥æ‰¾ï¼Œå¹¶è‡ªåŠ¨çš„ç»™ <code>bean</code> è£…é…åŠå…¶å…³è”çš„å±æ€§</em></p><p>æ¶‰åŠåˆ°è‡ªåŠ¨è£…é… <code>bean</code> çš„<a href="https://so.csdn.net/so/search?q=%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB&amp;spm=1001.2101.3001.7020">ä¾èµ–å…³ç³»</a>æ—¶ï¼Œ<code>Spring</code> æœ‰å¤šç§å¤„ç†æ–¹å¼ã€‚<code>Spring</code> æä¾›äº† <code>4</code> ç§è‡ªåŠ¨è£…é…ç­–ç•¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AutowireCapableBeanFactory</span> <span class="keyword">extends</span> <span class="title class_">BeanFactory</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ— éœ€è‡ªåŠ¨è£…é…</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">AUTOWIRE_NO</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‰åç§°è‡ªåŠ¨è£…é… bean å±æ€§</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">AUTOWIRE_BY_NAME</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‰ç±»å‹è‡ªåŠ¨è£…é… bean å±æ€§</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">AUTOWIRE_BY_TYPE</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‰æ„é€ å™¨è‡ªåŠ¨è£…é…</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">AUTOWIRE_CONSTRUCTOR</span> <span class="operator">=</span> <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿‡æ—¶æ–¹æ³•ï¼ŒSpring3.0 ä¹‹åä¸å†æ”¯æŒ</span></span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">AUTOWIRE_AUTODETECT</span> <span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥"></a> ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥</h2><p>ä¾èµ–æ³¨å…¥ï¼šå½“ä¸€ä¸ªç±»çš„å®ä¾‹éœ€è¦å¦ä¸€ä¸ªç±»çš„å®ä¾‹ååŠ©æ—¶ï¼Œåœ¨ä¼ ç»Ÿçš„ç¨‹åºè®¾è®¡è¿‡ç¨‹ä¸­ï¼Œé€šå¸¸ç”±è°ƒç”¨è€…æ¥åˆ›å»ºè¢«è°ƒç”¨è€…çš„å®ä¾‹ã€‚ç„¶è€Œé‡‡ç”¨ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼Œåˆ›å»ºè¢«è°ƒç”¨è€…çš„å·¥ä½œä¸å†ç”±è°ƒç”¨è€…æ¥å®Œæˆï¼Œåˆ›å»ºè¢«è°ƒç”¨è€…çš„å®ä¾‹çš„å·¥ä½œç”± IOC å®¹å™¨æ¥å®Œæˆã€‚ç„¶åæ³¨å…¥è°ƒç”¨è€…ï¼Œç§°ä¸ºä¾èµ–æ³¨å…¥</p><p>æ§åˆ¶åè½¬ï¼šå½“ä¸€ä¸ªç±»çš„å®ä¾‹éœ€è¦å¦ä¸€ä¸ªç±»çš„å®ä¾‹ååŠ©æ—¶ï¼Œåœ¨ä¼ ç»Ÿçš„ç¨‹åºè®¾è®¡è¿‡ç¨‹ä¸­ï¼Œé€šå¸¸ç”±è°ƒç”¨è€…æ¥åˆ›å»ºè¢«è°ƒç”¨è€…çš„å®ä¾‹ã€‚ç„¶è€Œé‡‡ç”¨æ§åˆ¶åè½¬çš„æ–¹å¼ï¼Œåˆ›å»ºè¢«è°ƒç”¨è€…çš„å·¥ä½œä¸å†ç”±è°ƒç”¨è€…æ¥å®Œæˆï¼Œåˆ›å»ºè¢«è°ƒç”¨è€…çš„å®ä¾‹çš„å·¥ä½œç”± IOC å®¹å™¨æ¥å®Œæˆã€‚ä¹Ÿå°±æ˜¯æŠŠå¯¹è±¡çš„åˆ›å»ºï¼Œåˆå§‹åŒ–ï¼Œé”€æ¯çš„å·¥ä½œäº¤ç»™ spring ioc å®¹å™¨æ¥åšã€‚ç”± spring ioc å®¹å™¨æ¥ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</p><p>ä¾èµ–æ³¨å…¥çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šæ„é€ å™¨æ³¨å…¥å’Œ setter æ–¹æ³•æ³¨å…¥</p><h3 id="ä¾èµ–æ³¨å…¥ä¸è‡ªåŠ¨è£…é…çš„å…³ç³»"><a class="markdownIt-Anchor" href="#ä¾èµ–æ³¨å…¥ä¸è‡ªåŠ¨è£…é…çš„å…³ç³»"></a> ä¾èµ–æ³¨å…¥ä¸è‡ªåŠ¨è£…é…çš„å…³ç³»</h3><p>ä¾èµ–æ³¨å…¥çš„æœ¬è´¨å°±æ˜¯è£…é…ï¼Œè£…é…æ˜¯ä¾èµ–æ³¨å…¥çš„å…·ä½“è¡Œä¸º</p><p>åœ¨ä¼ ç»Ÿçš„ä½¿ç”¨ xml æ–‡ä»¶è£…é… bean æ˜¯ä¸€ä»¶å¾ˆç¹ççš„äº‹æƒ…ï¼Œè€Œä¸”è¿˜éœ€è¦æ‰¾åˆ°å¯¹åº”ç±»å‹çš„ bean æ‰èƒ½è£…é…ï¼Œä¸€æ—¦ bean å¾ˆå¤šï¼Œå°±ä¸å¥½ç»´æŠ¤äº†ã€‚ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œspring ä½¿ç”¨æ³¨è§£æ¥è¿›è¡Œè‡ªåŠ¨è£…é…ã€‚è‡ªåŠ¨è£…é…å°±æ˜¯å¼€å‘äººå‘˜ä¸å¿…çŸ¥é“å…·ä½“è¦è£…é…å“ªä¸ª bean çš„å¼•ç”¨ï¼Œè¿™ä¸ªè¯†åˆ«çš„å·¥ä½œä¼šç”± spring æ¥å®Œæˆã€‚ä¸è‡ªåŠ¨è£…é…é…åˆçš„è¿˜æœ‰â€œè‡ªåŠ¨æ£€æµ‹â€ï¼Œè¿™ä¸ªåŠ¨ä½œä¼šè‡ªåŠ¨è¯†åˆ«å“ªäº›ç±»éœ€è¦è¢«é…ç½®æˆ beanï¼Œè¿›è€Œæ¥è¿›è¡Œè£…é…</p><p>å› æ­¤ä¹Ÿå¯ä»¥è¿™æ ·ç†è§£ï¼šè‡ªåŠ¨è£…é…æ˜¯ä¸ºäº†å°†ä¾èµ–æ³¨å…¥â€œè‡ªåŠ¨åŒ–â€çš„ä¸€ä¸ªç®€åŒ–é…ç½®çš„æ“ä½œ</p><h2 id="spring-ä¸­è‡ªåŠ¨è£…é…çš„ç­–ç•¥"><a class="markdownIt-Anchor" href="#spring-ä¸­è‡ªåŠ¨è£…é…çš„ç­–ç•¥"></a> <code>Spring</code> ä¸­è‡ªåŠ¨è£…é…çš„ç­–ç•¥</h2><h3 id="byname"><a class="markdownIt-Anchor" href="#byname"></a> byName</h3><p>å®ƒçš„æ„æ€æ˜¯ï¼šæŠŠä¸ bean çš„å±æ€§å…·æœ‰ç›¸åŒåå­—çš„å…¶ä»– bean è‡ªåŠ¨è£…é…åˆ° bean çš„å¯¹åº”å±æ€§ä¸­</p><p>ä¾‹ï¼šåœ¨ User çš„ bean ä¸­æœ‰ä¸ªå±æ€§ Role myRoleï¼Œå†åˆ›å»ºä¸€ä¸ª Role çš„ beanï¼Œå®ƒçš„åå­—å¦‚æœå« myRoleï¼Œé‚£ä¹ˆåœ¨ User ä¸­å°±å¯ä»¥ä½¿ç”¨ byName æ¥è‡ªåŠ¨è£…é…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Role myRole;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Role</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ <code>bean</code> çš„å®šä¹‰ï¼Œå†çœ‹é…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myRole&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.viewscenes.netsupervisor.entity.Role&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1001&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç®¡ç†å‘˜&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.viewscenes.netsupervisor.entity.User&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šæ‰€è¿°ï¼Œåªè¦å±æ€§åç§°å’Œ bean çš„åç§°å¯ä»¥å¯¹åº”ï¼Œé‚£ä¹ˆåœ¨ user çš„ bean ä¸­å°±å¯ä»¥ä½¿ç”¨ byName æ¥è‡ªåŠ¨è£…é…ã€‚é‚£ä¹ˆï¼Œå¦‚æœå±æ€§åç§°å¯¹åº”ä¸ä¸Šå‘¢ï¼Ÿ</p><h3 id="bytype"><a class="markdownIt-Anchor" href="#bytype"></a> byType</h3><p>å®ƒçš„æ„æ€æ˜¯ï¼šæŠŠä¸ bean çš„å±æ€§å…·æœ‰ç›¸åŒç±»å‹çš„å…¶ä»– bean è‡ªåŠ¨è£…é…åˆ° bean çš„å¯¹åº”å±æ€§ä¸­</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.viewscenes.netsupervisor.entity.Role&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1001&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç®¡ç†å‘˜&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.viewscenes.netsupervisor.entity.User&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœä½¿ç”¨ <code>byTypeï¼ŒRole bean</code> çš„ <code>id</code> éƒ½å¯ä»¥çœå»</p><h3 id="constructor"><a class="markdownIt-Anchor" href="#constructor"></a> constructor</h3><p>å®ƒæ˜¯è¯´ï¼š<em>æŠŠä¸ <code>bean</code> çš„æ„é€ å™¨å…¥å‚å…·æœ‰ç›¸åŒç±»å‹çš„å…¶ä»– <code>bean</code> è‡ªåŠ¨è£…é…åˆ° <code>bean</code> æ„é€ å™¨çš„å¯¹åº”å…¥å‚ä¸­</em>ã€‚å€¼çš„æ³¨æ„çš„æ˜¯ï¼Œå…·æœ‰ç›¸åŒç±»å‹çš„å…¶ä»– <code>bean</code> è¿™å¥è¯è¯´æ˜å®ƒåœ¨æŸ¥æ‰¾å…¥å‚çš„æ—¶å€™ï¼Œè¿˜æ˜¯é€šè¿‡ <code>bean</code> çš„ç±»å‹æ¥ç¡®å®š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Role role;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(Role role)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.role = role;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.viewscenes.netsupervisor.entity.User&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;constructor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="autodetectä¸æ¨èä½¿ç”¨äº†"><a class="markdownIt-Anchor" href="#autodetectä¸æ¨èä½¿ç”¨äº†"></a> autodetectï¼ˆä¸æ¨èä½¿ç”¨äº†ï¼‰</h3><p>å®ƒé¦–å…ˆä¼šå°è¯•ä½¿ç”¨ <code>constructor</code> è¿›è¡Œè‡ªåŠ¨è£…é…ï¼Œå¦‚æœå¤±è´¥å†å°è¯•ä½¿ç”¨ <code>byType</code> ã€‚ä¸è¿‡ï¼Œå®ƒåœ¨ <code>Spring 3.0</code> ä¹‹åå·²ç»è¢«æ ‡è®°ä¸º <code>@Deprecated</code></p><h2 id="é»˜è®¤çš„è‡ªåŠ¨è£…é…ç­–ç•¥"><a class="markdownIt-Anchor" href="#é»˜è®¤çš„è‡ªåŠ¨è£…é…ç­–ç•¥"></a> é»˜è®¤çš„è‡ªåŠ¨è£…é…ç­–ç•¥</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œdefault-autowire å±æ€§è¢«è®¾ç½®ä¸º noneï¼Œæ ‡ç¤ºæ‰€æœ‰çš„ bean éƒ½ä¸ä½¿ç”¨è‡ªåŠ¨è£…é…ï¼Œé™¤é bean ä¸Šé…ç½®äº† autowire å±æ€§</p><p>å¦‚æœä½ éœ€è¦ä¸ºæ‰€æœ‰çš„ bean é…ç½®ç›¸åŒçš„ autowire å±æ€§ï¼Œæœ‰ä¸ªåŠæ³•å¯ä»¥ç®€åŒ–è¿™ä¸€æ“ä½œï¼Œåœ¨æ ¹å…ƒç´  beans ä¸Šå¢åŠ å±æ€§</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">default-autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="autowired-æ³¨è§£"><a class="markdownIt-Anchor" href="#autowired-æ³¨è§£"></a> @Autowired æ³¨è§£</h2><div class="tag link"><a class="link-card" title="Autowired æ³¨è§£ä½¿ç”¨" href="https://hgm.vercel.app/post/7047b0e7/"><div class="left"><img src="https://hgm.vercel.app/img/favicon.png"/></div><div class="right"><p class="text">Autowired æ³¨è§£ä½¿ç”¨</p><p class="url">https://hgm.vercel.app/post/7047b0e7/</p></div></a></div><p><strong>å…·ä½“çš„å¤§å®¶å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ,è¿™é‡Œè¡¥å……ä¸€äº›æ–‡ç« æ²¡å†™å…¨çš„å†…å®¹</strong></p><p>ä» <code>Spring 2.5</code> å¼€å§‹ï¼Œå¼€å§‹æ”¯æŒä½¿ç”¨æ³¨è§£æ¥è‡ªåŠ¨è£…é… <code>bean</code> çš„å±æ€§ã€‚å®ƒå…è®¸æ›´ç»†ç²’åº¦çš„è‡ªåŠ¨è£…é…ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§çš„æ ‡æ³¨æŸä¸€ä¸ªå±æ€§æ¥å¯¹å…¶åº”ç”¨è‡ªåŠ¨è£…é…ã€‚<code>Spring</code> æ”¯æŒå‡ ç§ä¸åŒçš„åº”ç”¨äºè‡ªåŠ¨è£…é…çš„æ³¨è§£</p><ul><li><code>Spring</code> è‡ªå¸¦çš„ <code>@Autowired</code> æ³¨è§£</li><li><code>JSR-330</code> çš„ <code>@Inject</code> æ³¨è§£</li><li><code>JSR-250</code> çš„ <code>@Resource</code> æ³¨è§£</li></ul><p>ä½¿ç”¨ <code>@Autowired</code> å®ƒæœ‰å‡ ä¸ªç‚¹éœ€è¦æ³¨æ„</p><h3 id="å¼ºåˆ¶æ€§"><a class="markdownIt-Anchor" href="#å¼ºåˆ¶æ€§"></a> å¼ºåˆ¶æ€§</h3><p><em>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå…·æœ‰å¼ºåˆ¶å¥‘çº¦ç‰¹æ€§ï¼Œå…¶æ‰€æ ‡æ³¨çš„å±æ€§å¿…é¡»æ˜¯å¯è£…é…çš„ã€‚å¦‚æœæ²¡æœ‰ <code>bean</code> å¯ä»¥è£…é…åˆ° <code>@Autowired</code> æ‰€æ ‡æ³¨çš„å±æ€§æˆ–å‚æ•°ä¸­ï¼Œé‚£ä¹ˆä½ ä¼šçœ‹åˆ° <code>NoSuchBeanDefinitionException</code> çš„å¼‚å¸¸ä¿¡æ¯</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Object <span class="title function_">doResolveDependency</span><span class="params">(DependencyDescriptor descriptor, String beanName,</span></span><br><span class="line"><span class="params">            Set&lt;String&gt; autowiredBeanNames, TypeConverter typeConverter)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾Bean</span></span><br><span class="line">    Map&lt;String, Object&gt; matchingBeans = findAutowireCandidates(beanName, type, descriptor);</span><br><span class="line">    <span class="comment">// å¦‚æœæ‹¿åˆ°çš„ Bean é›†åˆä¸ºç©ºï¼Œä¸” isRequired ä¸º trueï¼Œå°±æŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">if</span> (matchingBeans.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (descriptor.isRequired()) &#123;</span><br><span class="line">            raiseNoSuchBeanDefinitionException(type, <span class="string">&quot;&quot;</span>, descriptor);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>çœ‹åˆ°ä¸Šé¢çš„æºç ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è¿™ä¸€ä¿¡æ¯ï¼Œ<code>bean</code> é›†åˆä¸ºç©ºä¸è¦ç´§ï¼Œå…³é”® <code>isRequired</code> æ¡ä»¶ä¸èƒ½æˆç«‹ï¼Œå¦‚æœæˆç«‹å°±ä¼šæŠ›å¼‚å¸¸ã€‚é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬ä¸ç¡®å®šå±æ€§æ˜¯å¦å¯ä»¥è£…é…ï¼Œå¯ä»¥è¿™æ ·æ¥ä½¿ç”¨ <code>Autowired</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired(required = false)</span></span><br><span class="line">UserService userService;</span><br></pre></td></tr></table></figure><h3 id="è£…é…ç­–ç•¥"><a class="markdownIt-Anchor" href="#è£…é…ç­–ç•¥"></a> è£…é…ç­–ç•¥</h3><p>å‰å‡ å¤©çœ‹åˆ°å¤§ä½¬ç¾¤é‡Œæœ‰ä¸ªé¢è¯•é¢˜æ˜¯è¿™æ ·é—®çš„ï¼š<code>Autowired</code> æ˜¯æŒ‰ç…§ä»€ä¹ˆç­–ç•¥æ¥è‡ªåŠ¨è£…é…çš„å‘¢ï¼Ÿå…³äºè¿™ä¸ªé—®é¢˜ï¼Œä¸èƒ½ä¸€æ¦‚è€Œè®ºï¼Œä½ ä¸èƒ½ç®€å•çš„è¯´æŒ‰ç…§ç±»å‹æˆ–è€…æŒ‰ç…§åç§°ã€‚ä½†å¯ä»¥ç¡®å®šçš„ä¸€ç‚¹çš„æ˜¯ï¼Œå®ƒé»˜è®¤æ˜¯æŒ‰ç…§ç±»å‹æ¥è‡ªåŠ¨è£…é…çš„ï¼Œå³ <code>byType</code></p><h4 id="é»˜è®¤æŒ‰ç…§ç±»å‹è£…é…"><a class="markdownIt-Anchor" href="#é»˜è®¤æŒ‰ç…§ç±»å‹è£…é…"></a> é»˜è®¤æŒ‰ç…§ç±»å‹è£…é…</h4><p>å…³é”®ç‚¹ <code>findAutowireCandidates</code> è¿™ä¸ªæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Map&lt;String, Object&gt; <span class="title function_">findAutowireCandidates</span><span class="params">(</span></span><br><span class="line"><span class="params">        String beanName, Class&lt;?&gt; requiredType, DependencyDescriptor descriptor)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–ç»™å®šç±»å‹çš„æ‰€æœ‰ bean åç§°ï¼Œé‡Œé¢å®é™…å¾ªç¯æ‰€æœ‰çš„ beanNameï¼Œè·å–å®ƒçš„å®ä¾‹</span></span><br><span class="line">    <span class="comment">// å†é€šè¿‡ isTypeMatch æ–¹æ³•æ¥ç¡®å®š</span></span><br><span class="line">    String[] candidateNames = BeanFactoryUtils.beanNamesForTypeIncludingAncestors(</span><br><span class="line">            <span class="built_in">this</span>, requiredType, <span class="literal">true</span>, descriptor.isEager());</span><br><span class="line"></span><br><span class="line">    Map&lt;String, Object&gt; result = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;String, Object&gt;(candidateNames.length);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ ¹æ®è¿”å›çš„ beanNameï¼Œè·å–å…¶å®ä¾‹è¿”å›</span></span><br><span class="line">    <span class="keyword">for</span> (String candidateName : candidateNames) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!isSelfReference(beanName, candidateName) &amp;&amp; isAutowireCandidate(candidateName, descriptor)) &#123;</span><br><span class="line">            result.put(candidateName, getBean(candidateName));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œé‚£ä¹ˆå°±è¡¨æ˜ï¼ŒæŒ‰ç…§ç±»å‹åŒ¹é…å¯èƒ½ä¼šæŸ¥è¯¢åˆ°å¤šä¸ªå®ä¾‹ã€‚åˆ°åº•åº”è¯¥è£…é…å“ªä¸ªå®ä¾‹å‘¢ï¼Ÿæˆ‘çœ‹æœ‰çš„æ–‡ç« é‡Œè¯´ï¼Œå¯ä»¥åŠ æ³¨è§£ä»¥æ­¤è§„é¿ã€‚æ¯”å¦‚ <code>@qulifierã€@Primary</code> ç­‰ï¼Œå®é™…è¿˜æœ‰ä¸ªç®€å•çš„åŠæ³•</p><p>æ¯”å¦‚ï¼ŒæŒ‰ç…§ <code>UserService</code> æ¥å£ç±»å‹æ¥è£…é…å®ƒçš„å®ç°ç±»ã€‚<code>UserService</code> æ¥å£æœ‰å¤šä¸ªå®ç°ç±»ï¼Œåˆ†ä¸º <code>UserServiceImplã€UserServiceImpl2</code>ã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨æ³¨å…¥çš„æ—¶å€™ï¼Œå°±å¯ä»¥æŠŠå±æ€§åç§°å®šä¹‰ä¸º <code>bean</code> å®ç°ç±»çš„åç§°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">UserService UserServiceImpl2;</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„è¯ï¼Œ<code>spring</code> ä¼šæŒ‰ç…§ <code>byName</code> æ¥è¿›è¡Œè£…é…ã€‚é¦–å…ˆï¼Œå¦‚æœæŸ¥åˆ°ç±»å‹çš„å¤šä¸ªå®ä¾‹ï¼Œ<code>spring</code> å·²ç»åšäº†åˆ¤æ–­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Object <span class="title function_">doResolveDependency</span><span class="params">(DependencyDescriptor descriptor, String beanName,</span></span><br><span class="line"><span class="params">            Set&lt;String&gt; autowiredBeanNames, TypeConverter typeConverter)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‰ç…§ç±»å‹æŸ¥æ‰¾ bean å®ä¾‹</span></span><br><span class="line">    Map&lt;String, Object&gt; matchingBeans = findAutowireCandidates(beanName, type, descriptor);</span><br><span class="line">    <span class="comment">// å¦‚æœ bean é›†åˆä¸ºç©ºï¼Œä¸” isRequired æˆç«‹,å°±æŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">if</span> (matchingBeans.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (descriptor.isRequired()) &#123;</span><br><span class="line">            raiseNoSuchBeanDefinitionException(type, <span class="string">&quot;&quot;</span>, descriptor);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœæŸ¥æ‰¾çš„ bean å®ä¾‹å¤§äº 1 ä¸ª</span></span><br><span class="line">    <span class="keyword">if</span> (matchingBeans.size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// æ‰¾åˆ°æœ€åˆé€‚çš„é‚£ä¸ªï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„ï¼Œä¹ŸæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">primaryBeanName</span> <span class="operator">=</span> determineAutowireCandidate(matchingBeans, descriptor);</span><br><span class="line">        <span class="keyword">if</span> (primaryBeanName == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NoUniqueBeanDefinitionException</span>(type, matchingBeans.keySet());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (autowiredBeanNames != <span class="literal">null</span>) &#123;</span><br><span class="line">            autowiredBeanNames.add(primaryBeanName);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> matchingBeans.get(primaryBeanName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœæŸ¥åˆ°å¤šä¸ªå®ä¾‹ï¼Œ<code>determineAutowireCandidate</code> æ–¹æ³•å°±æ˜¯å…³é”®ã€‚å®ƒæ¥ç¡®å®šä¸€ä¸ªåˆé€‚çš„ <code>bean</code> è¿”å›ã€‚å…¶ä¸­ä¸€éƒ¨åˆ†å°±æ˜¯æŒ‰ç…§ <code>bean</code> çš„åç§°æ¥åŒ¹é…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> String <span class="title function_">determineAutowireCandidate</span><span class="params">(Map&lt;String, Object&gt; candidateBeans,</span></span><br><span class="line"><span class="params">                DependencyDescriptor descriptor)</span> &#123;</span><br><span class="line">    <span class="comment">// å¾ªç¯æ‹¿åˆ°çš„ bean é›†åˆ</span></span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, Object&gt; entry : candidateBeans.entrySet()) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">candidateBeanName</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">beanInstance</span> <span class="operator">=</span> entry.getValue();</span><br><span class="line">        <span class="comment">// é€šè¿‡ matchesBeanName æ–¹æ³•æ¥ç¡®å®š bean é›†åˆä¸­çš„åç§°æ˜¯å¦ä¸å±æ€§çš„åç§°ç›¸åŒ</span></span><br><span class="line">        <span class="keyword">if</span> (matchesBeanName(candidateBeanName, descriptor.getDependencyName())) &#123;</span><br><span class="line">            <span class="keyword">return</span> candidateBeanName;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åæˆ‘ä»¬å›åˆ°é—®é¢˜ä¸Šï¼Œå¾—åˆ°çš„ç­”æ¡ˆå°±æ˜¯ï¼š<em><code>@Autowired</code> é»˜è®¤ä½¿ç”¨ <code>byType</code> æ¥è£…é…å±æ€§ï¼Œå¦‚æœåŒ¹é…åˆ°ç±»å‹çš„å¤šä¸ªå®ä¾‹ï¼Œå†é€šè¿‡ <code>byName</code> æ¥ç¡®å®š <code>bean</code></em></p><h3 id="ä¸»å’Œä¼˜å…ˆçº§"><a class="markdownIt-Anchor" href="#ä¸»å’Œä¼˜å…ˆçº§"></a> ä¸»å’Œä¼˜å…ˆçº§</h3><p>ä¸Šé¢æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†ï¼Œé€šè¿‡ <code>byType</code> å¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªå®ä¾‹çš„ <code>bean</code>ã€‚ç„¶åå†é€šè¿‡ <code>byName</code> æ¥ç¡®å®šä¸€ä¸ªåˆé€‚çš„ <code>bean</code>ï¼Œå¦‚æœé€šè¿‡åç§°ä¹Ÿç¡®å®šä¸äº†å‘¢ï¼Ÿ</p><p>è¿˜æ˜¯ <code>determineAutowireCandidate</code> è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒè¿˜æœ‰ä¸¤ç§æ–¹å¼æ¥ç¡®å®š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> String <span class="title function_">determineAutowireCandidate</span><span class="params">(Map&lt;String, Object&gt; candidateBeans,</span></span><br><span class="line"><span class="params">                DependencyDescriptor descriptor)</span> &#123;</span><br><span class="line">    Class&lt;?&gt; requiredType = descriptor.getDependencyType();</span><br><span class="line">    <span class="comment">// é€šè¿‡ @Primaryæ³¨è§£æ¥æ ‡è¯† bean</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">primaryCandidate</span> <span class="operator">=</span> determinePrimaryCandidate(candidateBeans, requiredType);</span><br><span class="line">    <span class="keyword">if</span> (primaryCandidate != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> primaryCandidate;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€šè¿‡ @Priority(value = 0) æ³¨è§£æ¥æ ‡è¯† bean, value ä¸ºä¼˜å…ˆçº§å¤§å°</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">priorityCandidate</span> <span class="operator">=</span> determineHighestPriorityCandidate(candidateBeans, requiredType);</span><br><span class="line">    <span class="keyword">if</span> (priorityCandidate != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> priorityCandidate;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="primary-æ³¨è§£"><a class="markdownIt-Anchor" href="#primary-æ³¨è§£"></a> <code>@Primary</code> æ³¨è§£</h4><p>å®ƒçš„ä½œç”¨æ˜¯çœ‹ <code>bean</code> ä¸Šæ˜¯å¦åŒ…å« <code>@Primary</code> æ³¨è§£ï¼Œå¦‚æœåŒ…å«å°±è¿”å›ã€‚å½“ç„¶äº†ï¼Œä½ ä¸èƒ½æŠŠå¤šä¸ª <code>bean</code> éƒ½è®¾ç½®ä¸º <code>@Primary</code>ï¼Œä¸ç„¶ä½ ä¼šå¾—åˆ° <code>NoUniqueBeanDefinitionException</code> è¿™ä¸ªå¼‚å¸¸</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> String <span class="title function_">determinePrimaryCandidate</span><span class="params">(Map&lt;String, Object&gt; candidateBeans, Class&lt;?&gt; requiredType)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">primaryBeanName</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, Object&gt; entry : candidateBeans.entrySet()) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">candidateBeanName</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">beanInstance</span> <span class="operator">=</span> entry.getValue();</span><br><span class="line">        <span class="keyword">if</span> (isPrimary(candidateBeanName, beanInstance)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (primaryBeanName != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">candidateLocal</span> <span class="operator">=</span> containsBeanDefinition(candidateBeanName);</span><br><span class="line">                <span class="type">boolean</span> <span class="variable">primaryLocal</span> <span class="operator">=</span> containsBeanDefinition(primaryBeanName);</span><br><span class="line">                <span class="keyword">if</span> (candidateLocal &amp;&amp; primaryLocal) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NoUniqueBeanDefinitionException</span>(requiredType, candidateBeans.size(),</span><br><span class="line">                            <span class="string">&quot;more than one &#x27;primary&#x27; bean found among candidates: &quot;</span> + candidateBeans.keySet());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (candidateLocal) &#123;</span><br><span class="line">                    primaryBeanName = candidateBeanName;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                primaryBeanName = candidateBeanName;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> primaryBeanName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="priority-æ³¨è§£"><a class="markdownIt-Anchor" href="#priority-æ³¨è§£"></a> <code>@Priority</code> æ³¨è§£</h4><p>ä½ ä¹Ÿå¯ä»¥åœ¨ <code>bean</code>ä¸Šé…ç½®<code>@Priority</code>æ³¨è§£ï¼Œå®ƒæœ‰ä¸ª int ç±»å‹çš„å±æ€§ <code>value</code>ï¼Œå¯ä»¥é…ç½®ä¼˜å…ˆçº§å¤§å°ã€‚æ•°å­—è¶Šå°çš„ï¼Œå°±è¢«ä¼˜å…ˆåŒ¹é…ã€‚åŒæ ·çš„ï¼Œä½ ä¹Ÿä¸èƒ½æŠŠå¤šä¸ª <code>bean</code>çš„ä¼˜å…ˆçº§é…ç½®æˆç›¸åŒå¤§å°çš„æ•°å€¼ï¼Œå¦åˆ™ <code>NoUniqueBeanDefinitionException</code>å¼‚å¸¸ç…§æ ·å‡ºæ¥æ‰¾ä½ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> String <span class="title function_">determineHighestPriorityCandidate</span><span class="params">(Map&lt;String, Object&gt; candidateBeans,</span></span><br><span class="line"><span class="params">                                    Class&lt;?&gt; requiredType)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">highestPriorityBeanName</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">highestPriority</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, Object&gt; entry : candidateBeans.entrySet()) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">candidateBeanName</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">beanInstance</span> <span class="operator">=</span> entry.getValue();</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">candidatePriority</span> <span class="operator">=</span> getPriority(beanInstance);</span><br><span class="line">        <span class="keyword">if</span> (candidatePriority != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (highestPriorityBeanName != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// å¦‚æœä¼˜å…ˆçº§å¤§å°ç›¸åŒ</span></span><br><span class="line">                <span class="keyword">if</span> (candidatePriority.equals(highestPriority)) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NoUniqueBeanDefinitionException</span>(requiredType, candidateBeans.size(),</span><br><span class="line">                        <span class="string">&quot;Multiple beans found with the same priority (&#x27;&quot;</span> + highestPriority + <span class="string">&quot;&#x27;) &quot;</span> +</span><br><span class="line">                            <span class="string">&quot;among candidates: &quot;</span> + candidateBeans.keySet());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (candidatePriority &lt; highestPriority) &#123;</span><br><span class="line">                    highestPriorityBeanName = candidateBeanName;</span><br><span class="line">                    highestPriority = candidatePriority;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                highestPriorityBeanName = candidateBeanName;</span><br><span class="line">                highestPriority = candidatePriority;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> highestPriorityBeanName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Priority</code> çš„åŒ…åœ¨ <code>javax.annotation.Priority</code>ï¼Œå¦‚æœæƒ³ä½¿ç”¨å®ƒè¿˜è¦å¼•å…¥ä¸€ä¸ªåæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.annotation<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.annotation-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><p>æœ¬ç« èŠ‚é‡ç‚¹é˜è¿°äº† Spring ä¸­çš„è‡ªåŠ¨è£…é…çš„å‡ ç§ç­–ç•¥ï¼Œåˆé€šè¿‡æºç åˆ†æäº† Autowired æ³¨è§£çš„ä½¿ç”¨æ–¹å¼ã€‚<br />åœ¨ Spring3.0 ä¹‹åï¼Œæœ‰æ•ˆçš„è‡ªåŠ¨è£…é…ç­–ç•¥åˆ†ä¸º<code>byTypeã€byNameã€constructor</code>ä¸‰ç§æ–¹å¼ã€‚æ³¨è§£<br />Autowired é»˜è®¤ä½¿ç”¨ byType æ¥è‡ªåŠ¨è£…é…ï¼Œå¦‚æœå­˜åœ¨ç±»å‹çš„å¤šä¸ªå®ä¾‹å°±å°è¯•ä½¿ç”¨ byName åŒ¹é…ï¼Œå¦‚æœé€šè¿‡ byName ä¹Ÿç¡®å®šä¸äº†ï¼Œå¯ä»¥é€šè¿‡ Primary å’Œ Priority æ³¨è§£æ¥ç¡®å®šã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;tip home&quot;&gt;&lt;p&gt;å¥½å¤„ï¼šå¤§å¹…åº¦å‡å°‘ Spring é…ç½®&lt;/p&gt;
&lt;p&gt;åå¤„ï¼šä¾èµ–ä¸èƒ½æ˜ç¡®ç®¡ç†ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ª bean åŒæ—¶ç¬¦åˆæ³¨å…¥è§„åˆ™ï¼Œæ²¡æœ‰æ¸…æ™°çš„ä¾èµ–å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è£…é…çš„æ—¶å€™ä¼šæœ‰ä¸¤ç§æ–¹å¼ï¼Œ&lt;code&gt;byName&lt;/code&gt;å’Œ&lt;code</summary>
      
    
    
    
    <category term="Spring" scheme="https://serms.top/categories/Spring/"/>
    
    <category term="Java" scheme="https://serms.top/categories/Java/"/>
    
    <category term="Springè‡ªåŠ¨è£…é…" scheme="https://serms.top/categories/Spring/Spring%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D/"/>
    
    
    <category term="Spring" scheme="https://serms.top/tags/Spring/"/>
    
    <category term="Springæ³¨è§£" scheme="https://serms.top/tags/Spring%E6%B3%A8%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>Springæ³¨è§£-@Autowiredæ³¨è§£ä½¿ç”¨</title>
    <link href="https://serms.top/posts/7047b0e7/"/>
    <id>https://serms.top/posts/7047b0e7/</id>
    <published>2022-04-08T15:30:51.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<details class="folding-tag" cyan><summary> å†™åœ¨å‰é¢å¾—è¯ </summary>              <div class='content'>              <div class="note info simple"><p>å­¦ä¹ @Autowired ä¹‹å‰å»ºè®®å…ˆå­¦ä¼šä½¿ç”¨ byType å’Œ byName</p></div><div class="tag link"><a class="link-card" title="Springçš„è‡ªåŠ¨è£…é…" href="https://hgm.vercel.app/post/63755f3a/"><div class="left"><img src="https://unpkg.com/serms-assets/imgs/avatar.jpg"/></div><div class="right"><p class="text">Springçš„è‡ªåŠ¨è£…é…</p><p class="url">https://hgm.vercel.app/post/63755f3a/</p></div></a></div>              </div>            </details><h2 id="autowired-è¯¦è§£"><a class="markdownIt-Anchor" href="#autowired-è¯¦è§£"></a> @Autowired è¯¦è§£</h2><p>é¦–å…ˆè¦çŸ¥é“å¦ä¸€ä¸ªä¸œè¥¿ï¼Œdefault-autowireï¼Œå®ƒæ˜¯åœ¨ xml æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®çš„ï¼Œå¯ä»¥è®¾ç½®ä¸º byNameã€byTypeã€constructor å’Œ autodetectï¼›æ¯”å¦‚ byNameï¼Œä¸ç”¨æ˜¾å¼çš„åœ¨ bean ä¸­å†™å‡ºä¾èµ–çš„å¯¹è±¡ï¼Œå®ƒä¼šè‡ªåŠ¨çš„åŒ¹é…å…¶å®ƒ bean ä¸­ id åä¸æœ¬ bean çš„ set**ç›¸åŒçš„ï¼Œå¹¶è‡ªåŠ¨è£…è½½ã€‚<br />@Autowired æ˜¯ç”¨åœ¨ JavaBean ä¸­çš„æ³¨è§£ï¼Œé€šè¿‡ byType å½¢å¼ï¼Œç”¨æ¥ç»™æŒ‡å®šçš„å­—æ®µæˆ–æ–¹æ³•æ³¨å…¥æ‰€éœ€çš„å¤–éƒ¨èµ„æºã€‚<br />ä¸¤è€…çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯èƒ½å‡å°‘æˆ–è€…æ¶ˆé™¤å±æ€§æˆ–æ„é€ å™¨å‚æ•°çš„è®¾ç½®ï¼Œåªæ˜¯é…ç½®åœ°æ–¹ä¸ä¸€æ ·è€Œå·²ã€‚<br />autowire å››ç§æ¨¡å¼çš„åŒºåˆ«<br /><img src="https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTYwODI0MTcyODAwMTYz?x-oss-process=image/format,png" alt="" /></p><p>å…ˆçœ‹ä¸€ä¸‹ bean å®ä¾‹åŒ–å’Œ@Autowired è£…é…è¿‡ç¨‹ï¼š<br />ä¸€åˆ‡éƒ½æ˜¯ä» bean å·¥å‚çš„ getBean æ–¹æ³•å¼€å§‹çš„ï¼Œä¸€æ—¦è¯¥æ–¹æ³•è°ƒç”¨æ€»ä¼šè¿”å›ä¸€ä¸ª bean å®ä¾‹ï¼Œæ— è®ºå½“å‰æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å°±å®ä¾‹åŒ–ä¸€ä¸ªå¹¶è£…é…ï¼Œå¦åˆ™ç›´æ¥è¿”å›ã€‚ï¼ˆSpring MVC æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™å¼€å§‹æ‰§è¡Œ bean çš„å®ä¾‹åŒ–è¿‡ç¨‹çš„å‘¢ï¼Ÿå…¶å®å°±åœ¨ç»„ä»¶æ‰«æå®Œæˆä¹‹åï¼‰</p><p>å®ä¾‹åŒ–å’Œè£…é…è¿‡ç¨‹ä¸­ä¼šå¤šæ¬¡é€’å½’è°ƒç”¨ getBean æ–¹æ³•æ¥è§£å†³ç±»ä¹‹é—´çš„ä¾èµ–ã€‚</p><p>Spring å‡ ä¹è€ƒè™‘äº†æ‰€æœ‰å¯èƒ½æ€§ï¼Œæ‰€ä»¥æ–¹æ³•ç‰¹åˆ«å¤æ‚ä½†å®Œæ•´æœ‰æ¡ç†ã€‚</p><p>@Autowired æœ€ç»ˆæ˜¯æ ¹æ®ç±»å‹æ¥æŸ¥æ‰¾å’Œè£…é…å…ƒç´ çš„ï¼Œä½†æ˜¯æˆ‘ä»¬è®¾ç½®äº†<beans default-autowire="byName"/>åä¼šå½±å“æœ€ç»ˆçš„ç±»å‹åŒ¹é…æŸ¥æ‰¾ã€‚å› ä¸ºåœ¨å‰é¢æœ‰æ ¹æ® BeanDefinition çš„ autowire ç±»å‹è®¾ç½® PropertyValue å€¼å¾—ä¸€æ­¥ï¼Œå…¶ä¸­ä¼šæœ‰æ–°å®ä¾‹çš„åˆ›å»ºå’Œæ³¨å†Œã€‚å°±æ˜¯é‚£ä¸ª autowireByName æ–¹æ³•ã€‚</p><p>ä¸‹é¢é€šè¿‡@Autowired æ¥è¯´æ˜ä¸€ä¸‹ç”¨æ³•</p><h2 id="setter-æ–¹æ³•ä¸­çš„-autowired"><a class="markdownIt-Anchor" href="#setter-æ–¹æ³•ä¸­çš„-autowired"></a> Setter æ–¹æ³•ä¸­çš„ @Autowired</h2><p>ä½ å¯ä»¥åœ¨ JavaBean ä¸­çš„ setter æ–¹æ³•ä¸­ä½¿ç”¨ @Autowired æ³¨è§£ã€‚å½“ Spring é‡åˆ°ä¸€ä¸ªåœ¨ setter æ–¹æ³•ä¸­ä½¿ç”¨çš„ @Autowired æ³¨è§£ï¼Œå®ƒä¼šåœ¨æ–¹æ³•ä¸­æ‰§è¡Œ byType è‡ªåŠ¨è£…é…ã€‚<br />è¿™é‡Œæ˜¯ TextEditor.java æ–‡ä»¶çš„å†…å®¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tutorialspoint;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TextEditor</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SpellChecker spellChecker;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSpellChecker</span><span class="params">( SpellChecker spellChecker )</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.spellChecker = spellChecker;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> SpellChecker <span class="title function_">getSpellChecker</span><span class="params">( )</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> spellChecker;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">spellCheck</span><span class="params">()</span> &#123;</span><br><span class="line">        spellChecker.checkSpelling();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾èµ–çš„ç±»æ–‡ä»¶ SpellChecker.java çš„å†…å®¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tutorialspoint;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpellChecker</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SpellChecker</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Inside SpellChecker constructor.&quot;</span> );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkSpelling</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Inside checkSpelling.&quot;</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ MainApp.java æ–‡ä»¶çš„å†…å®¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tutorialspoint;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainApp</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;Beans.xml&quot;</span>);</span><br><span class="line">        <span class="type">TextEditor</span> <span class="variable">te</span> <span class="operator">=</span> (TextEditor) context.getBean(<span class="string">&quot;textEditor&quot;</span>);</span><br><span class="line">        te.spellCheck();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯é…ç½®æ–‡ä»¶ Beans.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Definition for textEditor bean without constructor-arg  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;textEditor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.tutorialspoint.TextEditor&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Definition for spellChecker bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;spellChecker&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.tutorialspoint.SpellChecker&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸€æ—¦ä½ å·²ç»å®Œæˆçš„åˆ›å»ºäº†æºæ–‡ä»¶å’Œ bean é…ç½®æ–‡ä»¶ï¼Œè®©æˆ‘ä»¬è¿è¡Œä¸€ä¸‹åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºä¸€åˆ‡éƒ½æ­£å¸¸çš„è¯ï¼Œè¿™å°†ä¼šè¾“å‡ºä»¥ä¸‹æ¶ˆæ¯ï¼š</p><p>Inside SpellChecker constructor.<br />Inside checkSpelling.</p><h2 id="å±æ€§ä¸­çš„-autowired"><a class="markdownIt-Anchor" href="#å±æ€§ä¸­çš„-autowired"></a> å±æ€§ä¸­çš„ @Autowired</h2><p>ä½ å¯ä»¥åœ¨å±æ€§ä¸­ä½¿ç”¨ @Autowired æ³¨è§£æ¥é™¤å» setter æ–¹æ³•ã€‚å½“æ—¶ä½¿ç”¨ ä¸ºè‡ªåŠ¨è¿æ¥å±æ€§ä¼ é€’çš„æ—¶å€™ï¼ŒSpring ä¼šå°†è¿™äº›ä¼ é€’è¿‡æ¥çš„å€¼æˆ–è€…å¼•ç”¨è‡ªåŠ¨åˆ†é…ç»™é‚£äº›å±æ€§ã€‚æ‰€ä»¥åˆ©ç”¨åœ¨å±æ€§ä¸­ @Autowired çš„ç”¨æ³•ï¼Œä½ çš„ TextEditor.java æ–‡ä»¶å°†å˜æˆå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tutorialspoint;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TextEditor</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SpellChecker spellChecker;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextEditor</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Inside TextEditor constructor.&quot;</span> );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> SpellChecker <span class="title function_">getSpellChecker</span><span class="params">( )</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> spellChecker;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">spellCheck</span><span class="params">()</span>&#123;</span><br><span class="line">        spellChecker.checkSpelling();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯é…ç½®æ–‡ä»¶ Beans.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Definition for textEditor bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;textEditor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.tutorialspoint.TextEditor&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Definition for spellChecker bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;spellChecker&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.tutorialspoint.SpellChecker&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸€æ—¦ä½ åœ¨æºæ–‡ä»¶å’Œ bean é…ç½®æ–‡ä»¶ä¸­å®Œæˆäº†ä¸Šé¢ä¸¤å¤„æ”¹å˜ï¼Œè®©æˆ‘ä»¬è¿è¡Œä¸€ä¸‹åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºä¸€åˆ‡éƒ½æ­£å¸¸çš„è¯ï¼Œè¿™å°†ä¼šè¾“å‡ºä»¥ä¸‹æ¶ˆæ¯ï¼š</p><p>Inside TextEditor constructor.<br />Inside SpellChecker constructor.<br />Inside checkSpelling.</p><h2 id="æ„é€ å‡½æ•°ä¸­çš„-autowired"><a class="markdownIt-Anchor" href="#æ„é€ å‡½æ•°ä¸­çš„-autowired"></a> æ„é€ å‡½æ•°ä¸­çš„ @Autowired</h2><p>ä½ ä¹Ÿå¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ @Autowiredã€‚ä¸€ä¸ªæ„é€ å‡½æ•° @Autowired è¯´æ˜å½“åˆ›å»º bean æ—¶ï¼Œå³ä½¿åœ¨ XML æ–‡ä»¶ä¸­æ²¡æœ‰ä½¿ç”¨ å…ƒç´ é…ç½® bean ï¼Œæ„é€ å‡½æ•°ä¹Ÿä¼šè¢«è‡ªåŠ¨è¿æ¥ã€‚è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹ä¸‹é¢çš„ç¤ºä¾‹ã€‚<br />è¿™é‡Œæ˜¯ TextEditor.java æ–‡ä»¶çš„å†…å®¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tutorialspoint;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TextEditor</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SpellChecker spellChecker;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TextEditor</span><span class="params">(SpellChecker spellChecker)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Inside TextEditor constructor.&quot;</span> );</span><br><span class="line">        <span class="built_in">this</span>.spellChecker = spellChecker;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">spellCheck</span><span class="params">()</span>&#123;</span><br><span class="line">        spellChecker.checkSpelling();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯é…ç½®æ–‡ä»¶ Beans.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Definition for textEditor bean without constructor-arg  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;textEditor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.tutorialspoint.TextEditor&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Definition for spellChecker bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;spellChecker&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.tutorialspoint.SpellChecker&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸€æ—¦ä½ åœ¨æºæ–‡ä»¶å’Œ bean é…ç½®æ–‡ä»¶ä¸­å®Œæˆäº†ä¸Šé¢ä¸¤å¤„æ”¹å˜ï¼Œè®©æˆ‘ä»¬è¿è¡Œä¸€ä¸‹åº”ç”¨ç¨‹åºã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºä¸€åˆ‡éƒ½æ­£å¸¸çš„è¯ï¼Œè¿™å°†ä¼šè¾“å‡ºä»¥ä¸‹æ¶ˆæ¯ï¼š</p><p>Inside TextEditor constructor.<br />Inside SpellChecker constructor.<br />Inside checkSpelling.</p><h2 id="autowired-çš„requiredfalseé€‰é¡¹"><a class="markdownIt-Anchor" href="#autowired-çš„requiredfalseé€‰é¡¹"></a> @Autowired çš„ï¼ˆrequired=falseï¼‰é€‰é¡¹</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ@Autowired æ³¨è§£æ„å‘³ç€ä¾èµ–æ˜¯å¿…é¡»çš„ï¼Œå®ƒç±»ä¼¼äº @Required æ³¨è§£ï¼Œç„¶è€Œï¼Œä½ å¯ä»¥ä½¿ç”¨ @Autowired çš„ ï¼ˆrequired=falseï¼‰ é€‰é¡¹å…³é—­é»˜è®¤è¡Œä¸ºã€‚<br />å³ä½¿ä½ ä¸ä¸º age å±æ€§ä¼ é€’ä»»ä½•å‚æ•°ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä¹Ÿä¼šæˆåŠŸè¿è¡Œï¼Œä½†æ˜¯å¯¹äº name å±æ€§åˆ™éœ€è¦ä¸€ä¸ªå‚æ•°ã€‚ä½ å¯ä»¥è‡ªå·±å°è¯•ä¸€ä¸‹è¿™ä¸ªç¤ºä¾‹ï¼Œå› ä¸ºé™¤äº†åªæœ‰ Student.java æ–‡ä»¶è¢«ä¿®æ”¹ä»¥å¤–ï¼Œå®ƒå’Œ @Required æ³¨è§£ç¤ºä¾‹æ˜¯ç›¸ä¼¼çš„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.tutorialspoint;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Autowired(required=false)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–"><a class="markdownIt-Anchor" href="#å…¶ä»–"></a> å…¶ä»–</h2><p><strong>@Autowired æ³¨é‡Šåº”ç”¨äºå…·æœ‰ä»»æ„åç§°å’Œå¤šä¸ªå‚æ•°çš„æ–¹æ³•:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MovieRecommender</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> MovieCatalog movieCatalog;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> CustomerPreferenceDao customerPreferenceDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">prepare</span><span class="params">(MovieCatalog movieCatalog,</span></span><br><span class="line"><span class="params">                        CustomerPreferenceDao customerPreferenceDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.movieCatalog = movieCatalog;</span><br><span class="line">        <span class="built_in">this</span>.customerPreferenceDao = customerPreferenceDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ‚¨ä¹Ÿå¯ä»¥å°†@Autowired åº”ç”¨äºå­—æ®µï¼Œæˆ–è€…å°†å…¶ä¸æ„é€ å‡½æ•°æ··åˆï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤º</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MovieRecommender</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> CustomerPreferenceDao customerPreferenceDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MovieCatalog movieCatalog;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MovieRecommender</span><span class="params">(CustomerPreferenceDao customerPreferenceDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.customerPreferenceDao = customerPreferenceDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†@Autowired æ³¨é‡Šæ·»åŠ åˆ°éœ€è¦è¯¥ç±»å‹æ•°ç»„çš„å­—æ®µæˆ–æ–¹æ³•ï¼Œåˆ™ spring ä¼šä» ApplicationContext ä¸­æœå¯»ç¬¦åˆæŒ‡å®šç±»å‹çš„æ‰€æœ‰ beanï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MovieRecommender</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MovieCatalog[] movieCatalogs;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•°ç»„å¯ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é©¬ä¸Šä¸¾ä¸€åä¸‰ï¼Œé‚£å®¹å™¨ä¹Ÿå¯ä»¥å—ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œä¸‹é¢æ˜¯ set ä»¥åŠ map çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MovieRecommender</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Set&lt;MovieCatalog&gt; movieCatalogs;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMovieCatalogs</span><span class="params">(Set&lt;MovieCatalog&gt; movieCatalogs)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.movieCatalogs = movieCatalogs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MovieRecommender</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, MovieCatalog&gt; movieCatalogs;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMovieCatalogs</span><span class="params">(Map&lt;String, MovieCatalog&gt; movieCatalogs)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.movieCatalogs = movieCatalogs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯@Autowired æ³¨è§£çš„ä¸»è¦ä½¿ç”¨æ–¹å¼ï¼Œç»å¸¸ä½¿ç”¨ spring çš„è¯åº”è¯¥å¯¹å…¶ä¸­å¸¸ç”¨çš„å‡ ç§ä¸ä¼šæ„Ÿåˆ°é™Œç”Ÿã€‚</p><h2 id="autowired-è£…é…ä¸æˆåŠŸçš„å‡ ç§æƒ…å†µ"><a class="markdownIt-Anchor" href="#autowired-è£…é…ä¸æˆåŠŸçš„å‡ ç§æƒ…å†µ"></a> @Autowired è£…é…ä¸æˆåŠŸçš„å‡ ç§æƒ…å†µï¼Ÿ</h2><h3 id="æ²¡æœ‰åŠ component-æ³¨è§£"><a class="markdownIt-Anchor" href="#æ²¡æœ‰åŠ component-æ³¨è§£"></a> æ²¡æœ‰åŠ @Component æ³¨è§£</h3><p>åœ¨ç±»ä¸Šé¢å¿˜äº†åŠ @Controllerã€@Serviceã€@Componentã€@Repository ç­‰æ³¨è§£ï¼Œspring å°±æ— æ³•å®Œæˆè‡ªåŠ¨è£…é…çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> IUser user;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        user.say();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µåº”è¯¥æ˜¯æœ€å¸¸è§çš„é”™è¯¯äº†ï¼Œä¸ä¼šå› ä¸ºä½ é•¿å¾—å¸…ï¼Œå°±ä¸ä¼šçŠ¯è¿™ç§ä½çº§çš„é”™è¯¯ã€‚</p><h3 id="æ³¨å…¥-filter-æˆ–-listener"><a class="markdownIt-Anchor" href="#æ³¨å…¥-filter-æˆ–-listener"></a> æ³¨å…¥ Filter æˆ– Listener</h3><p>web åº”ç”¨å¯åŠ¨çš„é¡ºåºæ˜¯ï¼šlistener-&gt;filter-&gt;servletã€‚</p><p><img src="https://unpkg.com/serms-assets@1.0.13/Spring/sasasas.png" alt="img" /></p><p>æ¥ä¸‹æ¥çœ‹çœ‹è¿™ä¸ªæ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> IUser user;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        user.say();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FilterConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FilterRegistrationBean <span class="title function_">filterRegistrationBean</span><span class="params">()</span> &#123;</span><br><span class="line">        bean = <span class="keyword">new</span> <span class="title class_">FilterRegistrationBean</span>();</span><br><span class="line">        bean.setFilter(<span class="keyword">new</span> <span class="title class_">UserFilter</span>());</span><br><span class="line">        bean.addUrlPatterns(<span class="string">&quot;/*&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¨‹åºå¯åŠ¨ä¼šæŠ¥é”™,tomcat ä¹Ÿæ— æ³•æ­£å¸¸å¯åŠ¨???ä»€ä¹ˆåŸå› ??</p><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œspringmvc çš„å¯åŠ¨æ˜¯åœ¨ DisptachServlet é‡Œé¢åšçš„ï¼Œè€Œå®ƒæ˜¯åœ¨ listener å’Œ filter ä¹‹åæ‰§è¡Œã€‚å¦‚æœæˆ‘ä»¬æƒ³åœ¨ listener å’Œ filter é‡Œé¢@Autowired æŸä¸ª beanï¼Œè‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸º filter åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ­¤æ—¶ bean è¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œæ— æ³•è‡ªåŠ¨è£…é…ã€‚</p><p>å¦‚æœå·¥ä½œå½“ä¸­çœŸçš„éœ€è¦è¿™æ ·åšï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserFilter</span>  <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> IUser user;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> WebApplicationContextUtils.getWebApplicationContext(</span><br><span class="line">            filterConfig.getServletContext());</span><br><span class="line">        <span class="built_in">this</span>.user = ((IUser)(applicationContext.getBean(<span class="string">&quot;user1&quot;</span>)));</span><br><span class="line">        user.say();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ˜¯ä½¿ç”¨ WebApplicationContextUtils.getWebApplicationContext è·å–å½“å‰çš„ ApplicationContextï¼Œå†é€šè¿‡å®ƒè·å–åˆ° bean å®ä¾‹ã€‚</p><h3 id="æ³¨è§£æœªè¢«componentscan-æ‰«æ"><a class="markdownIt-Anchor" href="#æ³¨è§£æœªè¢«componentscan-æ‰«æ"></a> æ³¨è§£æœªè¢«@ComponentScan æ‰«æ</h3><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œ@Controllerã€@Serviceã€@Componentã€@Repositoryã€@Configuration ç­‰æ³¨è§£ï¼Œæ˜¯éœ€è¦é€šè¿‡@ComponentScan æ³¨è§£æ‰«æï¼Œæ”¶é›†å…ƒæ•°æ®çš„ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœæ²¡æœ‰åŠ @ComponentScan æ³¨è§£ï¼Œæˆ–è€…@ComponentScan æ³¨è§£æ‰«æçš„è·¯å¾„ä¸å¯¹ï¼Œæˆ–è€…è·¯å¾„èŒƒå›´å¤ªå°ï¼Œä¼šå¯¼è‡´æœ‰äº›æ³¨è§£æ— æ³•æ”¶é›†ï¼Œåˆ°åé¢æ— æ³•ä½¿ç”¨@Autowired å®Œæˆè‡ªåŠ¨è£…é…çš„åŠŸèƒ½ã€‚</p><p>æœ‰ä¸ªå¥½æ¶ˆæ¯æ˜¯ï¼Œåœ¨ springboot é¡¹ç›®ä¸­ï¼Œå¦‚æœä½¿ç”¨äº†@SpringBootApplication æ³¨è§£ï¼Œå®ƒé‡Œé¢å†…ç½®äº†@ComponentScan æ³¨è§£çš„åŠŸèƒ½ã€‚</p><h3 id="å¾ªç¯ä¾èµ–é—®é¢˜"><a class="markdownIt-Anchor" href="#å¾ªç¯ä¾èµ–é—®é¢˜"></a> å¾ªç¯ä¾èµ–é—®é¢˜</h3><p>å¦‚æœ A ä¾èµ–äº Bï¼ŒB ä¾èµ–äº Cï¼ŒC åˆä¾èµ–äº Aï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªæ­»å¾ªç¯ã€‚</p><p><img src="https://unpkg.com/serms-assets@1.0.13/Spring/ssas.png" alt="img" /></p><p>spring çš„ bean é»˜è®¤æ˜¯å•ä¾‹çš„ï¼Œå¦‚æœå•ä¾‹ bean ä½¿ç”¨@Autowired è‡ªåŠ¨è£…é…ï¼Œå¤§å¤šæ•°æƒ…å†µï¼Œèƒ½è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ã€‚</p><p>ä½†æ˜¯å¦‚æœ bean æ˜¯å¤šä¾‹çš„ï¼Œä¼šå‡ºç°å¾ªç¯ä¾èµ–é—®é¢˜ï¼Œå¯¼è‡´ bean è‡ªåŠ¨è£…é…ä¸äº†ã€‚</p><p>è¿˜æœ‰æœ‰äº›æƒ…å†µä¸‹ï¼Œå¦‚æœåˆ›å»ºäº†ä»£ç†å¯¹è±¡ï¼Œå³ä½¿ bean æ˜¯å•ä¾‹çš„ï¼Œä¾ç„¶ä¼šå‡ºç°å¾ªç¯ä¾èµ–é—®é¢˜ã€‚</p><h2 id="autowired-å’Œresouce-çš„åŒºåˆ«"><a class="markdownIt-Anchor" href="#autowired-å’Œresouce-çš„åŒºåˆ«"></a> @Autowired å’Œ@Resouce çš„åŒºåˆ«</h2><p>@Autowired åŠŸèƒ½è™½è¯´éå¸¸å¼ºå¤§ï¼Œä½†æ˜¯ä¹Ÿæœ‰äº›ä¸è¶³ä¹‹å¤„ã€‚æ¯”å¦‚ï¼šæ¯”å¦‚å®ƒè·Ÿ spring å¼ºè€¦åˆäº†ï¼Œå¦‚æœæ¢æˆäº† JFinal ç­‰å…¶ä»–æ¡†æ¶ï¼ŒåŠŸèƒ½å°±ä¼šå¤±æ•ˆã€‚è€Œ@Resource æ˜¯ JSR-250 æä¾›çš„ï¼Œå®ƒæ˜¯ Java æ ‡å‡†ï¼Œç»å¤§éƒ¨åˆ†æ¡†æ¶éƒ½æ”¯æŒã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæœ‰äº›åœºæ™¯ä½¿ç”¨@Autowired æ— æ³•æ»¡è¶³çš„è¦æ±‚ï¼Œæ”¹æˆ@Resource å´èƒ½è§£å†³é—®é¢˜ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é‡ç‚¹çœ‹çœ‹@Autowired å’Œ@Resource çš„åŒºåˆ«ã€‚</p><ul><li>@Autowired é»˜è®¤æŒ‰ byType è‡ªåŠ¨è£…é…ï¼Œè€Œ@Resource é»˜è®¤ byName è‡ªåŠ¨è£…é…ã€‚</li><li>@Autowired åªåŒ…å«ä¸€ä¸ªå‚æ•°ï¼šrequiredï¼Œè¡¨ç¤ºæ˜¯å¦å¼€å¯è‡ªåŠ¨å‡†å…¥ï¼Œé»˜è®¤æ˜¯ trueã€‚è€Œ@Resource åŒ…å«ä¸ƒä¸ªå‚æ•°ï¼Œå…¶ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªå‚æ•°æ˜¯ï¼šname å’Œ typeã€‚</li><li>@Autowired å¦‚æœè¦ä½¿ç”¨ byNameï¼Œéœ€è¦ä½¿ç”¨@Qualifier ä¸€èµ·é…åˆã€‚è€Œ@Resource å¦‚æœæŒ‡å®šäº† nameï¼Œåˆ™ç”¨ byName è‡ªåŠ¨è£…é…ï¼Œå¦‚æœæŒ‡å®šäº† typeï¼Œåˆ™ç”¨ byType è‡ªåŠ¨è£…é…ã€‚</li><li>@Autowired èƒ½å¤Ÿç”¨åœ¨ï¼šæ„é€ å™¨ã€æ–¹æ³•ã€å‚æ•°ã€æˆå‘˜å˜é‡å’Œæ³¨è§£ä¸Šï¼Œè€Œ@Resource èƒ½ç”¨åœ¨ï¼šç±»ã€æˆå‘˜å˜é‡å’Œæ–¹æ³•ä¸Šã€‚</li><li>@Autowired æ˜¯ spring å®šä¹‰çš„æ³¨è§£ï¼Œè€Œ@Resource æ˜¯ JSR-250 å®šä¹‰çš„æ³¨è§£ã€‚</li></ul><p>æ­¤å¤–ï¼Œå®ƒä»¬çš„è£…é…é¡ºåºä¸åŒã€‚</p><h3 id="autowired-çš„è£…é…é¡ºåºå¦‚ä¸‹"><a class="markdownIt-Anchor" href="#autowired-çš„è£…é…é¡ºåºå¦‚ä¸‹"></a> <strong>@Autowired çš„è£…é…é¡ºåºå¦‚ä¸‹ï¼š</strong></h3><p><img src="https://unpkg.com/serms-assets@1.0.13/Spring/sdsd.png" alt="img" /></p><p><strong>@Resource çš„è£…é…é¡ºåºå¦‚ä¸‹ï¼š</strong></p><p><strong>1.å¦‚æœåŒæ—¶æŒ‡å®šäº† name å’Œ typeï¼š</strong></p><p><img src="https://unpkg.com/serms-assets@1.0.13/Spring/aasassa.png" alt="img" /></p><p><strong>å¦‚æœæŒ‡å®šäº† name:</strong></p><p><img src="https://unpkg.com/serms-assets@1.0.13/Spring/8644ebf81a4c510f236bccbc57802424d62adc4dfb9aab2.png" alt="img" /></p><p><strong>å¦‚æœæŒ‡å®šäº† typeï¼š</strong></p><p><img src="https://unpkg.com/serms-assets@1.0.13/Spring/342ac65c10385343ed8ea3ad912bd2dbd263fd54e1666998.png" alt="img" /></p><p><strong>å¦‚æœæ—¢æ²¡æœ‰æŒ‡å®š nameï¼Œä¹Ÿæ²¡æœ‰æŒ‡å®š typeï¼š</strong></p><p><img src="https://unpkg.com/serms-assets@1.0.13/Spring/7af40ad162d9f2d385020d6c9e358b8c65c069af359a71ef5.png" alt="img" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;details class=&quot;folding-tag&quot; cyan&gt;&lt;summary&gt; å†™åœ¨å‰é¢å¾—è¯ &lt;/summary&gt;
              &lt;div class=&#39;content&#39;&gt;
              &lt;div class=&quot;note info simple</summary>
      
    
    
    
    <category term="Spring" scheme="https://serms.top/categories/Spring/"/>
    
    <category term="Springæ³¨è§£" scheme="https://serms.top/categories/Spring/Spring%E6%B3%A8%E8%A7%A3/"/>
    
    <category term="Java" scheme="https://serms.top/categories/Java/"/>
    
    
    <category term="Spring" scheme="https://serms.top/tags/Spring/"/>
    
    <category term="Springæ³¨è§£" scheme="https://serms.top/tags/Spring%E6%B3%A8%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºä»€ä¹ˆIDEAä¸æ¨èä½ ä½¿ç”¨@Autowired?</title>
    <link href="https://serms.top/posts/e97079a9/"/>
    <id>https://serms.top/posts/e97079a9/</id>
    <published>2022-04-08T14:59:56.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<p><code>@Autowired</code>æ³¨è§£ç›¸ä¿¡æ¯ä¸ª Spring å¼€å‘è€…éƒ½ä¸é™Œç”Ÿäº†ï¼</p><p>ä½†æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨ IDEA å†™ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šå‘ç°<code>@Autowired</code>æ³¨è§£ä¸‹é¢æ˜¯æœ‰å°é»„çº¿çš„ï¼Œæˆ‘ä»¬æŠŠå°é¼ æ ‡æ‚¬åœåœ¨ä¸Šé¢ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªå¦‚ä¸‹å›¾æ‰€ç¤ºçš„è­¦å‘Šä¿¡æ¯ï¼š</p><p><img src="https://unpkg.com/serms-assets@1.0.12/Spring/242dd42a2834eb844.png" alt="" /></p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆ IDEA ä¼šç»™å‡º<code>Field injection is not recommended</code>è¿™æ ·çš„è­¦å‘Šå‘¢ï¼Ÿ</p><p>ä¸‹é¢å¸¦ç€è¿™æ ·çš„é—®é¢˜ï¼Œä¸€èµ·æ¥å…¨é¢çš„äº†è§£ä¸‹ Spring ä¸­çš„ä¸‰ç§æ³¨å…¥æ–¹å¼ä»¥åŠä»–ä»¬ä¹‹é—´åœ¨å„æ–¹é¢çš„ä¼˜åŠ£ã€‚</p><h2 id="spring-ä¸­çš„ä¸‰ç§ä¾èµ–æ³¨å…¥æ–¹å¼"><a class="markdownIt-Anchor" href="#spring-ä¸­çš„ä¸‰ç§ä¾èµ–æ³¨å…¥æ–¹å¼"></a> Spring ä¸­çš„ä¸‰ç§ä¾èµ–æ³¨å…¥æ–¹å¼</h2><h3 id="field-injection"><a class="markdownIt-Anchor" href="#field-injection"></a> <strong>Field Injection</strong></h3><p><code>@Autowired</code>æ³¨è§£çš„ä¸€å¤§ä½¿ç”¨åœºæ™¯å°±æ˜¯<code>Field Injection</code>ã€‚</p><p>å…·ä½“å½¢å¼å¦‚ä¸‹ï¼š</p><p><img src="https://unpkg.com/serms-assets@1.0.12/Spring/94cad1c8a786c9170784f2ca88ad1939c.png" alt="" /></p><p>è¿™ç§æ³¨å…¥æ–¹å¼é€šè¿‡ Java çš„åå°„æœºåˆ¶å®ç°ï¼Œæ‰€ä»¥ private çš„æˆå‘˜ä¹Ÿå¯ä»¥è¢«æ³¨å…¥å…·ä½“çš„å¯¹è±¡ã€‚</p><h3 id="constructor-injection"><a class="markdownIt-Anchor" href="#constructor-injection"></a> Constructor Injection</h3><p><code>Constructor Injection</code>æ˜¯æ„é€ å™¨æ³¨å…¥ï¼Œæ˜¯æˆ‘ä»¬æ—¥å¸¸æœ€ä¸ºæ¨èçš„ä¸€ç§ä½¿ç”¨æ–¹å¼ã€‚</p><p>å…·ä½“å½¢å¼å¦‚ä¸‹ï¼š</p><p><img src="https://unpkg.com/serms-assets@1.0.12/Spring/2e2eb9389b504fc20e5f6adeb8f58053b8df6d7.png" alt="" /></p><p>è¿™ç§æ³¨å…¥æ–¹å¼å¾ˆç›´æ¥ï¼Œé€šè¿‡å¯¹è±¡æ„å»ºçš„æ—¶å€™å»ºç«‹å…³ç³»ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼å¯¹å¯¹è±¡åˆ›å»ºçš„é¡ºåºä¼šæœ‰è¦æ±‚ï¼Œå½“ç„¶ Spring ä¼šä¸ºä½ æå®šè¿™æ ·çš„å…ˆåé¡ºåºï¼Œé™¤éä½ å‡ºç°å¾ªç¯ä¾èµ–ï¼Œç„¶åå°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p><h3 id="setter-injection"><a class="markdownIt-Anchor" href="#setter-injection"></a> Setter Injection</h3><p><code>Setter Injection</code>ä¹Ÿä¼šç”¨åˆ°<code>@Autowired</code>æ³¨è§£ï¼Œä½†ä½¿ç”¨æ–¹å¼ä¸<code>Field Injection</code>æœ‰æ‰€ä¸åŒï¼Œ<code>Field Injection</code>æ˜¯ç”¨åœ¨æˆå‘˜å˜é‡ä¸Šï¼Œè€Œ<code>Setter Injection</code>çš„æ—¶å€™ï¼Œæ˜¯ç”¨åœ¨æˆå‘˜å˜é‡çš„ Setter å‡½æ•°ä¸Šã€‚</p><p>å…·ä½“å½¢å¼å¦‚ä¸‹ï¼š</p><p><img src="https://unpkg.com/serms-assets@1.0.12/Spring/a08b87d6277f9e2fd1b1ab1c4230882dsee208a50.png" alt="" /></p><p>è¿™ç§æ³¨å…¥æ–¹å¼ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯é€šè¿‡è°ƒç”¨æˆå‘˜å˜é‡çš„ set æ–¹æ³•æ¥æ³¨å…¥æƒ³è¦ä½¿ç”¨çš„ä¾èµ–å¯¹è±¡ã€‚</p><h3 id="ä¸‰ç§ä¾èµ–æ³¨å…¥çš„å¯¹æ¯”"><a class="markdownIt-Anchor" href="#ä¸‰ç§ä¾èµ–æ³¨å…¥çš„å¯¹æ¯”"></a> ä¸‰ç§ä¾èµ–æ³¨å…¥çš„å¯¹æ¯”</h3><p>åœ¨çŸ¥é“äº† Spring æä¾›çš„ä¸‰ç§ä¾èµ–æ³¨å…¥æ–¹å¼ä¹‹åï¼Œæˆ‘ä»¬ç»§ç»­å›åˆ°æœ¬æ–‡å¼€å¤´è¯´åˆ°çš„é—®é¢˜ï¼šIDEA ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨<code>Field Injection</code>å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥ä»å¤šä¸ªå¼€å‘æµ‹è¯•çš„è€ƒå¯Ÿè§’åº¦æ¥å¯¹æ¯”ä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„ä¼˜åŠ£ï¼š</p><p><strong>å¯é æ€§</strong></p><p>ä»å¯¹è±¡æ„å»ºè¿‡ç¨‹å’Œä½¿ç”¨è¿‡ç¨‹ï¼Œçœ‹å¯¹è±¡åœ¨å„é˜¶æ®µçš„ä½¿ç”¨æ˜¯å¦å¯é æ¥è¯„åˆ¤ï¼š</p><ul><li><code>Field Injection</code>ï¼šä¸å¯é </li><li><code>Constructor Injection</code>ï¼šå¯é </li><li><code>Setter Injection</code>ï¼šä¸å¯é </li></ul><p>ç”±äºæ„é€ å‡½æ•°æœ‰ä¸¥æ ¼çš„æ„å»ºé¡ºåºå’Œä¸å¯å˜æ€§ï¼Œä¸€æ—¦æ„å»ºå°±å¯ç”¨ï¼Œä¸”ä¸ä¼šè¢«æ›´æ”¹ã€‚</p><p><strong>å¯ç»´æŠ¤æ€§</strong></p><p>ä¸»è¦ä»æ›´å®¹æ˜“é˜…è¯»ã€åˆ†æä¾èµ–å…³ç³»çš„è§’åº¦æ¥è¯„åˆ¤ï¼š</p><ul><li><code>Field Injection</code>ï¼šå·®</li><li><code>Constructor Injection</code>ï¼šå¥½</li><li><code>Setter Injection</code>ï¼šå·®</li></ul><p>è¿˜æ˜¯ç”±äºä¾èµ–å…³é”®çš„æ˜ç¡®ï¼Œä»æ„é€ å‡½æ•°ä¸­å¯ä»¥æ˜¾ç°çš„åˆ†æå‡ºä¾èµ–å…³ç³»ï¼Œå¯¹äºæˆ‘ä»¬å¦‚ä½•å»è¯»æ‡‚å…³ç³»å’Œç»´æŠ¤å…³ç³»æ›´å‹å¥½ã€‚</p><p><strong>å¯æµ‹è¯•æ€§</strong></p><p>å½“åœ¨å¤æ‚ä¾èµ–å…³ç³»çš„æƒ…å†µä¸‹ï¼Œè€ƒå¯Ÿç¨‹åºæ˜¯å¦æ›´å®¹æ˜“ç¼–å†™å•å…ƒæµ‹è¯•æ¥è¯„åˆ¤</p><ul><li><code>Field Injection</code>ï¼šå·®</li><li><code>Constructor Injection</code>ï¼šå¥½</li><li><code>Setter Injection</code>ï¼šå¥½</li></ul><p><code>Constructor Injection</code>å’Œ<code>Setter Injection</code>çš„æ–¹å¼æ›´å®¹æ˜“ Mock å’Œæ³¨å…¥å¯¹è±¡ï¼Œæ‰€ä»¥æ›´å®¹æ˜“å®ç°å•å…ƒæµ‹è¯•ã€‚</p><p><strong>çµæ´»æ€§</strong></p><p>ä¸»è¦æ ¹æ®å¼€å‘å®ç°æ—¶å€™çš„ç¼–ç çµæ´»æ€§æ¥åˆ¤æ–­ï¼š</p><ul><li><code>Field Injection</code>ï¼šå¾ˆçµæ´»</li><li><code>Constructor Injection</code>ï¼šä¸çµæ´»</li><li><code>Setter Injection</code>ï¼šå¾ˆçµæ´»</li></ul><p>ç”±äº<code>Constructor Injection</code>å¯¹ Bean çš„ä¾èµ–å…³ç³»è®¾è®¡æœ‰ä¸¥æ ¼çš„é¡ºåºè¦æ±‚ï¼Œæ‰€ä»¥è¿™ç§æ³¨å…¥æ–¹å¼ä¸å¤ªçµæ´»ã€‚ç›¸å<code>Field Injection</code>å’Œ<code>Setter Injection</code>å°±éå¸¸çµæ´»ï¼Œä½†ä¹Ÿå› ä¸ºçµæ´»å¸¦æ¥äº†å±€é¢çš„æ··ä¹±ï¼Œä¹Ÿæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚</p><p><strong>å¾ªç¯å…³ç³»çš„æ£€æµ‹</strong></p><p>å¯¹äº Bean ä¹‹é—´æ˜¯å¦å­˜åœ¨å¾ªç¯ä¾èµ–å…³ç³»çš„æ£€æµ‹èƒ½åŠ›ï¼š</p><ul><li><code>Field Injection</code>ï¼šä¸æ£€æµ‹</li><li><code>Constructor Injection</code>ï¼šè‡ªåŠ¨æ£€æµ‹</li><li><code>Setter Injection</code>ï¼šä¸æ£€æµ‹</li></ul><p><strong>æ€§èƒ½è¡¨ç°</strong></p><p>ä¸åŒçš„æ³¨å…¥æ–¹å¼ï¼Œå¯¹æ€§èƒ½çš„å½±å“</p><ul><li><code>Field Injection</code>ï¼šå¯åŠ¨å¿«</li><li><code>Constructor Injection</code>ï¼šå¯åŠ¨æ…¢</li><li><code>Setter Injection</code>ï¼šå¯åŠ¨å¿«</li></ul><p>ä¸»è¦å½±å“å°±æ˜¯å¯åŠ¨æ—¶é—´ï¼Œç”±äº<code>Constructor Injection</code>æœ‰ä¸¥æ ¼çš„é¡ºåºè¦æ±‚ï¼Œæ‰€ä»¥ä¼šæ‹‰é•¿å¯åŠ¨æ—¶é—´ã€‚</p><p>æ‰€ä»¥ï¼Œç»¼åˆä¸Šé¢å„æ–¹é¢çš„æ¯”è¾ƒï¼Œå¯ä»¥è·å¾—å¦‚ä¸‹è¡¨æ ¼ï¼š</p><p><img src="https://unpkg.com/serms-assets@1.0.12/Spring/sc99aef1ea6ee7a3a703ba.png" alt="" /></p><p>ç»“æœä¸€ç›®äº†ç„¶ï¼Œ<code>Constructor Injection</code>åœ¨å¾ˆå¤šæ–¹é¢éƒ½æ˜¯ä¼˜äºå…¶ä»–ä¸¤ç§æ–¹å¼çš„ï¼Œæ‰€ä»¥<code>Constructor Injection</code>é€šå¸¸éƒ½æ˜¯é¦–é€‰æ–¹æ¡ˆï¼</p><p>è€Œ<code>Setter Injection</code>æ¯”èµ·<code>Field Injection</code>æ¥è¯´ï¼Œå¤§éƒ¨åˆ†éƒ½ä¸€æ ·ï¼Œä½†å› ä¸ºå¯æµ‹è¯•æ€§æ›´å¥½ï¼Œæ‰€ä»¥å½“ä½ è¦ç”¨<code>@Autowired</code>çš„æ—¶å€™ï¼Œæ¨èä½¿ç”¨<code>Setter Injection</code>çš„æ–¹å¼ï¼Œè¿™æ · IDEA ä¹Ÿä¸ä¼šç»™å‡ºè­¦å‘Šäº†ã€‚åŒæ—¶ï¼Œä¹Ÿä¾§é¢ä¹Ÿåæ˜ äº†ï¼Œå¯æµ‹è¯•æ€§çš„é‡è¦åœ°ä½å•Šï¼</p><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><p>æœ€åï¼Œå¯¹äºä»Šå¤©çš„é—®é¢˜è®¨è®ºï¼Œæˆ‘ä»¬ç»™å‡ºä¸¤ä¸ªç»“è®ºï¼Œæ–¹ä¾¿å¤§å®¶è®°å¿†ï¼š</p><ol><li>ä¾èµ–æ³¨å…¥çš„ä½¿ç”¨ä¸Šï¼Œ<code>Constructor Injection</code>æ˜¯é¦–é€‰ã€‚</li><li>ä½¿ç”¨<code>@Autowired</code>æ³¨è§£çš„æ—¶å€™ï¼Œè¦ä½¿ç”¨<code>Setter Injection</code>æ–¹å¼ï¼Œè¿™æ ·ä»£ç æ›´å®¹æ˜“ç¼–å†™å•å…ƒæµ‹è¯•ã€‚</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;code&gt;@Autowired&lt;/code&gt;æ³¨è§£ç›¸ä¿¡æ¯ä¸ª Spring å¼€å‘è€…éƒ½ä¸é™Œç”Ÿäº†ï¼&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨ IDEA å†™ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šå‘ç°&lt;code&gt;@Autowired&lt;/code&gt;æ³¨è§£ä¸‹é¢æ˜¯æœ‰å°é»„çº¿çš„ï¼Œæˆ‘ä»¬æŠŠå°é¼ æ ‡æ‚¬åœåœ¨ä¸Šé¢ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªå¦‚ä¸‹å›¾æ‰€ç¤ºçš„</summary>
      
    
    
    
    <category term="å¥‡æ€ªçš„çŸ¥è¯†" scheme="https://serms.top/categories/%E5%A5%87%E6%80%AA%E7%9A%84%E7%9F%A5%E8%AF%86/"/>
    
    <category term="ä¸ºä»€ä¹ˆIDEAä¸æ¨èä½ ä½¿ç”¨@Autowired?" scheme="https://serms.top/categories/%E5%A5%87%E6%80%AA%E7%9A%84%E7%9F%A5%E8%AF%86/%E4%B8%BA%E4%BB%80%E4%B9%88IDEA%E4%B8%8D%E6%8E%A8%E8%8D%90%E4%BD%A0%E4%BD%BF%E7%94%A8-Autowired/"/>
    
    
    <category term="å¥‡æ€ªçš„çŸ¥è¯†" scheme="https://serms.top/tags/%E5%A5%87%E6%80%AA%E7%9A%84%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>Springæ³¨è§£-Configurationæ³¨è§£ä½¿ç”¨</title>
    <link href="https://serms.top/posts/1d0508a6/"/>
    <id>https://serms.top/posts/1d0508a6/</id>
    <published>2022-04-07T14:32:04.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<h2 id="configuration-çš„ä½¿ç”¨"><a class="markdownIt-Anchor" href="#configuration-çš„ä½¿ç”¨"></a> <a href="https://hgm.vercel.app/post/1d0508a6/">@Configuration çš„ä½¿ç”¨</a></h2><p>ä» Spring3.0ï¼Œ@Configuration ç”¨äºå®šä¹‰é…ç½®ç±»ï¼Œå¯æ›¿æ¢ xml é…ç½®æ–‡ä»¶ï¼Œè¢«æ³¨è§£çš„ç±»å†…éƒ¨åŒ…å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¢«@Bean æ³¨è§£çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å°†ä¼šè¢« AnnotationConfigApplicationContext æˆ– AnnotationConfigWebApplicationContext ç±»è¿›è¡Œæ‰«æï¼Œå¹¶ç”¨äºæ„å»º bean å®šä¹‰ï¼Œåˆå§‹åŒ– Spring å®¹å™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨äº†è¿™ä¸ªæ³¨è§£å®Œå…¨ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»é…ç½®<code>applicationContext.xml</code>äº†</p><p><strong>æ³¨æ„</strong>ï¼š@Configuration æ³¨è§£çš„é…ç½®ç±»æœ‰å¦‚ä¸‹è¦æ±‚ï¼š</p><ol><li>@Configuration ä¸å¯ä»¥æ˜¯ final ç±»å‹ï¼›</li><li>@Configuration ä¸å¯ä»¥æ˜¯åŒ¿åç±»ï¼›</li><li>åµŒå¥—çš„ configuration å¿…é¡»æ˜¯é™æ€ç±»ã€‚</li></ol><p><strong>@Configuation åŠ è½½ Spring æ–¹æ³•</strong></p><h2 id="configuration-é…ç½®-spring-å¹¶å¯åŠ¨-spring-å®¹å™¨"><a class="markdownIt-Anchor" href="#configuration-é…ç½®-spring-å¹¶å¯åŠ¨-spring-å®¹å™¨"></a> @Configuration é…ç½® spring å¹¶å¯åŠ¨ spring å®¹å™¨</h2><p>@Configuration æ ‡æ³¨åœ¨ç±»ä¸Šï¼Œç›¸å½“äºæŠŠè¯¥ç±»ä½œä¸º spring çš„ xml é…ç½®æ–‡ä»¶ä¸­çš„<code>&lt;beans&gt;</code>ï¼Œä½œç”¨ä¸ºï¼šé…ç½® spring å®¹å™¨(åº”ç”¨ä¸Šä¸‹æ–‡)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ms.demo.configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/7 22:43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç©ºå‚æ„é€ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TestConfiguration</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestConfigurationå®¹å™¨å¯åŠ¨åˆå§‹åŒ–ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç›¸å½“äº Spring çš„ xml é…ç½®æ–‡ä»¶:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸»æ–¹æ³•è¿›è¡Œæµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.ms.demo.configuration.TestConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/7 22:46</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestMain</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// @Configurationæ³¨è§£çš„springå®¹å™¨åŠ è½½æ–¹å¼ï¼Œç”¨AnnotationConfigApplicationContextæ›¿æ¢ClassPathXmlApplicationContext</span></span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(TestConfiguration.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœåŠ è½½spring-context.xmlæ–‡ä»¶ï¼š</span></span><br><span class="line">        <span class="comment">// ApplicationContext context = new</span></span><br><span class="line">        <span class="comment">// ClassPathXmlApplicationContext(&quot;spring-context.xml&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä»è¿è¡Œä¸»æ–¹æ³•ç»“æœå¯ä»¥çœ‹å‡ºï¼Œspring å®¹å™¨å·²ç»å¯åŠ¨äº†ï¼š</p><p><img src="https://unpkg.com/serms-assets@1.0.11/Spring/image-20220407224716063.png" alt="" /></p><h2 id="configuration-å¯åŠ¨å®¹å™¨bean-æ³¨å†Œ-beanbean-ä¸‹ç®¡ç†-bean-çš„ç”Ÿå‘½å‘¨æœŸ"><a class="markdownIt-Anchor" href="#configuration-å¯åŠ¨å®¹å™¨bean-æ³¨å†Œ-beanbean-ä¸‹ç®¡ç†-bean-çš„ç”Ÿå‘½å‘¨æœŸ"></a> @Configuration å¯åŠ¨å®¹å™¨+@Bean æ³¨å†Œ Beanï¼Œ@Bean ä¸‹ç®¡ç† bean çš„ç”Ÿå‘½å‘¨æœŸ</h2><p>@Bean æ ‡æ³¨åœ¨æ–¹æ³•ä¸Š(è¿”å›æŸä¸ªå®ä¾‹çš„æ–¹æ³•)ï¼Œç­‰ä»·äº spring çš„ xml é…ç½®æ–‡ä»¶ä¸­çš„<code>&lt;bean&gt;</code>ï¼Œä½œç”¨ä¸ºï¼šæ³¨å†Œ bean å¯¹è±¡</p><p>bean ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ms.demo.configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/7 22:49</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestBean</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sayHello</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestBean sayHello...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;username:&quot;</span> + <span class="built_in">this</span>.username + <span class="string">&quot;,url:&quot;</span> + <span class="built_in">this</span>.url + <span class="string">&quot;,password:&quot;</span> + <span class="built_in">this</span>.password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestBean åˆå§‹åŒ–ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cleanUp</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestBean é”€æ¯ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é…ç½®ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ms.demo.configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/7 22:43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç©ºå‚æ„é€ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TestConfiguration</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestConfigurationå®¹å™¨å¯åŠ¨åˆå§‹åŒ–ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @Beanæ³¨è§£æ³¨å†Œbean,åŒæ—¶å¯ä»¥æŒ‡å®šåˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// @Bean(name=&quot;testBean&quot;,initMethod=&quot;start&quot;,destroyMethod=&quot;cleanUp&quot;)</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Scope(&quot;prototype&quot;)</span>     <span class="comment">//é…ç½®ä½œç”¨åŸŸ,é»˜è®¤:singletonå•ä¾‹æ¨¡å¼ ;prototype:åŒä¾‹æ¨¡å¼,ä¿è¯æ¯æ¬¡è¯·æ±‚éƒ½åˆ›å»ºä¸€æ¬¡å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> TestBean <span class="title function_">testBean</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TestBean</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸»æ–¹æ³•æµ‹è¯•ç±»:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ms.demo.configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestMain</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// @Configurationæ³¨è§£çš„springå®¹å™¨åŠ è½½æ–¹å¼ï¼Œç”¨AnnotationConfigApplicationContextæ›¿æ¢ClassPathXmlApplicationContext</span></span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(TestConfiguration.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœåŠ è½½spring-context.xmlæ–‡ä»¶ï¼š</span></span><br><span class="line">        <span class="comment">// ApplicationContext context = new</span></span><br><span class="line">        <span class="comment">// ClassPathXmlApplicationContext(&quot;spring-context.xml&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–bean</span></span><br><span class="line">        <span class="type">TestBean</span> <span class="variable">tb</span> <span class="operator">=</span> (TestBean) context.getBean(<span class="string">&quot;testBean&quot;</span>);</span><br><span class="line">        tb.sayHello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœ:</p><p><img src="https://unpkg.com/serms-assets@1.0.11/Spring/image-20220407225446317.png" alt="" /></p><p>æ³¨ï¼š<br />(1)ã€@Bean æ³¨è§£åœ¨è¿”å›å®ä¾‹çš„æ–¹æ³•ä¸Šï¼Œå¦‚æœæœªé€šè¿‡@Bean æŒ‡å®š bean çš„åç§°ï¼Œåˆ™é»˜è®¤ä¸æ ‡æ³¨çš„æ–¹æ³•åç›¸åŒï¼›<br />(2)ã€@Bean æ³¨è§£é»˜è®¤ä½œç”¨åŸŸä¸ºå•ä¾‹ singleton ä½œç”¨åŸŸï¼Œå¯é€šè¿‡@Scope(â€œprototypeâ€)è®¾ç½®ä¸ºåŸå‹ä½œç”¨åŸŸï¼›<br />(3)ã€æ—¢ç„¶@Bean çš„ä½œç”¨æ˜¯æ³¨å†Œ bean å¯¹è±¡ï¼Œé‚£ä¹ˆå®Œå…¨å¯ä»¥ä½¿ç”¨@Componentã€@Controllerã€@Serviceã€@Ripository ç­‰æ³¨è§£æ³¨å†Œ beanï¼Œå½“ç„¶éœ€è¦é…ç½®@ComponentScan æ³¨è§£è¿›è¡Œè‡ªåŠ¨æ‰«æã€‚</p><h2 id="bean-ä¸‹ç®¡ç†-bean-çš„ç”Ÿå‘½å‘¨æœŸ"><a class="markdownIt-Anchor" href="#bean-ä¸‹ç®¡ç†-bean-çš„ç”Ÿå‘½å‘¨æœŸ"></a> <strong>@Bean ä¸‹ç®¡ç† bean çš„ç”Ÿå‘½å‘¨æœŸ</strong></h2><p>å¯ä»¥ä½¿ç”¨åŸºäº Java çš„é…ç½®æ¥ç®¡ç† bean çš„ç”Ÿå‘½å‘¨æœŸã€‚<code>@Bean</code> æ”¯æŒä¸¤ç§å±æ€§ï¼Œå³ <code>initMethod</code> å’Œ<code>destroyMethod</code>ï¼Œè¿™äº›å±æ€§å¯ç”¨äºå®šä¹‰ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚åœ¨å®ä¾‹åŒ– bean æˆ–å³å°†é”€æ¯å®ƒæ—¶ï¼Œå®¹å™¨ä¾¿å¯è°ƒç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¹Ÿç§°ä¸ºå›è°ƒæ–¹æ³•ï¼Œå› ä¸ºå®ƒå°†ç”±å®¹å™¨è°ƒç”¨ã€‚ä½¿ç”¨ <code>@Bean</code> æ³¨é‡Šæ³¨å†Œçš„ bean ä¹Ÿæ”¯æŒ JSR-250 è§„å®šçš„æ ‡å‡† <code>@PostConstruct</code> å’Œ <code>@PreDestroy</code> æ³¨é‡Šã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ XML æ–¹æ³•æ¥å®šä¹‰ beanï¼Œé‚£ä¹ˆå°±åº”è¯¥ä½¿ç”¨ bean å…ƒç´ æ¥å®šä¹‰ç”Ÿå‘½å‘¨æœŸå›è°ƒæ–¹æ³•ã€‚ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†åœ¨ XML é…ç½®ä¸­é€šå¸¸ä½¿ç”¨ bean å…ƒç´ å®šä¹‰å›è°ƒçš„æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ms.demo.configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/7 22:43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç©ºå‚æ„é€ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TestConfiguration</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestConfigurationå®¹å™¨å¯åŠ¨åˆå§‹åŒ–ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @Beanæ³¨è§£æ³¨å†Œbean,åŒæ—¶å¯ä»¥æŒ‡å®šåˆå§‹åŒ–å’Œé”€æ¯æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Bean(name=&quot;testBean&quot;,initMethod=&quot;start&quot;,destroyMethod=&quot;cleanUp&quot;)</span></span><br><span class="line">    <span class="meta">@Scope(&quot;prototype&quot;)</span>     <span class="comment">//é…ç½®ä½œç”¨åŸŸ,é»˜è®¤:singletonå•ä¾‹æ¨¡å¼ ;prototype:åŒä¾‹æ¨¡å¼,ä¿è¯æ¯æ¬¡è¯·æ±‚éƒ½åˆ›å»ºä¸€æ¬¡å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> TestBean <span class="title function_">testBean</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TestBean</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯åŠ¨ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.ms.demo.configuration.TestBean;</span><br><span class="line"><span class="keyword">import</span> com.ms.demo.configuration.TestConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/7 22:46</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestMain</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// @Configurationæ³¨è§£çš„springå®¹å™¨åŠ è½½æ–¹å¼ï¼Œç”¨AnnotationConfigApplicationContextæ›¿æ¢ClassPathXmlApplicationContext</span></span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(TestConfiguration.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœåŠ è½½spring-context.xmlæ–‡ä»¶ï¼š</span></span><br><span class="line">        <span class="comment">// ApplicationContext context = new</span></span><br><span class="line">        <span class="comment">// ClassPathXmlApplicationContext(&quot;spring-context.xml&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–bean</span></span><br><span class="line">        <span class="type">TestBean</span> <span class="variable">tb</span> <span class="operator">=</span> (TestBean) context.getBean(<span class="string">&quot;testBean&quot;</span>);</span><br><span class="line">        tb.sayHello();</span><br><span class="line">        System.out.println(tb);</span><br><span class="line"></span><br><span class="line">        <span class="type">TestBean</span> <span class="variable">tb2</span> <span class="operator">=</span> (TestBean) context.getBean(<span class="string">&quot;testBean&quot;</span>);</span><br><span class="line">        tb2.sayHello();</span><br><span class="line">        System.out.println(tb2);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç»“æœ:</p><p><img src="https://unpkg.com/serms-assets@1.0.11/Spring/image-20220407230933661.png" alt="" /></p><h2 id="configuration-å¯åŠ¨å®¹å™¨component-æ³¨å†Œ-bean"><a class="markdownIt-Anchor" href="#configuration-å¯åŠ¨å®¹å™¨component-æ³¨å†Œ-bean"></a> @Configuration å¯åŠ¨å®¹å™¨+@Component æ³¨å†Œ Bean</h2><p>Bean ç±»:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ms.demo.configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/7 22:49</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//æ·»åŠ æ³¨å†ŒBeançš„æ³¨è§£</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestBean</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sayHello</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestBean sayHello...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;username:&quot;</span> + <span class="built_in">this</span>.username + <span class="string">&quot;,url:&quot;</span> + <span class="built_in">this</span>.url + <span class="string">&quot;,password:&quot;</span> + <span class="built_in">this</span>.password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestBean åˆå§‹åŒ–ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cleanUp</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestBean é”€æ¯ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é…ç½®ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.ms.demo.configuration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Scope;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/7 22:43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//æ·»åŠ è‡ªåŠ¨æ‰«ææ³¨è§£ï¼ŒbasePackagesä¸ºTestBeanåŒ…è·¯å¾„,ä¹Ÿå°±æ˜¯è®©SpringIOCå®¹å™¨æ‰«æåˆ°åˆšåˆšæ·»åŠ @Componentçš„Beanç±»</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &quot;com.ms.demo.configuration&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç©ºå‚æ„é€ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TestConfiguration</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;TestConfigurationå®¹å™¨å¯åŠ¨åˆå§‹åŒ–ã€‚ã€‚ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸»æ–¹æ³•æµ‹è¯•è·å– bean å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.ms.demo.configuration.TestBean;</span><br><span class="line"><span class="keyword">import</span> com.ms.demo.configuration.TestConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/7 22:46</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestMain</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// @Configurationæ³¨è§£çš„springå®¹å™¨åŠ è½½æ–¹å¼ï¼Œç”¨AnnotationConfigApplicationContextæ›¿æ¢ClassPathXmlApplicationContext</span></span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(TestConfiguration.class);</span><br><span class="line">        <span class="comment">//è·å–bean</span></span><br><span class="line">        <span class="type">TestBean</span> <span class="variable">tb</span> <span class="operator">=</span> (TestBean) context.getBean(<span class="string">&quot;testBean&quot;</span>);</span><br><span class="line">        tb.sayHello();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>sayHello()æ–¹æ³•éƒ½è¢«æ­£å¸¸è°ƒç”¨ã€‚</p><p><img src="https://unpkg.com/serms-assets@1.0.11/Spring/image-20220407231701864.png" alt="" /></p><h2 id="ä½¿ç”¨-annotationconfigapplicationcontext-æ³¨å†Œ-appcontext-ç±»çš„ä¸¤ç§æ–¹æ³•"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-annotationconfigapplicationcontext-æ³¨å†Œ-appcontext-ç±»çš„ä¸¤ç§æ–¹æ³•"></a> <strong>ä½¿ç”¨ AnnotationConfigApplicationContext æ³¨å†Œ AppContext ç±»çš„ä¸¤ç§æ–¹æ³•</strong></h2><ol><li>é…ç½®ç±»çš„æ³¨å†Œæ–¹å¼æ˜¯å°†å…¶ä¼ é€’ç»™ <code>AnnotationConfigApplicationContext</code> æ„é€ å‡½æ•°</li></ol><p><img src="https://unpkg.com/serms-assets@1.0.11/Spring/image-20220407232200976.png" alt="" /></p><ol start="2"><li><code>AnnotationConfigApplicationContext</code> çš„<code>register</code> æ–¹æ³•ä¼ å…¥é…ç½®ç±»æ¥æ³¨å†Œé…ç½®ç±»</li></ol><p><img src="https://unpkg.com/serms-assets@1.0.11/Spring/image-20220407232908741.png" alt="" /></p><h2 id="configuation-æ€»ç»“"><a class="markdownIt-Anchor" href="#configuation-æ€»ç»“"></a> @Configuation æ€»ç»“</h2><p>@Configuation ç­‰ä»·äº<code>&lt;Beans&gt;&lt;/Beans&gt;</code></p><p>@Bean ç­‰ä»·äº<code>&lt;Bean&gt;&lt;/Bean&gt;</code></p><p>@ComponentScan ç­‰ä»·äº<code>&lt;context:component-scan base-package=&quot;com.ms.demo&quot;/&gt;</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;configuration-çš„ä½¿ç”¨&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#configuration-çš„ä½¿ç”¨&quot;&gt;&lt;/a&gt; &lt;a href=&quot;https://hgm.vercel.app/post/1d0508a6/&quot;&gt;@Conf</summary>
      
    
    
    
    <category term="Spring" scheme="https://serms.top/categories/Spring/"/>
    
    <category term="Springæ³¨è§£" scheme="https://serms.top/categories/Spring/Spring%E6%B3%A8%E8%A7%A3/"/>
    
    <category term="Java" scheme="https://serms.top/categories/Java/"/>
    
    
    <category term="Spring" scheme="https://serms.top/tags/Spring/"/>
    
    <category term="Springæ³¨è§£" scheme="https://serms.top/tags/Spring%E6%B3%A8%E8%A7%A3/"/>
    
    <category term="Java" scheme="https://serms.top/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Springå…¨å®¶æ¡¶æ³¨è§£è§£æ(æŒç»­è·Ÿæ–°ing~)</title>
    <link href="https://serms.top/posts/3d190b4f/"/>
    <id>https://serms.top/posts/3d190b4f/</id>
    <published>2022-04-07T12:38:34.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<div class="tip home"><p>åœ¨æ¢ç©¶æ³¨è§£å‰å…ˆäº†è§£ä¸€ä¸‹æ³¨è§£,ä½•ä¸ºæ³¨è§£ï¼Ÿæ³¨è§£æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç±»ï¼Œå¼€å‘ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³¨è§£ å–ä»£ <a href="https://so.csdn.net/so/search?q=xml&amp;spm=1001.2101.3001.7020">xml</a>é…ç½®æ–‡ä»¶ã€‚</p></div><p><strong>æ³¨æ„:åœ¨ä½¿ç”¨æ³¨è§£å¼€å‘æ—¶,è¯·æŸ¥çœ‹å¯¹åº”çš„æ¡†æ¶æ˜¯å¦éœ€è¦å¼€å¯æ³¨è§£æ”¯æŒ,å¦åˆ™ç”¨äº†æ³¨è§£ä¹Ÿæ— æ•ˆ!!!</strong></p><h2 id="ioc-å®¹å™¨ç›¸å…³"><a class="markdownIt-Anchor" href="#ioc-å®¹å™¨ç›¸å…³"></a> IOC å®¹å™¨ç›¸å…³</h2><h3 id="componen"><a class="markdownIt-Anchor" href="#componen"></a> @Componen:</h3><details class="folding-tag" yellow><summary> @Componentæ³¨è§£ </summary>              <div class='content'>              <blockquote><p><code>@component(value)</code>:ç”¨äºåˆ›å»ºå¯¹è±¡çš„,ä½œç”¨äºç±».</p><p><code>value</code>ï¼šæŒ‡å®š bean çš„ idã€‚å¦‚æœä¸æŒ‡å®š value å±æ€§ï¼Œé»˜è®¤ bean çš„ id æ˜¯å½“å‰ç±»çš„ç±»åã€‚é¦–å­—æ¯å°å†™ã€‚</p><p><code>@component</code>æ˜¯ spring ä¸­çš„ä¸€ä¸ªæ³¨è§£ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯å®ç° bean çš„æ³¨å…¥,ä»£æ›¿äº†ä¼ ç»Ÿçš„ xml æ–¹å¼æ³¨å…¥ bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@Componentç»„ä»¶ ç­‰ä»·äº:&lt;bean id=&quot;user&quot; class=&quot;com.ms.pojo.User&quot;/&gt;</span></span><br><span class="line"><span class="comment">//ä¹Ÿè¯´æ˜è¿™ä¸ªç±»è¢«Springæ¥ç®¡äº†,æ³¨å†Œåˆ°äº†å®¹å™¨ä¸­</span></span><br><span class="line"><span class="meta">@Component(&quot;user&quot;)</span><span class="comment">//(&quot;user&quot;)å…¶å®å°±æ˜¯Bean id</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">   è¿™é‡Œçœç•¥ä»£ç .....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>åœ¨ web å¼€å‘ä¸­ï¼Œä¼šæŒ‰ç…§ MVC ä¸‰å±‚æ¶æ„åˆ†å±‚ï¼æä¾› 3 ä¸ª<code>@Component</code>æ³¨è§£è¡ç”Ÿæ³¨è§£ï¼ˆåŠŸèƒ½ä¸€æ ·ï¼‰æ¥å–ä»£,å…¶å®å°±æ˜¯æ›´åŠ è¯­ä¹‰åŒ–</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">controlleræ³¨è§£</button></li><li class="tab"><button type="button" data-href="#-2">serviceæ³¨è§£</button></li><li class="tab"><button type="button" data-href="#-3">repositoryæ³¨è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>@controller æ§åˆ¶å™¨ï¼ˆè¡¨ç°å±‚æ³¨è§£ï¼‰<br />ç”¨äºæ ‡æ³¨æ§åˆ¶å±‚ï¼Œç›¸å½“äº MVC å±‚ä¸­çš„ web å±‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller(&quot;userCotroller&quot;)</span><span class="comment">//valueç›¸å½“äºBeanä¸­çš„id</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>@service æœåŠ¡ï¼ˆä¸šåŠ¡å±‚æ³¨è§£ï¼‰<br />ç”¨äºæ ‡æ³¨æœåŠ¡å±‚ï¼Œä¸»è¦ç”¨æ¥è¿›è¡Œä¸šåŠ¡çš„é€»è¾‘å¤„ç†,ç›¸å½“äº MVC å±‚ä¸­çš„ service å±‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service(&quot;userService&quot;)</span><span class="comment">//valueç›¸å½“äºBeanä¸­çš„id</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p>@repositoryï¼ˆæŒä¹…å±‚æ³¨è§£ï¼‰<br />ç”¨äºæ ‡æ³¨æ•°æ®è®¿é—®å±‚ï¼Œä¹Ÿå¯ä»¥è¯´ç”¨äºæ ‡æ³¨æ•°æ®è®¿é—®ç»„ä»¶ï¼Œå³ DAO ç»„ä»¶,ç›¸å½“äº MVC å±‚ä¸­çš„ dao å±‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository(&quot;userDao&quot;)</span> <span class="comment">//valueç›¸å½“äºBeanä¸­çš„id</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><blockquote><p>æ€»ç»“:</p><p>@Component ç”¨äºæŠŠå½“å‰æ–¹æ³•çš„è¿”å›å€¼ä½œä¸º bean å¯¹è±¡å­˜å…¥ spring çš„ ioc å®¹å™¨ä¸­<br />å±æ€§: value:ç”¨äºæŒ‡å®š bean çš„ idã€‚å½“ä¸å†™æ—¶ï¼Œé»˜è®¤å€¼æ˜¯å½“å‰æ–¹æ³•çš„åç§°<br />ç»†èŠ‚ï¼šå½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£é…ç½®æ–¹æ³•æ—¶ï¼Œå¦‚æœæ–¹æ³•æœ‰å‚æ•°ï¼Œspring æ¡†æ¶ä¼šå»å®¹å™¨ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å¯ç”¨çš„ bean å¯¹è±¡ã€‚<br />æŸ¥æ‰¾çš„æ–¹å¼å’Œ Autowired æ³¨è§£çš„ä½œç”¨æ˜¯ä¸€æ ·çš„</p></blockquote>              </div>            </details><h2 id="ç”¨äºæ³¨å…¥æ•°æ®"><a class="markdownIt-Anchor" href="#ç”¨äºæ³¨å…¥æ•°æ®"></a> <strong>ç”¨äºæ³¨å…¥æ•°æ®</strong></h2><h3 id="autowiredqualifierresourcevalue"><a class="markdownIt-Anchor" href="#autowiredqualifierresourcevalue"></a> @Autowired&amp;@Qualifier&amp;@Resource&amp;@Value</h3><details class="folding-tag" cyan><summary> @Autowired&@Qualifier&@Resource&@Value </summary>              <div class='content'>              <div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">Autowiredæ³¨è§£</button></li><li class="tab"><button type="button" data-href="#-2">Qualifieræ³¨è§£</button></li><li class="tab"><button type="button" data-href="#-3">Resourceæ³¨è§£</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><div class="tag link"><a class="link-card" title="Autowired æ³¨è§£ä½¿ç”¨" href="https://serms.top/post/7047b0e7/"><div class="left"><img src="https://serms.top/img/favicon.png"/></div><div class="right"><p class="text">Autowired æ³¨è§£ä½¿ç”¨</p><p class="url">https://serms.top/post/7047b0e7/</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>è¿™æ˜¯å®˜æ–¹çš„ä»‹ç»:</p><blockquote><p>This annotation may be used on a field or parameter as a qualifier for<br />candidate beans when autowiring. It may also be used to annotate other<br />custom annotations that can then in turn be used as qualifiers.</p></blockquote><p>ç®€å•çš„ç†è§£å°±æ˜¯ï¼š<br />ï¼ˆ1ï¼‰åœ¨ä½¿ç”¨@Autowire è‡ªåŠ¨æ³¨å…¥çš„æ—¶å€™ï¼ŒåŠ ä¸Š<code>@Qualifier(â€œtestâ€)</code>å¯ä»¥æŒ‡å®šæ³¨å…¥å“ªä¸ªå¯¹è±¡ï¼›<br />ï¼ˆ2ï¼‰å¯ä»¥ä½œä¸ºç­›é€‰çš„é™å®šç¬¦ï¼Œæˆ‘ä»¬åœ¨åšè‡ªå®šä¹‰æ³¨è§£æ—¶å¯ä»¥åœ¨å…¶å®šä¹‰ä¸Šå¢åŠ @Qualifierï¼Œç”¨æ¥ç­›é€‰éœ€è¦çš„å¯¹è±¡ã€‚è¿™ä¸ªç†è§£çœ‹ä¸‹é¢çš„ä»£ç å§ï¼Œä¸å¥½è§£é‡Šã€‚</p><p><strong>åŠŸèƒ½ä»‹ç»</strong></p><ol><li><p><strong>é¦–å…ˆæ˜¯å¯¹ï¼ˆ1ï¼‰çš„ç†è§£ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªTestClasså¯¹è±¡ï¼Œåˆ†åˆ«æ˜¯testClass1å’ŒtestClass2</span></span><br><span class="line"><span class="comment">//æˆ‘ä»¬å¦‚æœåœ¨å¦å¤–ä¸€ä¸ªå¯¹è±¡ä¸­ç›´æ¥ä½¿ç”¨@Autowireå»æ³¨å…¥çš„è¯ï¼Œspringè‚¯å®šä¸çŸ¥é“ä½¿ç”¨å“ªä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment">//ä¼šæ’é™¤å¼‚å¸¸ required a single bean, but 2 were found</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestConfiguration</span> &#123;</span><br><span class="line">    <span class="meta">@Bean(&quot;testClass1&quot;)</span></span><br><span class="line">    TestClass <span class="title function_">testClass1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TestClass</span>(<span class="string">&quot;TestClass1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean(&quot;testClass2&quot;)</span></span><br><span class="line">    TestClass <span class="title function_">testClass2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TestClass</span>(<span class="string">&quot;TestClass2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æ­£å¸¸çš„å¼•ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ­¤æ—¶è¿™ä¸¤ä¸ªæ³¨è§£çš„è¿ç”¨å°±ç±»ä¼¼ @Resource(name=&quot;testClass1&quot;)</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;testClass1&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> TestClass testClass;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> testClassList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>@Autowired å’Œ@Qualifier è¿™ä¸¤ä¸ªæ³¨è§£çš„è¿ç”¨åœ¨è¿™ä¸ªä½ç½®å°±ç±»ä¼¼ @Resource(name=â€œtestClass1â€)</p></li><li><p><strong>å¯¹(2)çš„ç†è§£</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestConfiguration</span> &#123;</span><br><span class="line">    <span class="comment">//æˆ‘ä»¬è°ƒæ•´ä¸‹åœ¨testClass1ä¸Šå¢åŠ @Qualifieræ³¨è§£</span></span><br><span class="line">    <span class="meta">@Qualifier</span></span><br><span class="line">    <span class="meta">@Bean(&quot;testClass1&quot;)</span></span><br><span class="line">    TestClass <span class="title function_">testClass1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TestClass</span>(<span class="string">&quot;TestClass1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(&quot;testClass2&quot;)</span></span><br><span class="line">    TestClass <span class="title function_">testClass2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TestClass</span>(<span class="string">&quot;TestClass2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line">    <span class="comment">//æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ä¸€ä¸ªlistå»æ¥æ”¶testClassçš„å¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    List&lt;TestClass&gt; testClassList= Collections.emptyList();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/test&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> testClassList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è°ƒç”¨å¾—åˆ°çš„ç»“æœæ˜¯</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">     &#123;</span><br><span class="line">        &quot;name&quot;: &quot;TestClass1&quot;</span><br><span class="line">     &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">       &quot;name&quot;: &quot;TestClass2&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„ testclass éƒ½è·å–åˆ°äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹ä¸‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Qualifier</span> <span class="comment">//æˆ‘ä»¬åœ¨è¿™å¢åŠ æ³¨è§£</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    List&lt;TestClass&gt; testClassList= Collections.emptyList();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/test&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> testClassList;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å’Œä¸Šé¢ä»£ç å¯¹æ¯”å°±æ˜¯åœ¨æ¥æ”¶å‚æ•°ä¸Šå¢åŠ äº†@Qualifier æ³¨è§£ï¼Œè¿™æ ·çœ‹æ˜¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæˆ‘ä»¬è°ƒç”¨ä¸‹ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">     &#123;</span><br><span class="line">        &quot;name&quot;: &quot;TestClass1&quot;</span><br><span class="line">     &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>è¿”å›ç»“æœåªå‰©ä¸‹å¢åŠ äº†@Qualifier æ³¨è§£çš„ TestClass å¯¹è±¡ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç†è§£å®˜æ–¹è¯´çš„æ ‡è®°ç­›é€‰æ˜¯ä»€ä¹ˆæ„æ€äº†ã€‚<br />å¦å¤–ï¼Œ@Qualifier æ³¨è§£æ˜¯å¯ä»¥æŒ‡å®š value çš„ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡ values æ¥åˆ†ç±»ç­›é€‰æƒ³è¦çš„å¯¹è±¡äº†ï¼Œè¿™é‡Œä¸åˆ—ä¸¾ä»£ç äº†~</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p>@Resource ç”¨æ³•ä¸<code>@Autowired</code>ç”¨æ³• ç”¨æ³•ç›¸ä¼¼ï¼Œä¹Ÿæ˜¯åšä¾èµ–æ³¨çš„ï¼Œä»å®¹å™¨ä¸­è‡ªåŠ¨è·å– beanã€‚ä½†è¿˜æ˜¯æœ‰ä¸€å®šçš„åŒºåˆ«ã€‚</p><ul><li>åœ¨å¯åŠ¨ spring çš„æ—¶å€™ï¼Œé¦–å…ˆè¦å¯åŠ¨å®¹å™¨ï¼›</li><li>å¯åŠ¨ spring å®¹å™¨æ—¶ï¼Œä¼šé»˜è®¤å¯»æ‰¾å®¹å™¨æ‰«æèŒƒå›´å†…çš„å¯åŠ è½½ beanï¼Œç„¶åæŸ¥æ‰¾å“ªäº› bean ä¸Šçš„å±æ€§å’Œæ–¹æ³•ä¸Šæœ‰@Resource æ³¨è§£ï¼›</li><li>æ‰¾åˆ°@Resource æ³¨è§£åï¼Œåˆ¤æ–­@Resource æ³¨è§£æ‹¬å·ä¸­çš„ name å±æ€§æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼šçœ‹ spring å®¹å™¨ä¸­çš„ bean çš„ id ä¸@Resource è¦æ³¨è§£çš„é‚£ä¸ªå˜é‡å±æ€§åæ˜¯å¦ç›¸åŒï¼Œå¦‚ç›¸åŒï¼ŒåŒ¹é…æˆåŠŸï¼›å¦‚æœä¸ç›¸åŒï¼Œçœ‹ spring å®¹å™¨ä¸­ bean çš„ id å¯¹åº”çš„ç±»å‹æ˜¯å¦ä¸@Resource è¦æ³¨è§£çš„é‚£ä¸ªå˜é‡å±æ€§å¯¹åº”çš„ç±»å‹æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥ç›¸ç­‰ï¼ŒåŒ¹é…æˆåŠŸï¼Œè‹¥ä¸ç›¸ç­‰ï¼ŒåŒ¹é…å¤±è´¥ã€‚</li><li>å¦‚æœ@Resource æ³¨è§£æ‹¬å·ä¸­çš„ name å±æ€§ä¸ä¸ºç©ºï¼Œçœ‹ name çš„å±æ€§å€¼å’Œå®¹å™¨ä¸­çš„ bean çš„ id åæ˜¯å¦ç›¸ç­‰ï¼Œå¦‚ç›¸ç­‰ï¼Œåˆ™åŒ¹é…æˆåŠŸï¼›å¦‚ä¸ç›¸ç­‰ï¼Œåˆ™åŒ¹é…å¤±è´¥ã€‚<br />ç¤ºä¾‹å¦‚ä¸‹ï¼š</li></ul><p><strong>@Resource æ³¨è§£æ³¨è§£çš„ name å±æ€§ä¸ä¸ºç©º</strong></p><p><strong>é¦–å…ˆåˆ›å»º Person ç±»ï¼Œå¹¶çº³å…¥å®¹å™¨ä¸­ç®¡ç†ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lzj.springboot.resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*çº³å…¥å®¹å™¨ä¸­åï¼Œbeançš„idåå­—ä¸ºps*/</span></span><br><span class="line"><span class="meta">@Component(value=&quot;ps&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;------say()------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç„¶ååˆ›å»º Man ç±»ï¼Œç±»ä¸­çš„å±æ€§ä¾èµ– Person ç±»å‹çš„ bean</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.lzj.springboot.resource;</span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Man</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*ä»å®¹å™¨ä¸­å–idåå­—ä¸ºpsçš„beanï¼Œå¦‚æœæ‰¾ä¸åˆ°è¯¥beanï¼Œspringå¯åŠ¨è¿‡ç¨‹ä¸­å°±ä¼šæŠ¥é”™ï¼Œè¡¨ç¤ºæŠŠManç±»å‹çš„beanæ³¨å…¥åˆ°å®¹å™¨ä¸­ä¸æˆåŠŸï¼Œå› ä¸ºpersonçš„å±æ€§ä¾èµ–æ³¨å…¥çš„æ—¶å€™å°±å‡ºé”™äº†ï¼Œæ‰€ä»¥åˆ›å»ºMançš„beançš„æ—¶å€™è‚¯å®šä¸æˆåŠŸã€‚*/</span></span><br><span class="line">    <span class="meta">@Resource(name=&quot;ps&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Person person;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*ä¾èµ–æ³¨å…¥å¤±è´¥ï¼Œå› ä¸ºPersonç±»å‹æ³¨å…¥åˆ°å®¹å™¨ä¸­çš„beançš„idæŒ‡å®šä¸ºps,æ‰€ä»¥ä»å®¹å™¨ä¸­è·å–idä¸ºpersonçš„beanå°±ä¼šå¤±è´¥*/</span></span><br><span class="line">    <span class="comment">//  @Resource(name=&quot;person&quot;)</span></span><br><span class="line">    <span class="comment">//  private Person ps;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span>&#123;</span><br><span class="line">        person.say();</span><br><span class="line">        System.out.println(<span class="string">&quot;------work()------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ç±»ä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication(scanBasePackages=&quot;com.lzj.springboot&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SpringApplication</span> <span class="variable">app</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SpringApplication</span>(App.class);</span><br><span class="line">        <span class="type">ConfigurableApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> app.run(args);</span><br><span class="line">        <span class="comment">/*ä»å®¹å™¨ä¸­è·å–Manç±»å‹çš„beanï¼Œå¦‚æœManç±»å‹çš„beanæ³¨å…¥åˆ°å®¹å™¨æˆåŠŸï¼Œæ­¤æ—¶å°±èƒ½è·å–åˆ°ï¼›å¦‚æœæ³¨å…¥ä¸æˆåŠŸï¼Œåˆ™è·å–ä¸åˆ°ã€‚æ³¨å…¥ä¸æˆåŠŸï¼Œå°±ä¼šæœ‰å¯èƒ½æ˜¯Manä¸­çš„@Resourceæ³¨è§£çš„ä¾èµ–æ³¨å…¥æ²¡æœ‰æˆåŠŸ*/</span></span><br><span class="line">        context.getBean(Man.class).work();</span><br><span class="line">        context.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯åŠ¨å·¥ç¨‹ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">------say()------</span><br><span class="line">------work()------</span><br></pre></td></tr></table></figure><p><strong>@Resource æ³¨è§£æ³¨è§£çš„ name å±æ€§ä¸ºç©º</strong></p><p><strong>1ã€@Resource è¦æ³¨è§£çš„é‚£ä¸ªå˜é‡å±æ€§ä¸å®¹å™¨ä¸­çš„ bean çš„ id çš„åå­—ç›¸ç­‰</strong><br />å¯åŠ¨ç±»å’Œ Person çš„ç±»ä¸ç›¸é¢ä¸€æ ·ï¼Œä¸‹é¢ç›´æ¥ä¿®æ”¹ Man ç±»å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Man</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*@Resourceæ³¨è§£çš„å±æ€§å˜é‡psä¸å®¹å™¨ä¸­çš„beançš„idåå­—psç›¸ç­‰ï¼Œå¯ä»¥åŒ¹é…*/</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> Person ps;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span>&#123;</span><br><span class="line">        ps.say();</span><br><span class="line">        System.out.println(<span class="string">&quot;------work()------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2ã€@Resource è¦æ³¨è§£çš„é‚£ä¸ªå˜é‡å±æ€§ä¸å®¹å™¨ä¸­çš„ bean çš„ id çš„åå­—ä¸ç›¸ç­‰<br />å¯åŠ¨ç±»å’Œ Person çš„ç±»ä¸ç›¸é¢ä¸€æ ·ï¼Œä¸‹é¢ç›´æ¥ä¿®æ”¹ Man ç±»å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Man</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*@Resourceæ³¨è§£çš„å±æ€§å˜é‡psä¸å®¹å™¨ä¸­çš„beançš„idåå­—psä¸ç›¸ç­‰ï¼Œç„¶åé€šè¿‡beançš„ç±»å‹åˆ¤æ–­ï¼špersonå˜é‡å±æ€§çš„ç±»å‹ä¸ºPersonç±»ï¼Œå®¹å™¨ä¸­çš„idä¸ºpsçš„beançš„ç±»å‹ä¹Ÿä¸ºPersonç±»å‹ï¼Œå› æ­¤æ­¤ç§æƒ…å†µä¸‹ä¹Ÿå¯ä»¥åŒ¹é…*/</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> Person person;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">work</span><span class="params">()</span>&#123;</span><br><span class="line">        person.say();</span><br><span class="line">        System.out.println(<span class="string">&quot;------work()------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><h2 id="é…ç½®ç±»ç›¸å…³"><a class="markdownIt-Anchor" href="#é…ç½®ç±»ç›¸å…³"></a> <strong>é…ç½®ç±»ç›¸å…³</strong></h2><h3 id="configuration"><a class="markdownIt-Anchor" href="#configuration"></a> @Configuration:</h3><details class="folding-tag" cyan><summary> @Configurationæ³¨è§£ </summary>              <div class='content'>              <p>ä½œç”¨ï¼šç”¨äºæŒ‡å®šå½“å‰ç±»æ˜¯ä¸€ä¸ª spring é…ç½®ç±»ï¼Œ å½“åˆ›å»ºå®¹å™¨æ—¶ä¼šä»è¯¥ç±»ä¸ŠåŠ è½½æ³¨è§£ã€‚ è·å–å®¹å™¨æ—¶éœ€è¦ä½¿ç”¨<br /><code>AnnotationApplicationContext</code>(æœ‰<code>@Configuration</code> æ³¨è§£çš„ç±».class)<br />ç»†èŠ‚:å½“é…ç½®ç±»ä½œä¸º<code>AnnotationConfigApplicationContext</code>å¯¹è±¡åˆ›å»ºçš„å‚æ•°æ—¶ï¼Œè¯¥æ³¨è§£å¯ä»¥ä¸å†™ã€‚</p><details class="folding-tag" blue><summary> å»ºè®®çœ‹ä¸€ä¸‹è¿™ä¸ª </summary>              <div class='content'>              <div class="tag link"><a class="link-card" title="Configurationæ³¨è§£ä½¿ç”¨" href="https://serms.top/post/1d0508a6/"><div class="left"><img src="https://serms.top/img/favicon.png"/></div><div class="right"><p class="text">Configurationæ³¨è§£ä½¿ç”¨</p><p class="url">https://serms.top/post/1d0508a6/</p></div></a></div><p>åœ¨ä½¿ç”¨@Bean æ³¨è§£çš„æ—¶å€™å¿…é¡»é…åˆ@Configuration æ¥ä½¿ç”¨: <strong><a href="https://blog.csdn.net/qq_41907991/article/details/106008651?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164933918316782092931312%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=164933918316782092931312&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-106008651.142%5Ev7%5Econtrol,157%5Ev4%5Econtrol&amp;utm_term=%40Configuration&amp;spm=1018.2226.3001.4187">åŸå› </a></strong></p>              </div>            </details>              </div>            </details><p>æœªå­¦ä¹ çš„æ³¨è§£:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Import(&#123;User.class, ByteArrayUtil.class&#125;)</span></span><br><span class="line"><span class="meta">@Configuration(proxyBeanMethods = true)</span> <span class="comment">//å‘Šè¯‰Springè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» === é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment">//@ConditionalOnBean(name = &quot;tom&quot;)    //æ¡ä»¶æ³¨è§£ æœ‰æŸä¸ªç»„ä»¶æ‰æ³¨å…¥å®¹å™¨</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(name = &quot;tom&quot;)</span>   <span class="comment">//æ¡ä»¶æ³¨è§£ æ²¡æœ‰æŸä¸ªç»„ä»¶æ‰æ³¨å…¥å®¹å™¨</span></span><br><span class="line"><span class="meta">@ImportResource(&quot;classpath:beans.xml&quot;)</span></span><br><span class="line"><span class="comment">//1. å¼€å¯Caré…ç½®ç»‘å®šåŠŸèƒ½</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(&#123;Car.class&#125;)</span></span><br><span class="line"><span class="comment">//2, æŠŠè¿™ä¸ªCarè¿™ä¸ªç»„ä»¶è‡ªåŠ¨æ³¨å†Œåˆ°å®¹å™¨ä¸­</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;mycar&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"> <span class="meta">@RequestMapping(&quot;/car&quot;)</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;tip home&quot;&gt;&lt;p&gt;åœ¨æ¢ç©¶æ³¨è§£å‰å…ˆäº†è§£ä¸€ä¸‹æ³¨è§£,ä½•ä¸ºæ³¨è§£ï¼Ÿæ³¨è§£æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç±»ï¼Œå¼€å‘ä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³¨è§£ å–ä»£ &lt;a href=&quot;https://so.csdn.net/so/search?q=xml&amp;amp;spm=1001.2101.3001.70</summary>
      
    
    
    
    <category term="Spring" scheme="https://serms.top/categories/Spring/"/>
    
    <category term="Springæ³¨è§£" scheme="https://serms.top/categories/Spring/Spring%E6%B3%A8%E8%A7%A3/"/>
    
    <category term="Java" scheme="https://serms.top/categories/Java/"/>
    
    
    <category term="Spring" scheme="https://serms.top/tags/Spring/"/>
    
    <category term="Springæ³¨è§£" scheme="https://serms.top/tags/Spring%E6%B3%A8%E8%A7%A3/"/>
    
    <category term="Java" scheme="https://serms.top/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Ideaä¸­Mavené¡¹ç›®æ·»åŠ webæ¨¡å—</title>
    <link href="https://serms.top/posts/3208ee03/"/>
    <id>https://serms.top/posts/3208ee03/</id>
    <published>2022-04-03T09:07:10.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•™ç¨‹æ­¥éª¤"><a class="markdownIt-Anchor" href="#æ•™ç¨‹æ­¥éª¤"></a> æ•™ç¨‹æ­¥éª¤</h2><details class="folding-tag" cyan open><summary> ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ </summary>              <div class='content'>              <p>1.é¦–å…ˆåˆ›å»ºä¸€ä¸ª Maven é¡¹ç›®ï¼Œä¸€è·¯ nextï¼Œèµ·ä¸‹é¡¹ç›®åå­—</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403171155529.png" alt="" /></p><p>2.å»ºå¥½ä¹‹åå°±æ˜¯è¿™ä¸ªæ ·å­</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403171554797.png" alt="" /></p><p>3.ç„¶åå³é”®é¡¹ç›®æ‰¾åˆ° open modules setting (æ‰“å¼€æ¨¡å—è®¾ç½®) æˆ–è€…å¿«æ·é”® ctrl+shift +alt+s æˆ–è€…å³ä¸Šè§’æœ‰ä¸ªç±»ä¼¼æ–‡ä»¶å¤¹çš„å›¾æ ‡</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403171742797.png" alt="" /></p><p>4.æ‰“å¼€ä»¥åç‚¹ Modules ç‚¹é¡¹ç›®åç‚¹ add æ‰¾åˆ° web</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403172017430.png" alt="" /></p><p>5.ç„¶åä¿®æ”¹ web.xml å’Œ web èµ„æºç›®å½•çš„è·¯å¾„</p><div class="tip warning faa-horizontal animated"><p>æ³¨æ„:è·¯å¾„ä¿®æ”¹å¦‚æœä½ ä¸æ‡‚å°±æ”¾æˆ‘å†™çš„è·¯å¾„:<wavy>é¡¹ç›®å\src\main\webapp\ â€¦</wavy></p></div><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403172956018.png" alt="" /></p><p>xml å’Œèµ„æºè·¯å¾„åº”è¯¥æ”¾åœ¨åŒä¸€ä¸ª webapp ä¸‹é¢</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403173108342.png" alt="" /></p><div class="tip warning faa-horizontal animated"><p>æ³¨æ„:ä¿®æ”¹å®Œåç‚¹å‡»ç¡®å®š,ä»–ä¼šæç¤ºä½ è¯´æ²¡æœ‰ webapp è¿™ä¸ªé¡¹ç›®æ˜¯å¦åˆ›å»º,ç‚¹å‡»åˆ›å»ºå³å¯</p></div><p>åˆ›å»ºå®Œæˆçš„æ ·å­:</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403174021409.png" alt="" /></p><p>6.åˆ›å»º Web application Exploded</p><p>ä¾ç„¶è¿˜æ˜¯æ‰“å¼€æ¨¡å—è®¾ç½®&gt;é€‰æ‹©æ¨¡å—&gt;ç‚¹å‡»åˆšåˆšåˆ›å»ºå¥½çš„ web ç›®å½•,å¦‚æœä¸‹é¢æœ‰é»„è‰²ä¸‰è§’æ„Ÿå¹å·çš„æç¤ºçš„è¯,å’±ä»¬å¯ä»¥ç›´æ¥ç‚¹å‡»å³ä¾§çš„åˆ›å»º</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403174050465.png" alt="" /></p><p>å¦‚æœæ²¡æœ‰çš„è¯: ç‚¹å‡» artifacts ç‚¹+å· é€‰æ‹© Web application Explodedï¼ŒFrom Modules é€‰æ‹©é¡¹ç›®ã€‚</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403174353863.png" alt="" /></p><p>ä¹‹åå³å¯ç‚¹å‡»åº”ç”¨å’Œç¡®å®šå°±è¡Œ</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403174445834.png" alt="" /></p><p>7.ç„¶åæ·»åŠ ä¸€ä¸ª tomcat ç‚¹ fix é€‰æ‹©åˆšæ‰æ–°å»ºçš„ artifacts</p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403174606202.png" alt="" /></p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403174704803.png" alt="" /></p><p>8.ä¿®æ”¹ Application context ä¸ºé¡¹ç›®å å°±å®Œæˆäº† å»æ–°å»ºä¸€ä¸ª html é¡µé¢è®¿é—®ä¸€ä¸‹,è¿™é‡Œå°±å®Œæˆäº† web æ¨¡å—çš„æ·»åŠ </p><p><img src="https://unpkg.com/serms-assets@1.0.7/maven/image-20220403174937843.png" alt="" /></p>              </div>            </details>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;æ•™ç¨‹æ­¥éª¤&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ•™ç¨‹æ­¥éª¤&quot;&gt;&lt;/a&gt; æ•™ç¨‹æ­¥éª¤&lt;/h2&gt;
&lt;details class=&quot;folding-tag&quot; cyan open&gt;&lt;summary&gt; ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹ &lt;/summary&gt;
  </summary>
      
    
    
    
    <category term="Maven" scheme="https://serms.top/categories/Maven/"/>
    
    
    <category term="Maven" scheme="https://serms.top/tags/Maven/"/>
    
  </entry>
  
  <entry>
    <title>å¯åŠ¨Tomcatå‡ºç°ä¹±ç </title>
    <link href="https://serms.top/posts/3a723147/"/>
    <id>https://serms.top/posts/3a723147/</id>
    <published>2022-03-30T07:24:17.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<p>å¯åŠ¨ Tomcat çš„æ—¶å€™è€å‡ºç°è¿™ç§<span class='p red'>æ·‡â„ƒä¼…</span>ä¹±ç é—®é¢˜<img no-lazy class="inline" src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F201608%2F02%2F20160802214728_Nhytn.thumb.400_0.jpeg&refer=http%3A%2F%2Fc-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1651217931&t=4a196c48ab42a6eb60cefb363f37418b" style="height:80px;"/></p><p>è™½ç„¶ä¸ç¢äº‹,ä½†æ˜¯çœ‹ç€ä¹±ç å°±çƒ¦,ä¹Ÿè®¸æ˜¯æˆ‘å¼ºè¿«ç—‡çŠ¯äº†:</p><p><img src="https://unpkg.com/serms-assets@1.0.6/Tomcat/image-20220330152805998.png" alt="" /></p><h2 id="è§£å†³æ–¹æ¡ˆå¦‚ä¸‹"><a class="markdownIt-Anchor" href="#è§£å†³æ–¹æ¡ˆå¦‚ä¸‹"></a> è§£å†³æ–¹æ¡ˆå¦‚ä¸‹</h2><div class="tip success"><p>æ‰¾åˆ° tomcat å®‰è£…ç›®å½•ä¸‹çš„<span class='p red'>conf/logging.properties</span>æ–‡ä»¶å¤¹ ä¿®æ”¹<span class='p red'>logging.properties</span> æ–‡ä»¶</p></div><p><img src="https://unpkg.com/serms-assets@1.0.6/Tomcat/image-20220330153004409.png" alt="" /></p><div class="tip success"><p>å°† java.util.logging.ConsoleHandler.encoding = <span class='p red'>utf-8</span><br />æ›´æ”¹ä¸º java.util.logging.ConsoleHandler.encoding = <span class='p red'>GBK</span></p></div><p><img src="https://unpkg.com/serms-assets@1.0.6/Tomcat/image-20220330152553962.png" alt="" /></p><blockquote><p>ä¿®æ”¹ä¹‹åçš„è¿è¡Œç»“æœ:</p></blockquote><p><img src="https://unpkg.com/serms-assets@1.0.6/Tomcat/image-20220330153216427.png" alt="" /></p><blockquote><p>å®Œæ»¡è§£å†³~~~</p><p>è§‰å¾—æœ‰ç”¨çš„è¯,ç»™å°å¼Ÿæ‰“èµä¸€ä¸‹~</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å¯åŠ¨ Tomcat çš„æ—¶å€™è€å‡ºç°è¿™ç§&lt;span class=&#39;p red&#39;&gt;æ·‡â„ƒä¼…&lt;/span&gt;ä¹±ç é—®é¢˜&lt;img no-lazy class=&quot;inline&quot; src=&quot;https://gimg2.baidu.com/image_search/src=http%3A%2F%</summary>
      
    
    
    
    <category term="Tomcat" scheme="https://serms.top/categories/Tomcat/"/>
    
    
    <category term="idea" scheme="https://serms.top/tags/idea/"/>
    
    <category term="Tomcatä¹±ç " scheme="https://serms.top/tags/Tomcat%E4%B9%B1%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>SpringMVCå­¦ä¹ ç¬”è®°</title>
    <link href="https://serms.top/posts/319c21eb/"/>
    <id>https://serms.top/posts/319c21eb/</id>
    <published>2022-03-30T01:05:36.000Z</published>
    <updated>2022-07-19T14:06:34.810Z</updated>
    
    <content type="html"><![CDATA[<details class="folding-tag" cyan><summary> æ›´æ–°è®°å½• </summary>              <div class='content'>              <div class="note blue icon modern"><i class="note-icon fas fa-bullhorn"></i><p>æœ¬äººç«™é•¿ä¹Ÿæ­£åœ¨å­¦ä¹ å½“ä¸­,å¦‚æœæœ‰çº é”™ä»¥åŠæ„è§å¯ä»¥åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€,æˆ‘ä¼šå°½å¿«å›å¤æ‚¨,æ„Ÿè°¢æ‚¨å¯¹æœ¬ç«™çš„æ”¯æŒ</p></div><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2022</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-04-04</p></div></div><div class='timeline-item-content'><ol><li>æ¿å—åšäº†ç›¸åº”çš„ä¼˜åŒ–</li><li>è¡¥å……äº†ä¸€äº›å›¾ç‰‡å’Œä¸€äº›ä»£ç </li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2022-03-30</p></div></div><div class='timeline-item-content'><p>æ–‡ç« å‘å¸ƒ</p></div></div></div>              </div>            </details><details class="folding-tag" blue><summary> å‚è€ƒæ•™ç¨‹ </summary>              <div class='content'>              <p><strong>æ³¨è§£ç±»</strong></p><table><thead><tr><th style="text-align:center">æ³¨è§£åç§°</th><th style="text-align:center">æ•™ç¨‹è´´</th></tr></thead><tbody><tr><td style="text-align:center">@Controller æ³¨è§£</td><td style="text-align:center"><a href="https://www.cnblogs.com/hualishu/p/7398881.html">æ•™ç¨‹</a></td></tr></tbody></table><p><strong>å…¶ä»–</strong></p><table><thead><tr><th style="text-align:center">å‚è€ƒæ–¹å‘</th><th style="text-align:center">æ•™ç¨‹è´´</th></tr></thead><tbody><tr><td style="text-align:center">è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«å’Œä½¿ç”¨</td><td style="text-align:center"><a href="https://blog.csdn.net/weixin_40001125/article/details/88663468">æ•™ç¨‹</a></td></tr></tbody></table>              </div>            </details><h1 id="springmvc-ç®€ä»‹"><a class="markdownIt-Anchor" href="#springmvc-ç®€ä»‹"></a> SpringMVC ç®€ä»‹</h1><details class="folding-tag" cyan><summary> ä»€ä¹ˆæ˜¯MVC </summary>              <div class='content'>              <p>MVC æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„çš„æ€æƒ³ï¼Œå°†è½¯ä»¶æŒ‰ç…§æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨æ¥åˆ’åˆ†</p><p>Mï¼šModelï¼Œæ¨¡å‹å±‚ï¼ŒæŒ‡å·¥ç¨‹ä¸­çš„ JavaBeanï¼Œä½œç”¨æ˜¯å¤„ç†æ•°æ®</p><p>JavaBean åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>ä¸€ç±»ç§°ä¸ºå®ä½“ç±» Beanï¼šä¸“é—¨å­˜å‚¨ä¸šåŠ¡æ•°æ®çš„ï¼Œå¦‚ Studentã€User ç­‰</li><li>ä¸€ç±»ç§°ä¸ºä¸šåŠ¡å¤„ç† Beanï¼šæŒ‡ Service æˆ– Dao å¯¹è±¡ï¼Œä¸“é—¨ç”¨äºå¤„ç†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®ã€‚</li></ul><p>Vï¼šViewï¼Œè§†å›¾å±‚ï¼ŒæŒ‡å·¥ç¨‹ä¸­çš„ html æˆ– jsp ç­‰é¡µé¢ï¼Œä½œç”¨æ˜¯ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œå±•ç¤ºæ•°æ®</p><p>Cï¼šControllerï¼Œæ§åˆ¶å±‚ï¼ŒæŒ‡å·¥ç¨‹ä¸­çš„ servletï¼Œä½œç”¨æ˜¯æ¥æ”¶è¯·æ±‚å’Œå“åº”æµè§ˆå™¨</p><p>MVC çš„å·¥ä½œæµç¨‹ï¼š<br />ç”¨æˆ·é€šè¿‡è§†å›¾å±‚å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨ä¸­è¯·æ±‚è¢« Controller æ¥æ”¶ï¼ŒController è°ƒç”¨ç›¸åº”çš„ Model å±‚å¤„ç†è¯·æ±‚ï¼Œå¤„ç†å®Œæ¯•å°†ç»“æœè¿”å›åˆ° Controllerï¼ŒController å†æ ¹æ®è¯·æ±‚å¤„ç†çš„ç»“æœæ‰¾åˆ°ç›¸åº”çš„ View è§†å›¾ï¼Œæ¸²æŸ“æ•°æ®åæœ€ç»ˆå“åº”ç»™æµè§ˆå™¨</p><div class="tip warning"><p>æ³¨ï¼šä¸‰å±‚æ¶æ„åˆ†ä¸ºè¡¨è¿°å±‚ï¼ˆæˆ–è¡¨ç¤ºå±‚ï¼‰ã€ä¸šåŠ¡é€»è¾‘å±‚ã€æ•°æ®è®¿é—®å±‚ï¼Œè¡¨è¿°å±‚è¡¨ç¤ºå‰å°é¡µé¢å’Œåå° servlet</p></div>              </div>            </details><details class="folding-tag" cyan><summary> ä»€ä¹ˆæ˜¯SpringMVC </summary>              <div class='content'>              <p>SpringMVC æ˜¯ Spring çš„ä¸€ä¸ªåç»­äº§å“ï¼Œæ˜¯ Spring çš„ä¸€ä¸ªå­é¡¹ç›®</p><p>SpringMVC æ˜¯ Spring ä¸ºè¡¨è¿°å±‚å¼€å‘æä¾›çš„ä¸€æ•´å¥—å®Œå¤‡çš„è§£å†³æ–¹æ¡ˆã€‚åœ¨è¡¨è¿°å±‚æ¡†æ¶å†ç» Strustã€WebWorkã€Strust2 ç­‰è¯¸å¤šäº§å“çš„å†ä»£æ›´è¿­ä¹‹åï¼Œç›®å‰ä¸šç•Œæ™®éé€‰æ‹©äº† SpringMVC ä½œä¸º Java EE é¡¹ç›®è¡¨è¿°å±‚å¼€å‘çš„<strong>é¦–é€‰æ–¹æ¡ˆ</strong>ã€‚</p>              </div>            </details><details class="folding-tag" cyan><summary> SpringMVCçš„ç‰¹ç‚¹ </summary>              <div class='content'>              <ul><li><strong>Spring å®¶æ—åŸç”Ÿäº§å“</strong>ï¼Œä¸ IOC å®¹å™¨ç­‰åŸºç¡€è®¾æ–½æ— ç¼å¯¹æ¥</li><li><strong>åŸºäºåŸç”Ÿçš„ Servlet</strong>ï¼Œé€šè¿‡äº†åŠŸèƒ½å¼ºå¤§çš„<strong>å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet</strong>ï¼Œå¯¹è¯·æ±‚å’Œå“åº”è¿›è¡Œç»Ÿä¸€å¤„ç†</li><li>è¡¨è¿°å±‚å„ç»†åˆ†é¢†åŸŸéœ€è¦è§£å†³çš„é—®é¢˜<strong>å…¨æ–¹ä½è¦†ç›–</strong>ï¼Œæä¾›<strong>å…¨é¢è§£å†³æ–¹æ¡ˆ</strong></li><li><strong>ä»£ç æ¸…æ–°ç®€æ´</strong>ï¼Œå¤§å¹…åº¦æå‡å¼€å‘æ•ˆç‡</li><li>å†…éƒ¨ç»„ä»¶åŒ–ç¨‹åº¦é«˜ï¼Œå¯æ’æ‹”å¼ç»„ä»¶<strong>å³æ’å³ç”¨</strong>ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½é…ç½®ç›¸åº”ç»„ä»¶å³å¯</li><li><strong>æ€§èƒ½å“è‘—</strong>ï¼Œå°¤å…¶é€‚åˆç°ä»£å¤§å‹ã€è¶…å¤§å‹äº’è”ç½‘é¡¹ç›®è¦æ±‚</li></ul>              </div>            </details><h3 id="spring-ç½‘ç«™é“¾æ¥"><a class="markdownIt-Anchor" href="#spring-ç½‘ç«™é“¾æ¥"></a> Spring ç½‘ç«™é“¾æ¥</h3><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">Springå®˜ç½‘</button></li><li class="tab"><button type="button" data-href="#-2">SpringMVCæ–‡æ¡£</button></li><li class="tab"><button type="button" data-href="#-3">Thymeleafå®˜ç½‘</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><div class="tag link"><a class="link-card" title="Spring.io" href="https://spring.io/"><div class="left"><img src="https://spring.io/images/favicon-9d25009f65637a49ac8d91eb1cf7b75e.ico"/></div><div class="right"><p class="text">Spring.io</p><p class="url">https://spring.io/</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><div class="tag link"><a class="link-card" title="SpringMVC" href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#spring-web"><div class="left"><img src="https://spring.io/images/favicon-9d25009f65637a49ac8d91eb1cf7b75e.ico"/></div><div class="right"><p class="text">SpringMVC</p><p class="url">https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#spring-web</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><div class="tag link"><a class="link-card" title="Thymeleaf" href="https://www.thymeleaf.org/"><div class="left"><img src="https://www.thymeleaf.org/images/thymeleaf.png"/></div><div class="right"><p class="text">Thymeleaf</p><p class="url">https://www.thymeleaf.org/</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="åˆ›å»º-mvc-é¡¹ç›®åŠç¼–å†™-helloworld"><a class="markdownIt-Anchor" href="#åˆ›å»º-mvc-é¡¹ç›®åŠç¼–å†™-helloworld"></a> åˆ›å»º MVC é¡¹ç›®åŠç¼–å†™ HelloWorld</h1><details class="folding-tag" blue><summary> å¼€å‘ç¯å¢ƒ </summary>              <div class='content'>              <p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Idea%20Ultimate%20Edition-2021.3.2-orange?logo=IntelliJ IDEA&color=brightgreen&link=https://www.jetbrains.com/idea/&style=social&logoWidth=20"></object><br></p><p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/maven3.8.1-%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7-orange?logo=Apache Maven&color=brightgreen&link=https://maven.apache.org/docs/3.8.1/release-notes.html&style=social&logoWidth=20"></object><br></p><p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/tomcat9-%E6%9C%8D%E5%8A%A1%E5%99%A8-orange?logo=Apache Tomcat&color=yellow&link=https://tomcat.apache.org/download-90.cgi&style=social&logoWidth=20"></object><br></p><p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Spring-%E7%89%88%E6%9C%AC:3.0.1-orange?logo=Spring&color=yellow&link=https://spring.io/projects/spring-framework&style=social&logoWidth=20"></object><br></p>              </div>            </details><details class="folding-tag" green open><summary> åˆ›å»ºmavenå·¥ç¨‹ & é…ç½®SpringMVC </summary>              <div class='content'>              <p>1.åˆ›å»º Maven å·¥ç¨‹(ç®€å•çš„ä¸€åŒ¹,ä¸ä¼šçš„è¯è‡ªè¡Œç™¾åº¦~)</p><p>2.ç»™åˆ›å»ºå¥½çš„ Maven é¡¹ç›®æ·»åŠ  web æ¨¡å—</p><div class="tag link"><a class="link-card" title="Ideaä¸­Mavené¡¹ç›®æ·»åŠ web æ¨¡å—" href="https://serms.top/post/3208ee03/"><div class="left"><img src="https://serms.top/img/favicon.png"/></div><div class="right"><p class="text">Ideaä¸­Mavené¡¹ç›®æ·»åŠ web æ¨¡å—</p><p class="url">https://serms.top/post/3208ee03/</p></div></a></div><p>3.é…ç½®<kbd>pom.xml</kbd>æ–‡ä»¶æ‰“åŒ…æ–¹å¼ï¼šwar å’Œå¼•å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è®¾ç½®æ‰“åŒ…æ–¹å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- SpringMVC --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- æ—¥å¿— --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ServletAPI --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- Spring5å’ŒThymeleafæ•´åˆåŒ… --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.thymeleaf<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thymeleaf-spring5<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç¼–å†™å¥½çš„ pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.hgm<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springMVC-demo1<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- SpringMVC --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- æ—¥å¿— --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- ServletAPI --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Spring5å’ŒThymeleafæ•´åˆåŒ… --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.thymeleaf<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>thymeleaf-spring5<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="tip warning"><p>æ³¨ï¼šç”±äº Maven çš„ä¼ é€’æ€§ï¼Œæˆ‘ä»¬ä¸å¿…å°†æ‰€æœ‰éœ€è¦çš„åŒ…å…¨éƒ¨é…ç½®ä¾èµ–ï¼Œè€Œæ˜¯é…ç½®æœ€é¡¶ç«¯çš„ä¾èµ–ï¼Œå…¶ä»–é ä¼ é€’æ€§å¯¼å…¥ã€‚</p><p><img src="https://unpkg.com/serms-assets@1.0.6/Spring/img001.png" alt="" /></p></div><p>4.é…ç½® web.xml</p><p>æ³¨å†Œ SpringMVC çš„å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet</p><p>æ‰“å¼€ web.xml</p><p><img src="https://unpkg.com/serms-assets@1.0.9/Spring/image-20220403225805963.png" alt="" /></p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">é»˜è®¤é…ç½®æ–¹å¼</button></li><li class="tab"><button type="button" data-href="#-2">æ‰©å±•é…ç½®æ–¹å¼</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>æ­¤é…ç½®ä½œç”¨ä¸‹ï¼ŒSpringMVC çš„é…ç½®æ–‡ä»¶é»˜è®¤ä½äº WEB-INF ä¸‹ï¼Œé»˜è®¤åç§°ä¸º&lt;servlet-name&gt;-servlet.xmlï¼Œä¾‹å¦‚ï¼Œä»¥ä¸‹é…ç½®æ‰€å¯¹åº” SpringMVC çš„é…ç½®æ–‡ä»¶ä½äº WEB-INF ä¸‹ï¼Œæ–‡ä»¶åä¸º springMVC-servlet.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚ç»Ÿä¸€è¿›è¡Œå¤„ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        è®¾ç½®springMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨æ‰€èƒ½å¤„ç†çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">        /æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/loginæˆ–.htmlæˆ–.jsæˆ–.cssæ–¹å¼çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">        ä½†æ˜¯/ä¸èƒ½åŒ¹é….jspè¯·æ±‚è·¯å¾„çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="tip warning"><p>æ³¨ï¼š</p><p>&lt;url-pattern&gt;æ ‡ç­¾ä¸­ä½¿ç”¨/å’Œ/*çš„åŒºåˆ«ï¼š</p><p>/æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/login æˆ–.html æˆ–.js æˆ–.css æ–¹å¼çš„è¯·æ±‚è·¯å¾„ï¼Œä½†æ˜¯/ä¸èƒ½åŒ¹é….jsp è¯·æ±‚è·¯å¾„çš„è¯·æ±‚</p><p>å› æ­¤å°±å¯ä»¥é¿å…åœ¨è®¿é—® jsp é¡µé¢æ—¶ï¼Œè¯¥è¯·æ±‚è¢« DispatcherServlet å¤„ç†ï¼Œä»è€Œæ‰¾ä¸åˆ°ç›¸åº”çš„é¡µé¢</p><p>/*åˆ™èƒ½å¤ŸåŒ¹é…æ‰€æœ‰è¯·æ±‚ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨è¿‡æ»¤å™¨æ—¶ï¼Œè‹¥éœ€è¦å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè¿‡æ»¤ï¼Œå°±éœ€è¦ä½¿ç”¨/*çš„å†™æ³•</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><strong>å¯é€šè¿‡ init-param æ ‡ç­¾è®¾ç½® SpringMVC é…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§°ï¼Œé€šè¿‡ load-on-startup æ ‡ç­¾è®¾ç½® SpringMVC å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet çš„åˆå§‹åŒ–æ—¶é—´</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨ï¼Œå¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚ç»Ÿä¸€è¿›è¡Œå¤„ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- contextConfigLocationä¸ºå›ºå®šå€¼ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä½¿ç”¨classpath:è¡¨ç¤ºä»ç±»è·¯å¾„æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚mavenå·¥ç¨‹ä¸­çš„src/main/resources --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springMVC.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"> ä½œä¸ºæ¡†æ¶çš„æ ¸å¿ƒç»„ä»¶ï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­æœ‰å¤§é‡çš„åˆå§‹åŒ–æ“ä½œè¦åš</span></span><br><span class="line"><span class="comment">è€Œè¿™äº›æ“ä½œæ”¾åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶æ‰æ‰§è¡Œä¼šä¸¥é‡å½±å“è®¿é—®é€Ÿåº¦</span></span><br><span class="line"><span class="comment">å› æ­¤éœ€è¦é€šè¿‡æ­¤æ ‡ç­¾å°†å¯åŠ¨æ§åˆ¶DispatcherServletçš„åˆå§‹åŒ–æ—¶é—´æå‰åˆ°æœåŠ¡å™¨å¯åŠ¨æ—¶</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        è®¾ç½®springMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨æ‰€èƒ½å¤„ç†çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">        /æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/loginæˆ–.htmlæˆ–.jsæˆ–.cssæ–¹å¼çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line"><span class="comment">        ä½†æ˜¯/ä¸èƒ½åŒ¹é….jspè¯·æ±‚è·¯å¾„çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="tip warning"><p>æ³¨ï¼š</p><p><code>&lt;url-pattern&gt;</code>æ ‡ç­¾ä¸­ä½¿ç”¨/å’Œ/*çš„åŒºåˆ«ï¼š</p><p>/æ‰€åŒ¹é…çš„è¯·æ±‚å¯ä»¥æ˜¯/login æˆ–.html æˆ–.js æˆ–.css æ–¹å¼çš„è¯·æ±‚è·¯å¾„ï¼Œä½†æ˜¯/ä¸èƒ½åŒ¹é….jsp è¯·æ±‚è·¯å¾„çš„è¯·æ±‚</p><p>å› æ­¤å°±å¯ä»¥é¿å…åœ¨è®¿é—® jsp é¡µé¢æ—¶ï¼Œè¯¥è¯·æ±‚è¢« DispatcherServlet å¤„ç†ï¼Œä»è€Œæ‰¾ä¸åˆ°ç›¸åº”çš„é¡µé¢</p><p>/*åˆ™èƒ½å¤ŸåŒ¹é…æ‰€æœ‰è¯·æ±‚ï¼Œä¾‹å¦‚åœ¨ä½¿ç”¨è¿‡æ»¤å™¨æ—¶ï¼Œè‹¥éœ€è¦å¯¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè¿‡æ»¤ï¼Œå°±éœ€è¦ä½¿ç”¨/*çš„å†™æ³•</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>é…ç½®å¥½çš„ web.xml ä¸º:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®SpringMVCçš„å‰ç«¯æ§åˆ¶å™¨,å¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚è¿›è¡Œç»Ÿä¸€å¤„ç†--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--åˆå§‹åŒ–å‚æ•° é…ç½®SpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®å’Œåç§°--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springMVC.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å°†å‰ç«¯æ§åˆ¶å™¨DispatcherServletçš„åˆå§‹åŒ–æ—¶é—´æå‰åˆ°æœåŠ¡å™¨å¯åŠ¨æ—¶--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>SpringMVC<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p>5.åˆ›å»º springMVC çš„é…ç½®æ–‡ä»¶</p><blockquote><p>åœ¨<wavy>resources</wavy>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºåä¸º : <wavy>springMVC.xml</wavy>æ–‡ä»¶</p><p><img src="https://unpkg.com/serms-assets@1.0.10/Spring/image-20220403230416170.png" alt="" /></p><p>å†™å…¥ä¸€ä¸‹é…ç½®æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è‡ªåŠ¨æ‰«æåŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.atguigu.mvc.controller&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é…ç½®Thymeleafè§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;viewResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;order&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateEngine&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateResolver&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">&lt;!-- è§†å›¾å‰ç¼€ --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/templates/&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">&lt;!-- è§†å›¾åç¼€ --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.html&quot;</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateMode&quot;</span> <span class="attr">value</span>=<span class="string">&quot;HTML5&quot;</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  è¿™é‡Œå¼•å…¥å¯èƒ½ä¼šæŠ¥é”™,å¯ä»¥å…ˆåˆ æ‰,åç»­å°†ä¼šè®²è§£æ­¤å¤„çš„ä½œç”¨</span></span><br><span class="line"><span class="comment">   å¤„ç†é™æ€èµ„æºï¼Œä¾‹å¦‚htmlã€jsã€cssã€jpg</span></span><br><span class="line"><span class="comment">  è‹¥åªè®¾ç½®è¯¥æ ‡ç­¾ï¼Œåˆ™åªèƒ½è®¿é—®é™æ€èµ„æºï¼Œå…¶ä»–è¯·æ±‚åˆ™æ— æ³•è®¿é—®</span></span><br><span class="line"><span class="comment">  æ­¤æ—¶å¿…é¡»è®¾ç½®&lt;mvc:annotation-driven/&gt;è§£å†³é—®é¢˜</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯mvcæ³¨è§£é©±åŠ¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¤„ç†å“åº”ä¸­æ–‡å†…å®¹ä¹±ç  --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;defaultCharset&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;supportedMediaTypes&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">value</span>&gt;</span>text/html<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">value</span>&gt;</span>application/json<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:message-converters</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å†™å¥½çš„ springMVC.xml ä¸º:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æ‰«æç»„ä»¶ è‡ªåŠ¨æ‰«æ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.atguigu.mvc.controller&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®Thymeleafè§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;viewResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è®¾ç½®è§†å›¾è§£æå™¨ä¼˜å…ˆçº§--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;order&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è§†å›¾è§£æå™¨ç¼–ç --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è§†å›¾è§£æå™¨æ¨¡æ¿--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateEngine&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--å†…éƒ¨Beanç»™templateEngineèµ‹å€¼--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateResolver&quot;</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--å†…éƒ¨Beanç»™templateResolverèµ‹å€¼--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">&lt;!-- è§†å›¾å‰ç¼€ --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/templates/&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">&lt;!-- è§†å›¾åç¼€ --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.html&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateMode&quot;</span> <span class="attr">value</span>=<span class="string">&quot;HTML5&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote><p>6.åˆ›å»ºè¯·æ±‚æ§åˆ¶å™¨</p><blockquote><p>åˆ›å»ºä¸€ä¸ªæ§åˆ¶ç±»(HelloController)å¹¶å£°æ˜æ§åˆ¶å±‚æ³¨è§£@Controller</p></blockquote><p><img src="https://unpkg.com/serms-assets@1.0.9/Spring/image-20220403230247900.png" alt="" /></p><blockquote><p>ç”±äºå‰ç«¯æ§åˆ¶å™¨å¯¹æµè§ˆå™¨å‘é€çš„è¯·æ±‚è¿›è¡Œäº†ç»Ÿä¸€çš„å¤„ç†ï¼Œä½†æ˜¯å…·ä½“çš„è¯·æ±‚æœ‰ä¸åŒçš„å¤„ç†è¿‡ç¨‹ï¼Œå› æ­¤éœ€è¦åˆ›å»ºå¤„ç†å…·ä½“è¯·æ±‚çš„ç±»ï¼Œå³è¯·æ±‚æ§åˆ¶å™¨</p><p>è¯·æ±‚æ§åˆ¶å™¨ä¸­æ¯ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ–¹æ³•æˆä¸ºæ§åˆ¶å™¨æ–¹æ³•</p><p>å› ä¸º SpringMVC çš„æ§åˆ¶å™¨ç”±ä¸€ä¸ª POJOï¼ˆæ™®é€šçš„ Java ç±»ï¼‰æ‹…ä»»ï¼Œå› æ­¤éœ€è¦é€šè¿‡@Controller æ³¨è§£å°†å…¶æ ‡è¯†ä¸ºä¸€ä¸ªæ§åˆ¶å±‚ç»„ä»¶ï¼Œäº¤ç»™ Spring çš„ IoC å®¹å™¨ç®¡ç†ï¼Œæ­¤æ—¶ SpringMVC æ‰èƒ½å¤Ÿè¯†åˆ«æ§åˆ¶å™¨çš„å­˜åœ¨</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.mvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/3/30 11:48</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span> <span class="comment">//æ§åˆ¶å™¨ç±» æ‰«ææ§åˆ¶å±‚ç»„ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" green open><summary> æµ‹è¯•HelloWorld </summary>              <div class='content'>              <p>åœ¨ WEB-INF èµ„æºæ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»º<wavy>templates</wavy>æ–‡ä»¶å¤¹.å¹¶åœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<wavy>index.html</wavy>æ–‡ä»¶</p><div class="tip warning"><p>æ³¨:</p><p>å› æˆ‘ä»¬åœ¨<wavy>Thymeleafè§†å›¾è§£æå™¨</wavy>ä¸­å·²ç»é…ç½®äº†<wavy>è§†å›¾å‰ç¼€</wavy>çš„ value å€¼ä¸º:value=&quot;/WEB-INF/templates/&quot;æ‰€ä»¥æˆ‘ä»¬å¿…é¡»æŠŠé™æ€æ–‡ä»¶åˆ›å»ºåœ¨ WEB-INF ä¸‹çš„ templates æ–‡ä»¶å¤¹</p></div><p><img src="https://unpkg.com/serms-assets@1.0.9/Spring/image-20220403231346495.png" alt="" /></p><p>åˆ›å»ºå¥½ä¹‹ååœ¨ index.html å†™å…¥ä»£ç </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">å®ç°å¯¹é¦–é¡µçš„è®¿é—®</button></li><li class="tab"><button type="button" data-href="#-2">é€šè¿‡è¶…é“¾æ¥è·³è½¬åˆ°æŒ‡å®šé¡µé¢</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>åœ¨è¯·æ±‚æ§åˆ¶å™¨(HelloController.java)ä¸­åˆ›å»ºå¤„ç†è¯·æ±‚çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @RequestMappingæ³¨è§£ï¼šå¤„ç†è¯·æ±‚å’Œæ§åˆ¶å™¨æ–¹æ³•ä¹‹é—´çš„æ˜ å°„å…³ç³»</span></span><br><span class="line"><span class="comment">// @RequestMappingæ³¨è§£çš„valueå±æ€§å¯ä»¥é€šè¿‡è¯·æ±‚åœ°å€åŒ¹é…è¯·æ±‚ï¼Œ/è¡¨ç¤ºçš„å½“å‰å·¥ç¨‹çš„ä¸Šä¸‹æ–‡è·¯å¾„</span></span><br><span class="line"><span class="comment">// localhost:8080/springMVC/</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®è§†å›¾åç§°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™å®Œä¹‹åçš„æ•´ä¸ªæ–‡ä»¶:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/3/30 11:48</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span> <span class="comment">//æ§åˆ¶å™¨ç±» æ‰«ææ§åˆ¶å±‚ç»„ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// RequestMappingæ³¨è§£==&gt;è¯·æ±‚æ˜ å°„</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è¿”å›è§†å›¾åç§°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œ Tomcat å³å¯çœ‹åˆ°é¡µé¢å‘ˆç° é¦–é¡µ å­—æ ·</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>1.åœ¨ä¸»é¡µ index.html ä¸­è®¾ç½®è¶…é“¾æ¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/hello&#125;&quot;</span>&gt;</span>HelloWorld<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2.åœ¨ templates ä¸‹åˆ›å»ºç¬¬äºŒä¸ª html é¡µé¢åä¸º target</p><p><img src="https://unpkg.com/serms-assets@1.0.9/Spring/image-20220403233628709.png" alt="" /></p><p>åœ¨é‡Œé¢å†™å…¥:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    HelloWorld</span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.åœ¨è¯·æ±‚æ§åˆ¶å™¨ä¸­åˆ›å»ºå¤„ç†è¯·æ±‚çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">HelloWorld</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;target&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™å®Œåçš„æ§åˆ¶å±‚æ–‡ä»¶ä¸º:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/3/30 11:48</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span> <span class="comment">//æ§åˆ¶å™¨ç±» æ‰«ææ§åˆ¶å±‚ç»„ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// RequestMappingæ³¨è§£==&gt;è¯·æ±‚æ˜ å°„</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è¿”å›è§†å›¾åç§°</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/target&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toTarget</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;target&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="tip success"><p>æ³¨:</p><p>æ­¤å¤„çš„è¶…é“¾æ¥ä¸­ç”¨åˆ°çš„ th:XXX æ˜¯ thymeleaf çš„æ¨¡æ¿è¯­æ³•,è€Œä¸”å¿…é¡»åœ¨ html æ ‡ç­¾å†…å¼•å…¥ xmlns åœ°å€</p><p>ä¸€èˆ¬å†™æ³•ä¸º: th:href=&quot;@{å€¼}&quot;</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="tip home"><p>æ€»ç»“</p><p>æµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œè‹¥è¯·æ±‚åœ°å€ç¬¦åˆå‰ç«¯æ§åˆ¶å™¨çš„ url-patternï¼Œè¯¥è¯·æ±‚å°±ä¼šè¢«å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet å¤„ç†ã€‚å‰ç«¯æ§åˆ¶å™¨ä¼šè¯»å– SpringMVC çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œé€šè¿‡æ‰«æç»„ä»¶æ‰¾åˆ°æ§åˆ¶å™¨ï¼Œå°†è¯·æ±‚åœ°å€å’Œæ§åˆ¶å™¨ä¸­@RequestMapping æ³¨è§£çš„ value å±æ€§å€¼è¿›è¡ŒåŒ¹é…ï¼Œè‹¥åŒ¹é…æˆåŠŸï¼Œè¯¥æ³¨è§£æ‰€æ ‡è¯†çš„æ§åˆ¶å™¨æ–¹æ³•å°±æ˜¯å¤„ç†è¯·æ±‚çš„æ–¹æ³•ã€‚å¤„ç†è¯·æ±‚çš„æ–¹æ³•éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„è§†å›¾åç§°ï¼Œè¯¥è§†å›¾åç§°ä¼šè¢«è§†å›¾è§£æå™¨è§£æï¼ŒåŠ ä¸Šå‰ç¼€å’Œåç¼€ç»„æˆè§†å›¾çš„è·¯å¾„ï¼Œé€šè¿‡ Thymeleaf å¯¹è§†å›¾è¿›è¡Œæ¸²æŸ“ï¼Œæœ€ç»ˆè½¬å‘åˆ°è§†å›¾æ‰€å¯¹åº”é¡µé¢</p></div>              </div>            </details><h1 id="requestmapping-æ³¨è§£"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£"></a> @RequestMapping æ³¨è§£</h1><h3 id="requestmapping-æ³¨è§£çš„åŠŸèƒ½"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£çš„åŠŸèƒ½"></a> @RequestMapping æ³¨è§£çš„åŠŸèƒ½</h3><p>ä»æ³¨è§£åç§°ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ@RequestMapping æ³¨è§£çš„ä½œç”¨å°±æ˜¯å°†è¯·æ±‚å’Œå¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨æ–¹æ³•å…³è”èµ·æ¥ï¼Œå»ºç«‹æ˜ å°„å…³ç³»ã€‚</p><p>SpringMVC æ¥æ”¶åˆ°æŒ‡å®šçš„è¯·æ±‚ï¼Œå°±ä¼šæ¥æ‰¾åˆ°åœ¨æ˜ å°„å…³ç³»ä¸­å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚</p><h3 id="requestmapping-æ³¨è§£çš„ä½ç½®"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£çš„ä½ç½®"></a> @RequestMapping æ³¨è§£çš„ä½ç½®</h3><p>@RequestMapping æ ‡è¯†ä¸€ä¸ªç±»ï¼šè®¾ç½®æ˜ å°„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„çš„åˆå§‹ä¿¡æ¯</p><p>@RequestMapping æ ‡è¯†ä¸€ä¸ªæ–¹æ³•ï¼šè®¾ç½®æ˜ å°„è¯·æ±‚è¯·æ±‚è·¯å¾„çš„å…·ä½“ä¿¡æ¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestMappingController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ­¤æ—¶è¯·æ±‚æ˜ å°„æ‰€æ˜ å°„çš„è¯·æ±‚çš„è¯·æ±‚è·¯å¾„ä¸ºï¼š/test/testRequestMapping</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/testRequestMapping&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testRequestMapping</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="requestmapping-æ³¨è§£çš„-value-å±æ€§"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£çš„-value-å±æ€§"></a> @RequestMapping æ³¨è§£çš„ value å±æ€§</h3><p>@RequestMapping æ³¨è§£çš„ value å±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚åœ°å€åŒ¹é…è¯·æ±‚æ˜ å°„</p><p>@RequestMapping æ³¨è§£çš„ value å±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚æ˜ å°„èƒ½å¤ŸåŒ¹é…å¤šä¸ªè¯·æ±‚åœ°å€æ‰€å¯¹åº”çš„è¯·æ±‚</p><p>@RequestMapping æ³¨è§£çš„ value å±æ€§å¿…é¡»è®¾ç½®ï¼Œè‡³å°‘é€šè¿‡è¯·æ±‚åœ°å€åŒ¹é…è¯·æ±‚æ˜ å°„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testRequestMapping&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span>æµ‹è¯•@RequestMappingçš„valueå±æ€§--&gt;/testRequestMapping&lt;/a</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/test&#125;&quot;</span>&gt;</span>æµ‹è¯•@RequestMappingçš„valueå±æ€§--&gt;/test<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(</span></span><br><span class="line"><span class="meta">        value = &#123;&quot;/testRequestMapping&quot;, &quot;/test&quot;&#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestMapping</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="requestmapping-æ³¨è§£çš„-method-å±æ€§"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£çš„-method-å±æ€§"></a> @RequestMapping æ³¨è§£çš„ method å±æ€§</h3><p>@RequestMapping æ³¨è§£çš„ method å±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚æ–¹å¼ï¼ˆget æˆ– postï¼‰åŒ¹é…è¯·æ±‚æ˜ å°„</p><p>@RequestMapping æ³¨è§£çš„ method å±æ€§æ˜¯ä¸€ä¸ª RequestMethod ç±»å‹çš„æ•°ç»„ï¼Œè¡¨ç¤ºè¯¥è¯·æ±‚æ˜ å°„èƒ½å¤ŸåŒ¹é…å¤šç§è¯·æ±‚æ–¹å¼çš„è¯·æ±‚</p><p>è‹¥å½“å‰è¯·æ±‚çš„è¯·æ±‚åœ°å€æ»¡è¶³è¯·æ±‚æ˜ å°„çš„ value å±æ€§ï¼Œä½†æ˜¯è¯·æ±‚æ–¹å¼ä¸æ»¡è¶³ method å±æ€§ï¼Œåˆ™æµè§ˆå™¨æŠ¥é”™ 405ï¼šRequest method â€˜POSTâ€™ not supported</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/test&#125;&quot;</span>&gt;</span>æµ‹è¯•@RequestMappingçš„valueå±æ€§--&gt;/test<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/test&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(</span></span><br><span class="line"><span class="meta">        value = &#123;&quot;/testRequestMapping&quot;, &quot;/test&quot;&#125;,</span></span><br><span class="line"><span class="meta">        method = &#123;RequestMethod.GET, RequestMethod.POST&#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestMapping</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š</p><p>1ã€å¯¹äºå¤„ç†æŒ‡å®šè¯·æ±‚æ–¹å¼çš„æ§åˆ¶å™¨æ–¹æ³•ï¼ŒSpringMVC ä¸­æä¾›äº†@RequestMapping çš„æ´¾ç”Ÿæ³¨è§£</p><p>å¤„ç† get è¯·æ±‚çš„æ˜ å°„â€“&gt;@GetMapping</p><p>å¤„ç† post è¯·æ±‚çš„æ˜ å°„â€“&gt;@PostMapping</p><p>å¤„ç† put è¯·æ±‚çš„æ˜ å°„â€“&gt;@PutMapping</p><p>å¤„ç† delete è¯·æ±‚çš„æ˜ å°„â€“&gt;@DeleteMapping</p><p>2ã€å¸¸ç”¨çš„è¯·æ±‚æ–¹å¼æœ‰ getï¼Œpostï¼Œputï¼Œdelete</p><p>ä½†æ˜¯ç›®å‰æµè§ˆå™¨åªæ”¯æŒ get å’Œ postï¼Œè‹¥åœ¨ form è¡¨å•æäº¤æ—¶ï¼Œä¸º method è®¾ç½®äº†å…¶ä»–è¯·æ±‚æ–¹å¼çš„å­—ç¬¦ä¸²ï¼ˆput æˆ– deleteï¼‰ï¼Œåˆ™æŒ‰ç…§é»˜è®¤çš„è¯·æ±‚æ–¹å¼ get å¤„ç†</p><p>è‹¥è¦å‘é€ put å’Œ delete è¯·æ±‚ï¼Œåˆ™éœ€è¦é€šè¿‡ spring æä¾›çš„è¿‡æ»¤å™¨ HiddenHttpMethodFilterï¼Œåœ¨ RESTful éƒ¨åˆ†ä¼šè®²åˆ°</p></blockquote><h3 id="requestmapping-æ³¨è§£çš„-params-å±æ€§äº†è§£"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£çš„-params-å±æ€§äº†è§£"></a> @RequestMapping æ³¨è§£çš„ params å±æ€§ï¼ˆäº†è§£ï¼‰</h3><p>@RequestMapping æ³¨è§£çš„ params å±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚å‚æ•°åŒ¹é…è¯·æ±‚æ˜ å°„</p><p>@RequestMapping æ³¨è§£çš„ params å±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡å››ç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±‚å‚æ•°å’Œè¯·æ±‚æ˜ å°„çš„åŒ¹é…å…³ç³»</p><p>â€œparamâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦ param è¯·æ±‚å‚æ•°</p><p>â€œ!paramâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦ param è¯·æ±‚å‚æ•°</p><p>â€œparam=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦ param è¯·æ±‚å‚æ•°ä¸” param=value</p><p>â€œparam!=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦ param è¯·æ±‚å‚æ•°ä½†æ˜¯ param!=value</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/test(username=&#x27;admin&#x27;,password=123456)&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span>æµ‹è¯•@RequestMappingçš„paramså±æ€§--&gt;/test&lt;/a</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(</span></span><br><span class="line"><span class="meta">        value = &#123;&quot;/testRequestMapping&quot;, &quot;/test&quot;&#125;</span></span><br><span class="line"><span class="meta">        ,method = &#123;RequestMethod.GET, RequestMethod.POST&#125;</span></span><br><span class="line"><span class="meta">        ,params = &#123;&quot;username&quot;,&quot;password!=123456&quot;&#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestMapping</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š</p><p>è‹¥å½“å‰è¯·æ±‚æ»¡è¶³@RequestMapping æ³¨è§£çš„ value å’Œ method å±æ€§ï¼Œä½†æ˜¯ä¸æ»¡è¶³ params å±æ€§ï¼Œæ­¤æ—¶é¡µé¢å›æŠ¥é”™ 400ï¼šParameter conditions â€œusername, password!=123456â€ not met for actual request parameters: username={admin}, password={123456}</p></blockquote><h3 id="requestmapping-æ³¨è§£çš„-headers-å±æ€§äº†è§£"><a class="markdownIt-Anchor" href="#requestmapping-æ³¨è§£çš„-headers-å±æ€§äº†è§£"></a> @RequestMapping æ³¨è§£çš„ headers å±æ€§ï¼ˆäº†è§£ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/testParamsAndHeders&quot;,</span></span><br><span class="line"><span class="meta">                headers = &#123;&quot;Host=localhost:8080&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testParamsAndHeders</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@RequestMapping æ³¨è§£çš„ headers å±æ€§é€šè¿‡è¯·æ±‚çš„è¯·æ±‚å¤´ä¿¡æ¯åŒ¹é…è¯·æ±‚æ˜ å°„</p><p>@RequestMapping æ³¨è§£çš„ headers å±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡å››ç§è¡¨è¾¾å¼è®¾ç½®è¯·æ±‚å¤´ä¿¡æ¯å’Œè¯·æ±‚æ˜ å°„çš„åŒ¹é…å…³ç³»</p><p>â€œheaderâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦ header è¯·æ±‚å¤´ä¿¡æ¯</p><p>â€œ!headerâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»ä¸èƒ½æºå¸¦ header è¯·æ±‚å¤´ä¿¡æ¯</p><p>â€œheader=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦ header è¯·æ±‚å¤´ä¿¡æ¯ä¸” header=value</p><p>â€œheader!=valueâ€ï¼šè¦æ±‚è¯·æ±‚æ˜ å°„æ‰€åŒ¹é…çš„è¯·æ±‚å¿…é¡»æºå¸¦ header è¯·æ±‚å¤´ä¿¡æ¯ä¸” header!=value</p><p>è‹¥å½“å‰è¯·æ±‚æ»¡è¶³@RequestMapping æ³¨è§£çš„ value å’Œ method å±æ€§ï¼Œä½†æ˜¯ä¸æ»¡è¶³ headers å±æ€§ï¼Œæ­¤æ—¶é¡µé¢æ˜¾ç¤º 404 é”™è¯¯ï¼Œå³èµ„æºæœªæ‰¾åˆ°</p><h3 id="springmvc-æ”¯æŒ-ant-é£æ ¼çš„è·¯å¾„"><a class="markdownIt-Anchor" href="#springmvc-æ”¯æŒ-ant-é£æ ¼çš„è·¯å¾„"></a> SpringMVC æ”¯æŒ ant é£æ ¼çš„è·¯å¾„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    @RequestMapping(&quot;/a?a/testAnt&quot;)</span></span><br><span class="line"><span class="comment">//    @RequestMapping(&quot;/a*a/testAnt&quot;)</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/**/testAnt&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testAnt</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼Ÿï¼šè¡¨ç¤ºä»»æ„çš„å•ä¸ªå­—ç¬¦</p><p>*ï¼šè¡¨ç¤ºä»»æ„çš„ 0 ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</p><p>**ï¼šè¡¨ç¤ºä»»æ„çš„ä¸€å±‚æˆ–å¤šå±‚ç›®å½•</p><p>æ³¨æ„ï¼šåœ¨ä½¿ç”¨**æ—¶ï¼Œåªèƒ½ä½¿ç”¨/**/xxx çš„æ–¹å¼</p><h3 id="springmvc-æ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦é‡ç‚¹"><a class="markdownIt-Anchor" href="#springmvc-æ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦é‡ç‚¹"></a> SpringMVC æ”¯æŒè·¯å¾„ä¸­çš„å ä½ç¬¦ï¼ˆé‡ç‚¹ï¼‰</h3><p>åŸå§‹æ–¹å¼ï¼š/deleteUser?id=1</p><p>rest æ–¹å¼ï¼š/deleteUser/1</p><p>SpringMVC è·¯å¾„ä¸­çš„å ä½ç¬¦å¸¸ç”¨äº RESTful é£æ ¼ä¸­ï¼Œå½“è¯·æ±‚è·¯å¾„ä¸­å°†æŸäº›æ•°æ®é€šè¿‡è·¯å¾„çš„æ–¹å¼ä¼ è¾“åˆ°æœåŠ¡å™¨ä¸­ï¼Œå°±å¯ä»¥åœ¨ç›¸åº”çš„@RequestMapping æ³¨è§£çš„ value å±æ€§ä¸­é€šè¿‡å ä½ç¬¦{xxx}è¡¨ç¤ºä¼ è¾“çš„æ•°æ®ï¼Œåœ¨é€šè¿‡@PathVariable æ³¨è§£ï¼Œå°†å ä½ç¬¦æ‰€è¡¨ç¤ºçš„æ•°æ®èµ‹å€¼ç»™æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testRest/1/admin&#125;&quot;</span>&gt;</span>æµ‹è¯•è·¯å¾„ä¸­çš„å ä½ç¬¦--&gt;/testRest<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testRest/&#123;id&#125;/&#123;username&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRest</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> String id, <span class="meta">@PathVariable(&quot;username&quot;)</span> String username)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;id:&quot;</span>+id+<span class="string">&quot;,username:&quot;</span>+username);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æœ€ç»ˆè¾“å‡ºçš„å†…å®¹ä¸º--&gt;id:1,username:admin</span></span><br></pre></td></tr></table></figure><h1 id="springmvc-è·å–è¯·æ±‚å‚æ•°"><a class="markdownIt-Anchor" href="#springmvc-è·å–è¯·æ±‚å‚æ•°"></a> SpringMVC è·å–è¯·æ±‚å‚æ•°</h1><h3 id="é€šè¿‡-servletapi-è·å–"><a class="markdownIt-Anchor" href="#é€šè¿‡-servletapi-è·å–"></a> é€šè¿‡ ServletAPI è·å–</h3><p>å°† HttpServletRequest ä½œä¸ºæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ï¼Œæ­¤æ—¶ HttpServletRequest ç±»å‹çš„å‚æ•°è¡¨ç¤ºå°è£…äº†å½“å‰è¯·æ±‚çš„è¯·æ±‚æŠ¥æ–‡çš„å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testParam</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> request.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;username:&quot;</span>+username+<span class="string">&quot;,password:&quot;</span>+password);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°"><a class="markdownIt-Anchor" href="#é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°"></a> é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚è·å–è¯·æ±‚å‚æ•°</h3><p>åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä½ç½®ï¼Œè®¾ç½®å’Œè¯·æ±‚å‚æ•°åŒåçš„å½¢å‚ï¼Œå½“æµè§ˆå™¨å‘é€è¯·æ±‚ï¼ŒåŒ¹é…åˆ°è¯·æ±‚æ˜ å°„æ—¶ï¼Œåœ¨ DispatcherServlet ä¸­å°±ä¼šå°†è¯·æ±‚å‚æ•°èµ‹å€¼ç»™ç›¸åº”çš„å½¢å‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testParam(username=&#x27;admin&#x27;,password=123456)&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span>æµ‹è¯•è·å–è¯·æ±‚å‚æ•°--&gt;/testParam&lt;/a</span><br><span class="line">&gt;<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testParam</span><span class="params">(String username, String password)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;username:&quot;</span>+username+<span class="string">&quot;,password:&quot;</span>+password);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š</p><p>è‹¥è¯·æ±‚æ‰€ä¼ è¾“çš„è¯·æ±‚å‚æ•°ä¸­æœ‰å¤šä¸ªåŒåçš„è¯·æ±‚å‚æ•°ï¼Œæ­¤æ—¶å¯ä»¥åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä¸­è®¾ç½®å­—ç¬¦ä¸²æ•°ç»„æˆ–è€…å­—ç¬¦ä¸²ç±»å‹çš„å½¢å‚æ¥æ”¶æ­¤è¯·æ±‚å‚æ•°</p><p>è‹¥ä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„ç±»å‹çš„å½¢å‚ï¼Œæ­¤å‚æ•°çš„æ•°ç»„ä¸­åŒ…å«äº†æ¯ä¸€ä¸ªæ•°æ®</p><p>è‹¥ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹çš„å½¢å‚ï¼Œæ­¤å‚æ•°çš„å€¼ä¸ºæ¯ä¸ªæ•°æ®ä¸­é—´ä½¿ç”¨é€—å·æ‹¼æ¥çš„ç»“æœ</p></blockquote><h3 id="requestparam"><a class="markdownIt-Anchor" href="#requestparam"></a> @RequestParam</h3><p>@RequestParam æ˜¯å°†è¯·æ±‚å‚æ•°å’Œæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚åˆ›å»ºæ˜ å°„å…³ç³»</p><p>@RequestParam æ³¨è§£ä¸€å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼š</p><p>valueï¼šæŒ‡å®šä¸ºå½¢å‚èµ‹å€¼çš„è¯·æ±‚å‚æ•°çš„å‚æ•°å</p><p>requiredï¼šè®¾ç½®æ˜¯å¦å¿…é¡»ä¼ è¾“æ­¤è¯·æ±‚å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º true</p><p>è‹¥è®¾ç½®ä¸º true æ—¶ï¼Œåˆ™å½“å‰è¯·æ±‚å¿…é¡»ä¼ è¾“ value æ‰€æŒ‡å®šçš„è¯·æ±‚å‚æ•°ï¼Œè‹¥æ²¡æœ‰ä¼ è¾“è¯¥è¯·æ±‚å‚æ•°ï¼Œä¸”æ²¡æœ‰è®¾ç½® defaultValue å±æ€§ï¼Œåˆ™é¡µé¢æŠ¥é”™ 400ï¼šRequired String parameter â€˜xxxâ€™ is not presentï¼›è‹¥è®¾ç½®ä¸º falseï¼Œåˆ™å½“å‰è¯·æ±‚ä¸æ˜¯å¿…é¡»ä¼ è¾“ value æ‰€æŒ‡å®šçš„è¯·æ±‚å‚æ•°ï¼Œè‹¥æ²¡æœ‰ä¼ è¾“ï¼Œåˆ™æ³¨è§£æ‰€æ ‡è¯†çš„å½¢å‚çš„å€¼ä¸º null</p><p>defaultValueï¼šä¸ç®¡ required å±æ€§å€¼ä¸º true æˆ– falseï¼Œå½“ value æ‰€æŒ‡å®šçš„è¯·æ±‚å‚æ•°æ²¡æœ‰ä¼ è¾“æˆ–ä¼ è¾“çš„å€¼ä¸º&quot;&quot;æ—¶ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ä¸ºå½¢å‚èµ‹å€¼</p><h3 id="requestheader"><a class="markdownIt-Anchor" href="#requestheader"></a> @RequestHeader</h3><p>@RequestHeader æ˜¯å°†è¯·æ±‚å¤´ä¿¡æ¯å’Œæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚åˆ›å»ºæ˜ å°„å…³ç³»</p><p>@RequestHeader æ³¨è§£ä¸€å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼švalueã€requiredã€defaultValueï¼Œç”¨æ³•åŒ@RequestParam</p><h3 id="cookievalue"><a class="markdownIt-Anchor" href="#cookievalue"></a> @CookieValue</h3><p>@CookieValue æ˜¯å°† cookie æ•°æ®å’Œæ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚åˆ›å»ºæ˜ å°„å…³ç³»</p><p>@CookieValue æ³¨è§£ä¸€å…±æœ‰ä¸‰ä¸ªå±æ€§ï¼švalueã€requiredã€defaultValueï¼Œç”¨æ³•åŒ@RequestParam</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/testParam&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">  ç”¨æˆ·å:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user_name&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  å¯†ç :<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  çˆ±å¥½:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;a&quot;</span> /&gt;</span>a<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;b&quot;</span> /&gt;</span>b<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;hobby&quot;</span> <span class="attr">value</span>=<span class="string">&quot;c&quot;</span> /&gt;</span>c<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æµ‹è¯•ä½¿ç”¨æ§åˆ¶å™¨å½¢å‚è·å–è¯·æ±‚å‚æ•°&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;testParam&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testParam</span><span class="params">(</span></span><br><span class="line"><span class="params">        <span class="meta">@RequestParam(value = &quot;user_name&quot;, required = false, defaultValue = &quot;hehe&quot;)</span> String username,</span></span><br><span class="line"><span class="params">        String password,</span></span><br><span class="line"><span class="params">        String[] hobby,</span></span><br><span class="line"><span class="params">        <span class="meta">@RequestHeader(value = &quot;sayHaha&quot;, required = false, defaultValue = &quot;haha&quot;)</span> String host,</span></span><br><span class="line"><span class="params">        <span class="meta">@CookieValue(&quot;JSESSIONID&quot;)</span> String JSESSIONID)</span> &#123;</span><br><span class="line">    <span class="comment">//è‹¥è¯·æ±‚å‚æ•°ä¸­å‡ºç°å¤šä¸ªåŒåçš„è¯·æ±‚å‚æ•°.å¯ä»¥åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä½ç½®è®¾ç½®å­—ç¬¦ä¸²ç±»å‹æˆ–å­—ç¬¦ä¸²æ•°ç»„æ¥æ”¶æ­¤è¯·æ±‚å‚æ•°</span></span><br><span class="line">    <span class="comment">//è‹¥ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹çš„å½¢å‚,æœ€ç»ˆç»“æœä¸ºè¯·æ±‚å‚æ•°çš„æ¯ä¸€ä¸ªå€¼ä¹‹é—´ä½¿ç”¨é€—å·è¿›è¡Œæ‹¼æ¥</span></span><br><span class="line">    System.out.println(<span class="string">&quot;username:&quot;</span> + username + <span class="string">&quot;  password: &quot;</span> + password + <span class="string">&quot; hobby: &quot;</span> + Arrays.toString(hobby));</span><br><span class="line">    System.out.println(<span class="string">&quot;hsot : &quot;</span> + host);</span><br><span class="line">    System.out.println(<span class="string">&quot;JSESSIONID : &quot;</span> + JSESSIONID);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€šè¿‡-pojo-è·å–è¯·æ±‚å‚æ•°"><a class="markdownIt-Anchor" href="#é€šè¿‡-pojo-è·å–è¯·æ±‚å‚æ•°"></a> é€šè¿‡ POJO è·å–è¯·æ±‚å‚æ•°</h3><p>å¯ä»¥åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä½ç½®è®¾ç½®ä¸€ä¸ªå®ä½“ç±»ç±»å‹çš„å½¢å‚ï¼Œæ­¤æ—¶è‹¥æµè§ˆå™¨ä¼ è¾“çš„è¯·æ±‚å‚æ•°çš„å‚æ•°åå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¸€è‡´ï¼Œé‚£ä¹ˆè¯·æ±‚å‚æ•°å°±ä¼šä¸ºæ­¤å±æ€§èµ‹å€¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/testpojo&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  æ€§åˆ«ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç”·&quot;</span> /&gt;</span>ç”·<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span></span></span><br><span class="line"><span class="tag">  /&gt;</span>å¥³<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  å¹´é¾„ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  é‚®ç®±ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testpojo&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testPOJO</span><span class="params">(User user)</span>&#123;</span><br><span class="line">    System.out.println(user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æœ€ç»ˆç»“æœ--&gt;User&#123;id=null, username=&#x27;å¼ ä¸‰&#x27;, password=&#x27;123&#x27;, age=23, sex=&#x27;ç”·&#x27;, email=&#x27;123@qq.com&#x27;&#125;</span></span><br></pre></td></tr></table></figure><h3 id="è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜"><a class="markdownIt-Anchor" href="#è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜"></a> è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜</h3><p>è§£å†³è·å–è¯·æ±‚å‚æ•°çš„ä¹±ç é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ SpringMVC æä¾›çš„ç¼–ç è¿‡æ»¤å™¨ CharacterEncodingFilterï¼Œä½†æ˜¯å¿…é¡»åœ¨ web.xml ä¸­è¿›è¡Œæ³¨å†Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®springMVCçš„ç¼–ç è¿‡æ»¤å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceResponseEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š</p><p>SpringMVC ä¸­å¤„ç†ç¼–ç çš„è¿‡æ»¤å™¨ä¸€å®šè¦é…ç½®åˆ°å…¶ä»–è¿‡æ»¤å™¨ä¹‹å‰ï¼Œå¦åˆ™æ— æ•ˆ</p></blockquote><h1 id="åŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#åŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> åŸŸå¯¹è±¡å…±äº«æ•°æ®</h1><details class="folding-tag" green><summary> æ–°å»ºé¡¹ç›®:[`SpringMVC-demo3`] </summary>              <div class='content'>              <ol><li><p>é¦–å…ˆè¿˜æ˜¯å…ˆåˆ›å»º webapp ç›®å½•,å°† web.xml çš„è·¯å¾„æ”¹ä¸º<code>src\main\webapp</code>ä¸‹,å‰é¢æœ‰è®²åˆ°å°±ä¸åšé˜è¿°äº†~</p></li><li><p>é…ç½® web.xml æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é…ç½®ç¼–ç è¿‡æ»¤å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è®¾ç½®è¯·æ±‚ç¼–ç --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--è®¾ç½®å“åº”ç¼–ç --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceResponseEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é…ç½®springå‰ç«¯æ§åˆ¶å™¨DispatcherServlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springMVC.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è¡¨ç¤ºå¯åŠ¨å®¹å™¨æ—¶å…ˆåˆå§‹åŒ–è¯¥servletçš„é¡ºåº --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨<code>resources</code>ä¸‹åˆ›å»º<code>springMVC.xml</code>æ–‡ä»¶,å¹¶é…ç½® springMVC.xml,é…ç½®å®Œåçš„ springMVC.xml ä¸º:.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--æ‰«æç»„ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.atguigu.mvc.controller&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®Thymeleafè§†å›¾è§£æå™¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;viewResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;order&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateEngine&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateResolver&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">&lt;!-- è§†å›¾å‰ç¼€ --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/templates/&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="comment">&lt;!-- è§†å›¾åç¼€ --&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.html&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;templateMode&quot;</span> <span class="attr">value</span>=<span class="string">&quot;HTML5&quot;</span>/&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;characterEncoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ğŸ“<code>Java</code>ç›®å½•ä¸‹åˆ›å»ºæ§åˆ¶å™¨ç±»(TestController)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.mvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@Date</span> 2022/4/4 21:50</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>åœ¨ ğŸ“<code>WEB-INF</code> ç›®å½•ä¸‹ åˆ›å»º ğŸ“<code>templates</code>,å¹¶åœ¨ğŸ“templates ä¸‹åˆ›å»º index.xml æ–‡ä»¶,ç„¶ååœ¨ index.xml ä¸‹å†™å…¥ä»£ç :</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>é…ç½®<i class="iconfont icon-Tomcat"></i><code>Tomcat</code>æŸ¥çœ‹æ˜¯å¦å¯ä»¥è¿è¡Œ~</p></li></ol>              </div>            </details><div class="tip warning"><p>æ³¨:</p><p><code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code>è§£é‡Š:</p><pre><code>1. load-on-startup å…ƒç´ æ ‡è®°å®¹å™¨æ˜¯å¦åº”è¯¥åœ¨webåº”ç”¨ç¨‹åºå¯åŠ¨çš„æ—¶å€™å°±åŠ è½½è¿™ä¸ªservletï¼Œ(å®ä¾‹åŒ–å¹¶è°ƒç”¨å…¶init()æ–¹æ³•)ã€‚2. å®ƒçš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºservletè¢«åŠ è½½çš„å…ˆåé¡ºåºã€‚3. å¦‚æœè¯¥å…ƒç´ çš„å€¼ä¸ºè´Ÿæ•°æˆ–è€…æ²¡æœ‰è®¾ç½®ï¼Œåˆ™å®¹å™¨ä¼šå½“Servletè¢«è¯·æ±‚æ—¶å†åŠ è½½ã€‚4. å¦‚æœå€¼ä¸ºæ­£æ•´æ•°æˆ–è€…0æ—¶ï¼Œè¡¨ç¤ºå®¹å™¨åœ¨åº”ç”¨å¯åŠ¨æ—¶å°±åŠ è½½å¹¶åˆå§‹åŒ–è¿™ä¸ªservletï¼Œå€¼è¶Šå°ï¼Œservletçš„ä¼˜å…ˆçº§è¶Šé«˜ï¼Œå°±è¶Šå…ˆè¢«åŠ è½½ã€‚å€¼ç›¸åŒæ—¶ï¼Œå®¹å™¨å°±ä¼šè‡ªå·±é€‰æ‹©é¡ºåºæ¥åŠ è½½</code></pre></div><h3 id="ä½¿ç”¨-servletapi-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-servletapi-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨ ServletAPI å‘ request åŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testServletAPI&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testServletAPI</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">    request.setAttribute(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,servletAPI&quot;</span>);</span><br><span class="line">    <span class="comment">//æ­¤å¤„ç”¨çš„æ˜¯è¯·æ±‚è½¬å‘</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-modelandview-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-modelandview-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨ ModelAndView å‘ request åŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testModelAndView&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ModelAndView <span class="title function_">testModelAndView</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ModelAndViewæœ‰Modelå’ŒViewçš„åŠŸèƒ½</span></span><br><span class="line"><span class="comment">     * Modelä¸»è¦ç”¨äºå‘è¯·æ±‚åŸŸå…±äº«æ•°æ®</span></span><br><span class="line"><span class="comment">     * Viewä¸»è¦ç”¨äºè®¾ç½®è§†å›¾ï¼Œå®ç°é¡µé¢è·³è½¬</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="type">ModelAndView</span> <span class="variable">mav</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">    <span class="comment">//å‘è¯·æ±‚åŸŸå…±äº«æ•°æ®</span></span><br><span class="line">    mav.addObject(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,ModelAndView&quot;</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®è§†å›¾ï¼Œå®ç°é¡µé¢è·³è½¬</span></span><br><span class="line">    mav.setViewName(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> mav;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-model-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-model-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨ Model å‘ request åŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testModel&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testModel</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">    model.addAttribute(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,Model&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-map-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-map-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨ map å‘ request åŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testMap&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testMap</span><span class="params">(Map&lt;String, Object&gt; map)</span>&#123;</span><br><span class="line">    map.put(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,Map&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-modelmap-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-modelmap-å‘-request-åŸŸå¯¹è±¡å…±äº«æ•°æ®"></a> ä½¿ç”¨ ModelMap å‘ request åŸŸå¯¹è±¡å…±äº«æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testModelMap&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testModelMap</span><span class="params">(ModelMap modelMap)</span>&#123;</span><br><span class="line">    modelMap.addAttribute(<span class="string">&quot;testScope&quot;</span>, <span class="string">&quot;hello,ModelMap&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="model-modelmap-map-çš„å…³ç³»"><a class="markdownIt-Anchor" href="#model-modelmap-map-çš„å…³ç³»"></a> Modelã€ModelMapã€Map çš„å…³ç³»</h3><p>Modelã€ModelMapã€Map ç±»å‹çš„å‚æ•°å…¶å®æœ¬è´¨ä¸Šéƒ½æ˜¯ BindingAwareModelMap ç±»å‹çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface Model&#123;&#125;</span><br><span class="line">public class ModelMap extends LinkedHashMap&lt;String, Object&gt; &#123;&#125;</span><br><span class="line">public class ExtendedModelMap extends ModelMap implements Model &#123;&#125;</span><br><span class="line">public class BindingAwareModelMap extends ExtendedModelMap &#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="å‘-session-åŸŸå…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#å‘-session-åŸŸå…±äº«æ•°æ®"></a> å‘ session åŸŸå…±äº«æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testSession&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testSession</span><span class="params">(HttpSession session)</span>&#123;</span><br><span class="line">    session.setAttribute(<span class="string">&quot;testSessionScope&quot;</span>, <span class="string">&quot;hello,session&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‘-application-åŸŸå…±äº«æ•°æ®"><a class="markdownIt-Anchor" href="#å‘-application-åŸŸå…±äº«æ•°æ®"></a> å‘ application åŸŸå…±äº«æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testApplication&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testApplication</span><span class="params">(HttpSession session)</span>&#123;</span><br><span class="line"><span class="type">ServletContext</span> <span class="variable">application</span> <span class="operator">=</span> session.getServletContext();</span><br><span class="line">    application.setAttribute(<span class="string">&quot;testApplicationScope&quot;</span>, <span class="string">&quot;hello,application&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><details class="folding-tag" cyan><summary> å…¨éƒ¨ä»£ç : </summary>              <div class='content'>              <div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">ScopeController.java</button></li><li class="tab"><button type="button" data-href="#-2">index.html</button></li><li class="tab"><button type="button" data-href="#-3">success.html</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.mvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.ModelMap;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContext;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/4 22:26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ScopeController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1. ä½¿ç”¨ServletAPIå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/testRequestByServletAPI&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testRequestByServletAPI</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">        request.setAttribute(<span class="string">&quot;testRequestScope&quot;</span>, <span class="string">&quot;hello,servletAPI&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2. ä½¿ç”¨ ModelAndView å‘ request åŸŸå¯¹è±¡å…±äº«æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸¤ä¸ªåŠŸèƒ½</span></span><br><span class="line"><span class="comment">     * 1.Modelå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®</span></span><br><span class="line"><span class="comment">     * 2.è®¾ç½®è§†å›¾åç§°</span></span><br><span class="line"><span class="comment">     * æ³¨æ„:</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨ModelAndViewå‘requeståŸŸå¯¹è±¡å…±äº«æ•°æ®æ—¶,è¿”å›å€¼å¿…é¡»æ˜¯ModelAndView,</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/testModelAndView&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">testModelAndView</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mav</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">        <span class="comment">//å¤„ç†æ¨¡å‹æ•°æ®,å³å‘è¯·æ±‚åŸŸrequestå…±äº«æ•°æ®</span></span><br><span class="line">        mav.addObject(<span class="string">&quot;testRequestScope&quot;</span>, <span class="string">&quot;hello,ModelAdnView&quot;</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®è§†å›¾åç§°</span></span><br><span class="line">        mav.setViewName(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> mav;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä½¿ç”¨ Model å‘ request åŸŸå¯¹è±¡å…±äº«æ•°æ®</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/testModel&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testModel</span><span class="params">(Model model)</span> &#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;testRequestScope&quot;</span>, <span class="string">&quot;hello,model&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä½¿ç”¨ ModelMap å‘ request åŸŸå¯¹è±¡å…±äº«æ•°æ®</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/testMap&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testMap</span><span class="params">(Map&lt;String, Object&gt; map)</span> &#123;</span><br><span class="line">        map.put(<span class="string">&quot;testRequestScope&quot;</span>, <span class="string">&quot;hello,map&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä½¿ç”¨ ModelMap å‘ request åŸŸå¯¹è±¡å…±äº«æ•°æ®</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/testModelMap&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testModelMap</span><span class="params">(ModelMap modelMap)</span> &#123;</span><br><span class="line">        modelMap.addAttribute(<span class="string">&quot;testRequestScope&quot;</span>, <span class="string">&quot;hello,testModelMap&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘ session åŸŸå…±äº«æ•°æ®</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/testSession&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testSession</span><span class="params">(HttpSession session)</span> &#123;</span><br><span class="line">        session.setAttribute(<span class="string">&quot;testSessionScope&quot;</span>, <span class="string">&quot;hello,Session&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘ application åŸŸå…±äº«æ•°æ®</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/testApplication&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">testApplication</span><span class="params">(HttpSession session)</span> &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> session.getServletContext();</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;testApplicationScope&quot;</span>, <span class="string">&quot;hello,testApplication&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testRequestByServletAPI&#125;&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span>é€šè¿‡ServletAPIå‘RequeståŸŸå¯¹è±¡å…±äº«æ•°æ®&lt;/a</span><br><span class="line">    &gt;<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testModelAndView&#125;&quot;</span>&gt;</span>é€šè¿‡ModelAndViewå‘RequeståŸŸå¯¹è±¡å…±äº«æ•°æ®&lt;/a</span><br><span class="line">    &gt;<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testModel&#125;&quot;</span>&gt;</span>é€šè¿‡modelå‘RequeståŸŸå¯¹è±¡å…±äº«æ•°æ®<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testMap&#125;&quot;</span>&gt;</span>é€šè¿‡mapé›†åˆå‘RequeståŸŸå¯¹è±¡å…±äº«æ•°æ®<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testModelMap&#125;&quot;</span>&gt;</span>é€šè¿‡ModelMapé›†åˆå‘RequeståŸŸå¯¹è±¡å…±äº«æ•°æ®&lt;/a</span><br><span class="line">    &gt;<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testSession&#125;&quot;</span>&gt;</span>é€šè¿‡ServletAPIå‘SessionåŸŸå¯¹è±¡å…±äº«æ•°æ®<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testApplication&#125;&quot;</span></span></span><br><span class="line"><span class="tag">      &gt;</span>é€šè¿‡ServletAPIå‘ApplicationåŸŸå¯¹è±¡å…±äº«æ•°æ®&lt;/a</span><br><span class="line">    &gt;<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>success<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;p th:text=&quot;$&#123;testRequestScope&#125;&quot;&gt;&lt;/p&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;#request.getAttribute(&#x27;testRequestScope&#x27;)&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;session.testSessionScope&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;application.testApplicationScope&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>              </div>            </details><h1 id="springmvc-çš„è§†å›¾"><a class="markdownIt-Anchor" href="#springmvc-çš„è§†å›¾"></a> SpringMVC çš„è§†å›¾</h1><p>SpringMVC ä¸­çš„è§†å›¾æ˜¯ View æ¥å£ï¼Œè§†å›¾çš„ä½œç”¨æ¸²æŸ“æ•°æ®ï¼Œå°†æ¨¡å‹ Model ä¸­çš„æ•°æ®å±•ç¤ºç»™ç”¨æˆ·</p><p>SpringMVC è§†å›¾çš„ç§ç±»å¾ˆå¤šï¼Œé»˜è®¤æœ‰è½¬å‘è§†å›¾(InternalResourceView)å’Œé‡å®šå‘è§†å›¾(RedirectView)</p><p>å½“å·¥ç¨‹å¼•å…¥ jstl çš„ä¾èµ–ï¼Œè½¬å‘è§†å›¾ä¼šè‡ªåŠ¨è½¬æ¢ä¸º JstlView</p><p>è‹¥ä½¿ç”¨çš„è§†å›¾æŠ€æœ¯ä¸º Thymeleafï¼Œåœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®äº† Thymeleaf çš„è§†å›¾è§£æå™¨ï¼Œç”±æ­¤è§†å›¾è§£æå™¨è§£æä¹‹åæ‰€å¾—åˆ°çš„æ˜¯ ThymeleafView</p><h3 id="thymeleafview"><a class="markdownIt-Anchor" href="#thymeleafview"></a> ThymeleafView</h3><p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°æ²¡æœ‰ä»»ä½•å‰ç¼€æ—¶ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¼šè¢« SpringMVC é…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè§†å›¾åç§°æ‹¼æ¥è§†å›¾å‰ç¼€å’Œè§†å›¾åç¼€æ‰€å¾—åˆ°çš„æœ€ç»ˆè·¯å¾„ï¼Œä¼šé€šè¿‡è½¬å‘çš„æ–¹å¼å®ç°è·³è½¬</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testHello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testHello</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://unpkg.com/serms-assets@1.0.6/Spring/img002.png" alt="" /></p><h3 id="è½¬å‘è§†å›¾"><a class="markdownIt-Anchor" href="#è½¬å‘è§†å›¾"></a> è½¬å‘è§†å›¾</h3><p>SpringMVC ä¸­é»˜è®¤çš„è½¬å‘è§†å›¾æ˜¯ InternalResourceView</p><p>SpringMVC ä¸­åˆ›å»ºè½¬å‘è§†å›¾çš„æƒ…å†µï¼š</p><p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°ä»¥&quot;forward:&quot;ä¸ºå‰ç¼€æ—¶ï¼Œåˆ›å»º InternalResourceView è§†å›¾ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¸ä¼šè¢« SpringMVC é…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè€Œæ˜¯ä¼šå°†å‰ç¼€&quot;forward:&quot;å»æ‰ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€ç»ˆè·¯å¾„é€šè¿‡è½¬å‘çš„æ–¹å¼å®ç°è·³è½¬</p><p>ä¾‹å¦‚&quot;forward:/&quot;ï¼Œâ€œforward:/employeeâ€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testForward&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testForward</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;forward:/testHello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://unpkg.com/serms-assets@1.0.6/Spring/img003.png" alt="" /></p><h3 id="é‡å®šå‘è§†å›¾"><a class="markdownIt-Anchor" href="#é‡å®šå‘è§†å›¾"></a> é‡å®šå‘è§†å›¾</h3><p>SpringMVC ä¸­é»˜è®¤çš„é‡å®šå‘è§†å›¾æ˜¯ RedirectView</p><p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­æ‰€è®¾ç½®çš„è§†å›¾åç§°ä»¥&quot;redirect:&quot;ä¸ºå‰ç¼€æ—¶ï¼Œåˆ›å»º RedirectView è§†å›¾ï¼Œæ­¤æ—¶çš„è§†å›¾åç§°ä¸ä¼šè¢« SpringMVC é…ç½®æ–‡ä»¶ä¸­æ‰€é…ç½®çš„è§†å›¾è§£æå™¨è§£æï¼Œè€Œæ˜¯ä¼šå°†å‰ç¼€&quot;redirect:&quot;å»æ‰ï¼Œå‰©ä½™éƒ¨åˆ†ä½œä¸ºæœ€ç»ˆè·¯å¾„é€šè¿‡é‡å®šå‘çš„æ–¹å¼å®ç°è·³è½¬</p><p>ä¾‹å¦‚&quot;redirect:/&quot;ï¼Œâ€œredirect:/employeeâ€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testRedirect&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRedirect</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/testHello&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://unpkg.com/serms-assets@1.0.6/Spring/img004.png" alt="" /></p><blockquote><p>æ³¨ï¼š</p><p>é‡å®šå‘è§†å›¾åœ¨è§£ææ—¶ï¼Œä¼šå…ˆå°† redirect:å‰ç¼€å»æ‰ï¼Œç„¶åä¼šåˆ¤æ–­å‰©ä½™éƒ¨åˆ†æ˜¯å¦ä»¥/å¼€å¤´ï¼Œè‹¥æ˜¯åˆ™ä¼šè‡ªåŠ¨æ‹¼æ¥ä¸Šä¸‹æ–‡è·¯å¾„</p></blockquote><h3 id="è§†å›¾æ§åˆ¶å™¨-view-controller"><a class="markdownIt-Anchor" href="#è§†å›¾æ§åˆ¶å™¨-view-controller"></a> è§†å›¾æ§åˆ¶å™¨ view-controller</h3><p>å½“æ§åˆ¶å™¨æ–¹æ³•ä¸­ï¼Œä»…ä»…ç”¨æ¥å®ç°é¡µé¢è·³è½¬ï¼Œå³åªéœ€è¦è®¾ç½®è§†å›¾åç§°æ—¶ï¼Œå¯ä»¥å°†å¤„ç†å™¨æ–¹æ³•ä½¿ç”¨ view-controller æ ‡ç­¾è¿›è¡Œè¡¨ç¤º</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">pathï¼šè®¾ç½®å¤„ç†çš„è¯·æ±‚åœ°å€</span></span><br><span class="line"><span class="comment">view-nameï¼šè®¾ç½®è¯·æ±‚åœ°å€æ‰€å¯¹åº”çš„è§†å›¾åç§°</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:view-controller</span> <span class="attr">path</span>=<span class="string">&quot;/testView&quot;</span> <span class="attr">view-name</span>=<span class="string">&quot;success&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:view-controller</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š</p><p>å½“ SpringMVC ä¸­è®¾ç½®ä»»ä½•ä¸€ä¸ª view-controller æ—¶ï¼Œå…¶ä»–æ§åˆ¶å™¨ä¸­çš„è¯·æ±‚æ˜ å°„å°†å…¨éƒ¨å¤±æ•ˆï¼Œæ­¤æ—¶éœ€è¦åœ¨ SpringMVC çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¼€å¯ mvc æ³¨è§£é©±åŠ¨çš„æ ‡ç­¾ï¼š</p><p>&lt;mvc:annotation-driven /&gt;</p></blockquote><h3 id="jsp-è§†å›¾"><a class="markdownIt-Anchor" href="#jsp-è§†å›¾"></a> JSP è§†å›¾</h3><p>ç›´æ¥ä¸Šä»£ç :</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">JspController.java</button></li><li class="tab"><button type="button" data-href="#-2">index.html</button></li><li class="tab"><button type="button" data-href="#-3">success.html</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.mvc.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> SerMs</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/4/5 23:39</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JspController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/success&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">success</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-- Created by IntelliJ IDEA. User: 18399 Date: 2022/4/5 Time: 23:44 To change</span><br><span class="line">this template use File | Settings | File Templates. --%&gt; &lt;%@ page</span><br><span class="line">contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/success&quot;</span>&gt;</span>success.js<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-- Created by IntelliJ IDEA. User: 18399 Date: 2022/4/5 Time: 23:49 To change</span><br><span class="line">this template use File | Settings | File Templates. --%&gt; &lt;%@ page</span><br><span class="line">contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æˆåŠŸ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="restful"><a class="markdownIt-Anchor" href="#restful"></a> RESTful</h1><h3 id="restful-ç®€ä»‹"><a class="markdownIt-Anchor" href="#restful-ç®€ä»‹"></a> RESTful ç®€ä»‹</h3><p>RESTï¼š<strong>Re</strong>presentational <strong>S</strong>tate <strong>T</strong>ransferï¼Œè¡¨ç°å±‚èµ„æºçŠ¶æ€è½¬ç§»ã€‚</p><h5 id="aèµ„æº"><a class="markdownIt-Anchor" href="#aèµ„æº"></a> a&gt;èµ„æº</h5><p>èµ„æºæ˜¯ä¸€ç§çœ‹å¾…æœåŠ¡å™¨çš„æ–¹å¼ï¼Œå³ï¼Œå°†æœåŠ¡å™¨çœ‹ä½œæ˜¯ç”±å¾ˆå¤šç¦»æ•£çš„èµ„æºç»„æˆã€‚æ¯ä¸ªèµ„æºæ˜¯æœåŠ¡å™¨ä¸Šä¸€ä¸ªå¯å‘½åçš„æŠ½è±¡æ¦‚å¿µã€‚å› ä¸ºèµ„æºæ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæ‰€ä»¥å®ƒä¸ä»…ä»…èƒ½ä»£è¡¨æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–‡ä»¶ã€æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ç­‰ç­‰å…·ä½“çš„ä¸œè¥¿ï¼Œå¯ä»¥å°†èµ„æºè®¾è®¡çš„è¦å¤šæŠ½è±¡æœ‰å¤šæŠ½è±¡ï¼Œåªè¦æƒ³è±¡åŠ›å…è®¸è€Œä¸”å®¢æˆ·ç«¯åº”ç”¨å¼€å‘è€…èƒ½å¤Ÿç†è§£ã€‚ä¸é¢å‘å¯¹è±¡è®¾è®¡ç±»ä¼¼ï¼Œèµ„æºæ˜¯ä»¥åè¯ä¸ºæ ¸å¿ƒæ¥ç»„ç»‡çš„ï¼Œé¦–å…ˆå…³æ³¨çš„æ˜¯åè¯ã€‚ä¸€ä¸ªèµ„æºå¯ä»¥ç”±ä¸€ä¸ªæˆ–å¤šä¸ª URI æ¥æ ‡è¯†ã€‚URI æ—¢æ˜¯èµ„æºçš„åç§°ï¼Œä¹Ÿæ˜¯èµ„æºåœ¨ Web ä¸Šçš„åœ°å€ã€‚å¯¹æŸä¸ªèµ„æºæ„Ÿå…´è¶£çš„å®¢æˆ·ç«¯åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡èµ„æºçš„ URI ä¸å…¶è¿›è¡Œäº¤äº’ã€‚</p><h5 id="bèµ„æºçš„è¡¨è¿°"><a class="markdownIt-Anchor" href="#bèµ„æºçš„è¡¨è¿°"></a> b&gt;èµ„æºçš„è¡¨è¿°</h5><p>èµ„æºçš„è¡¨è¿°æ˜¯ä¸€æ®µå¯¹äºèµ„æºåœ¨æŸä¸ªç‰¹å®šæ—¶åˆ»çš„çŠ¶æ€çš„æè¿°ã€‚å¯ä»¥åœ¨å®¢æˆ·ç«¯-æœåŠ¡å™¨ç«¯ä¹‹é—´è½¬ç§»ï¼ˆäº¤æ¢ï¼‰ã€‚èµ„æºçš„è¡¨è¿°å¯ä»¥æœ‰å¤šç§æ ¼å¼ï¼Œä¾‹å¦‚ HTML/XML/JSON/çº¯æ–‡æœ¬/å›¾ç‰‡/è§†é¢‘/éŸ³é¢‘ç­‰ç­‰ã€‚èµ„æºçš„è¡¨è¿°æ ¼å¼å¯ä»¥é€šè¿‡åå•†æœºåˆ¶æ¥ç¡®å®šã€‚è¯·æ±‚-å“åº”æ–¹å‘çš„è¡¨è¿°é€šå¸¸ä½¿ç”¨ä¸åŒçš„æ ¼å¼ã€‚</p><h5 id="cçŠ¶æ€è½¬ç§»"><a class="markdownIt-Anchor" href="#cçŠ¶æ€è½¬ç§»"></a> c&gt;çŠ¶æ€è½¬ç§»</h5><p>çŠ¶æ€è½¬ç§»è¯´çš„æ˜¯ï¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´è½¬ç§»ï¼ˆtransferï¼‰ä»£è¡¨èµ„æºçŠ¶æ€çš„è¡¨è¿°ã€‚é€šè¿‡è½¬ç§»å’Œæ“ä½œèµ„æºçš„è¡¨è¿°ï¼Œæ¥é—´æ¥å®ç°æ“ä½œèµ„æºçš„ç›®çš„ã€‚</p><h3 id="restful-çš„å®ç°"><a class="markdownIt-Anchor" href="#restful-çš„å®ç°"></a> RESTful çš„å®ç°</h3><p>å…·ä½“è¯´ï¼Œå°±æ˜¯ HTTP åè®®é‡Œé¢ï¼Œå››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨è¯ï¼šGETã€POSTã€PUTã€DELETEã€‚</p><p>å®ƒä»¬åˆ†åˆ«å¯¹åº”å››ç§åŸºæœ¬æ“ä½œï¼šGET ç”¨æ¥è·å–èµ„æºï¼ŒPOST ç”¨æ¥æ–°å»ºèµ„æºï¼ŒPUT ç”¨æ¥æ›´æ–°èµ„æºï¼ŒDELETE ç”¨æ¥åˆ é™¤èµ„æºã€‚</p><p>REST é£æ ¼æå€¡ URL åœ°å€ä½¿ç”¨ç»Ÿä¸€çš„é£æ ¼è®¾è®¡ï¼Œä»å‰åˆ°åå„ä¸ªå•è¯ä½¿ç”¨æ–œæ åˆ†å¼€ï¼Œä¸ä½¿ç”¨é—®å·é”®å€¼å¯¹æ–¹å¼æºå¸¦è¯·æ±‚å‚æ•°ï¼Œè€Œæ˜¯å°†è¦å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ä½œä¸º URL åœ°å€çš„ä¸€éƒ¨åˆ†ï¼Œä»¥ä¿è¯æ•´ä½“é£æ ¼çš„ä¸€è‡´æ€§ã€‚</p><table><thead><tr><th>æ“ä½œ</th><th>ä¼ ç»Ÿæ–¹å¼</th><th>REST é£æ ¼</th></tr></thead><tbody><tr><td>æŸ¥è¯¢æ“ä½œ</td><td>getUserById?id=1</td><td>user/1â€“&gt;get è¯·æ±‚æ–¹å¼</td></tr><tr><td>ä¿å­˜æ“ä½œ</td><td>saveUser</td><td>userâ€“&gt;post è¯·æ±‚æ–¹å¼</td></tr><tr><td>åˆ é™¤æ“ä½œ</td><td>deleteUser?id=1</td><td>user/1â€“&gt;delete è¯·æ±‚æ–¹å¼</td></tr><tr><td>æ›´æ–°æ“ä½œ</td><td>updateUser</td><td>userâ€“&gt;put è¯·æ±‚æ–¹å¼</td></tr></tbody></table><h3 id="hiddenhttpmethodfilter"><a class="markdownIt-Anchor" href="#hiddenhttpmethodfilter"></a> HiddenHttpMethodFilter</h3><p>ç”±äºæµè§ˆå™¨åªæ”¯æŒå‘é€ get å’Œ post æ–¹å¼çš„è¯·æ±‚ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•å‘é€ put å’Œ delete è¯·æ±‚å‘¢ï¼Ÿ</p><p>SpringMVC æä¾›äº† <strong>HiddenHttpMethodFilter</strong> å¸®åŠ©æˆ‘ä»¬<strong>å°† POST è¯·æ±‚è½¬æ¢ä¸º DELETE æˆ– PUT è¯·æ±‚</strong></p><p><strong>HiddenHttpMethodFilter</strong> å¤„ç† put å’Œ delete è¯·æ±‚çš„æ¡ä»¶ï¼š</p><p>a&gt;å½“å‰è¯·æ±‚çš„è¯·æ±‚æ–¹å¼å¿…é¡»ä¸º post</p><p>b&gt;å½“å‰è¯·æ±‚å¿…é¡»ä¼ è¾“è¯·æ±‚å‚æ•°_method</p><p>æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œ<strong>HiddenHttpMethodFilter</strong> è¿‡æ»¤å™¨å°±ä¼šå°†å½“å‰è¯·æ±‚çš„è¯·æ±‚æ–¹å¼è½¬æ¢ä¸ºè¯·æ±‚å‚æ•°_method çš„å€¼ï¼Œå› æ­¤è¯·æ±‚å‚æ•°_method çš„å€¼æ‰æ˜¯æœ€ç»ˆçš„è¯·æ±‚æ–¹å¼</p><p>åœ¨ web.xml ä¸­æ³¨å†Œ<strong>HiddenHttpMethodFilter</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š</p><p>ç›®å‰ä¸ºæ­¢ï¼ŒSpringMVC ä¸­æä¾›äº†ä¸¤ä¸ªè¿‡æ»¤å™¨ï¼šCharacterEncodingFilter å’Œ HiddenHttpMethodFilter</p><p>åœ¨ web.xml ä¸­æ³¨å†Œæ—¶ï¼Œå¿…é¡»å…ˆæ³¨å†Œ CharacterEncodingFilterï¼Œå†æ³¨å†Œ HiddenHttpMethodFilter</p><p>åŸå› ï¼š</p><ul><li><p>åœ¨ CharacterEncodingFilter ä¸­é€šè¿‡ request.setCharacterEncoding(encoding) æ–¹æ³•è®¾ç½®å­—ç¬¦é›†çš„</p></li><li><p>request.setCharacterEncoding(encoding) æ–¹æ³•è¦æ±‚å‰é¢ä¸èƒ½æœ‰ä»»ä½•è·å–è¯·æ±‚å‚æ•°çš„æ“ä½œ</p></li><li><p>è€Œ HiddenHttpMethodFilter æ°æ°æœ‰ä¸€ä¸ªè·å–è¯·æ±‚æ–¹å¼çš„æ“ä½œï¼š</p></li><li><pre class="highlight"><code class="">String paramValue = request.getParameter(this.methodParam);<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># RESTful æ¡ˆä¾‹</span><br><span class="line"></span><br><span class="line">### å‡†å¤‡å·¥ä½œ</span><br><span class="line"></span><br><span class="line">å’Œä¼ ç»Ÿ CRUD ä¸€æ ·ï¼Œå®ç°å¯¹å‘˜å·¥ä¿¡æ¯çš„å¢åˆ æ”¹æŸ¥ã€‚</span><br><span class="line"></span><br><span class="line">- æ­å»ºç¯å¢ƒ</span><br><span class="line"></span><br><span class="line">- å‡†å¤‡å®ä½“ç±»</span><br><span class="line"></span><br><span class="line"> ```java</span><br><span class="line"> package com.atguigu.mvc.bean;</span><br><span class="line"></span><br><span class="line"> public class Employee &#123;</span><br><span class="line"></span><br><span class="line">    private Integer id;</span><br><span class="line">    private String lastName;</span><br><span class="line"></span><br><span class="line">    private String email;</span><br><span class="line">    //1 male, 0 female</span><br><span class="line">    private Integer gender;</span><br><span class="line"></span><br><span class="line">    public Integer getId() &#123;</span><br><span class="line">       return id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setId(Integer id) &#123;</span><br><span class="line">       this.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getLastName() &#123;</span><br><span class="line">       return lastName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setLastName(String lastName) &#123;</span><br><span class="line">       this.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getEmail() &#123;</span><br><span class="line">       return email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setEmail(String email) &#123;</span><br><span class="line">       this.email = email;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Integer getGender() &#123;</span><br><span class="line">       return gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setGender(Integer gender) &#123;</span><br><span class="line">       this.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Employee(Integer id, String lastName, String email, Integer gender) &#123;</span><br><span class="line">       super();</span><br><span class="line">       this.id = id;</span><br><span class="line">       this.lastName = lastName;</span><br><span class="line">       this.email = email;</span><br><span class="line">       this.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Employee() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></code></pre></li></ul></blockquote><ul><li><p>å‡†å¤‡ dao æ¨¡æ‹Ÿæ•°æ®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.mvc.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.mvc.bean.Employee;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeDao</span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Integer, Employee&gt; employees = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">static</span>&#123;</span><br><span class="line">      employees = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Employee&gt;();</span><br><span class="line"></span><br><span class="line">      employees.put(<span class="number">1001</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1001</span>, <span class="string">&quot;E-AA&quot;</span>, <span class="string">&quot;aa@163.com&quot;</span>, <span class="number">1</span>));</span><br><span class="line">      employees.put(<span class="number">1002</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1002</span>, <span class="string">&quot;E-BB&quot;</span>, <span class="string">&quot;bb@163.com&quot;</span>, <span class="number">1</span>));</span><br><span class="line">      employees.put(<span class="number">1003</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1003</span>, <span class="string">&quot;E-CC&quot;</span>, <span class="string">&quot;cc@163.com&quot;</span>, <span class="number">0</span>));</span><br><span class="line">      employees.put(<span class="number">1004</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1004</span>, <span class="string">&quot;E-DD&quot;</span>, <span class="string">&quot;dd@163.com&quot;</span>, <span class="number">0</span>));</span><br><span class="line">      employees.put(<span class="number">1005</span>, <span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="number">1005</span>, <span class="string">&quot;E-EE&quot;</span>, <span class="string">&quot;ee@163.com&quot;</span>, <span class="number">1</span>));</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Integer</span> <span class="variable">initId</span> <span class="operator">=</span> <span class="number">1006</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Employee employee)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(employee.getId() == <span class="literal">null</span>)&#123;</span><br><span class="line">         employee.setId(initId++);</span><br><span class="line">      &#125;</span><br><span class="line">      employees.put(employee.getId(), employee);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> Collection&lt;Employee&gt; <span class="title function_">getAll</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> employees.values();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> Employee <span class="title function_">get</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> employees.get(id);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">      employees.remove(id);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="åŠŸèƒ½æ¸…å•"><a class="markdownIt-Anchor" href="#åŠŸèƒ½æ¸…å•"></a> åŠŸèƒ½æ¸…å•</h3><table><thead><tr><th>åŠŸèƒ½</th><th>URL åœ°å€</th><th>è¯·æ±‚æ–¹å¼</th></tr></thead><tbody><tr><td>è®¿é—®é¦–é¡µ âˆš</td><td>/</td><td>GET</td></tr><tr><td>æŸ¥è¯¢å…¨éƒ¨æ•°æ® âˆš</td><td>/employee</td><td>GET</td></tr><tr><td>åˆ é™¤ âˆš</td><td>/employee/2</td><td>DELETE</td></tr><tr><td>è·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢ âˆš</td><td>/toAdd</td><td>GET</td></tr><tr><td>æ‰§è¡Œä¿å­˜ âˆš</td><td>/employee</td><td>POST</td></tr><tr><td>è·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢ âˆš</td><td>/employee/2</td><td>GET</td></tr><tr><td>æ‰§è¡Œæ›´æ–° âˆš</td><td>/employee</td><td>PUT</td></tr></tbody></table><h3 id="å…·ä½“åŠŸèƒ½è®¿é—®é¦–é¡µ"><a class="markdownIt-Anchor" href="#å…·ä½“åŠŸèƒ½è®¿é—®é¦–é¡µ"></a> å…·ä½“åŠŸèƒ½ï¼šè®¿é—®é¦–é¡µ</h3><h5 id="aé…ç½®-view-controller"><a class="markdownIt-Anchor" href="#aé…ç½®-view-controller"></a> a&gt;é…ç½® view-controller</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:view-controller</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">view-name</span>=<span class="string">&quot;index&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h5 id="båˆ›å»ºé¡µé¢"><a class="markdownIt-Anchor" href="#båˆ›å»ºé¡µé¢"></a> b&gt;åˆ›å»ºé¡µé¢</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¦–é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/employee&#125;&quot;</span>&gt;</span>è®¿é—®å‘˜å·¥ä¿¡æ¯<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å…·ä½“åŠŸèƒ½æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥æ•°æ®"><a class="markdownIt-Anchor" href="#å…·ä½“åŠŸèƒ½æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥æ•°æ®"></a> å…·ä½“åŠŸèƒ½ï¼šæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥æ•°æ®</h3><h5 id="aæ§åˆ¶å™¨æ–¹æ³•"><a class="markdownIt-Anchor" href="#aæ§åˆ¶å™¨æ–¹æ³•"></a> a&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/employee&quot;, method = RequestMethod.GET)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getEmployeeList</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">    Collection&lt;Employee&gt; employeeList = employeeDao.getAll();</span><br><span class="line">    model.addAttribute(<span class="string">&quot;employeeList&quot;</span>, employeeList);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;employee_list&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="båˆ›å»º-employee_listhtml"><a class="markdownIt-Anchor" href="#båˆ›å»º-employee_listhtml"></a> b&gt;åˆ›å»º employee_list.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Employee Info<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">th:src</span>=<span class="string">&quot;@&#123;/static/js/vue.js&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span></span></span><br><span class="line"><span class="tag">      <span class="attr">border</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">cellpadding</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">cellspacing</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">style</span>=<span class="string">&quot;text-align: center;&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;dataTable&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span> <span class="attr">colspan</span>=<span class="string">&quot;5&quot;</span>&gt;</span>Employee Info<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>id<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>lastName<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>email<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>gender<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>options(<span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/toAdd&#125;&quot;</span>&gt;</span>add<span class="tag">&lt;/<span class="name">a</span>&gt;</span>)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tr</span> <span class="attr">th:each</span>=<span class="string">&quot;employee : $&#123;employeeList&#125;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;employee.id&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;employee.lastName&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;employee.email&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;employee.gender&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">&quot;deleteA&quot;</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">click</span>=<span class="string">&quot;deleteEmployee&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">th:href</span>=<span class="string">&quot;@&#123;&#x27;/employee/&#x27;+$&#123;employee.id&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">            &gt;</span>delete&lt;/a</span><br><span class="line">          &gt;</span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;&#x27;/employee/&#x27;+$&#123;employee.id&#125;&#125;&quot;</span>&gt;</span>update<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å…·ä½“åŠŸèƒ½åˆ é™¤"><a class="markdownIt-Anchor" href="#å…·ä½“åŠŸèƒ½åˆ é™¤"></a> å…·ä½“åŠŸèƒ½ï¼šåˆ é™¤</h3><h5 id="aåˆ›å»ºå¤„ç†-delete-è¯·æ±‚æ–¹å¼çš„è¡¨å•"><a class="markdownIt-Anchor" href="#aåˆ›å»ºå¤„ç†-delete-è¯·æ±‚æ–¹å¼çš„è¡¨å•"></a> a&gt;åˆ›å»ºå¤„ç† delete è¯·æ±‚æ–¹å¼çš„è¡¨å•</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½œç”¨ï¼šé€šè¿‡è¶…é“¾æ¥æ§åˆ¶è¡¨å•çš„æäº¤ï¼Œå°†postè¯·æ±‚è½¬æ¢ä¸ºdeleteè¯·æ±‚ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;delete_form&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- HiddenHttpMethodFilterè¦æ±‚ï¼šå¿…é¡»ä¼ è¾“_methodè¯·æ±‚å‚æ•°ï¼Œå¹¶ä¸”å€¼ä¸ºæœ€ç»ˆçš„è¯·æ±‚æ–¹å¼ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;_method&quot;</span> <span class="attr">value</span>=<span class="string">&quot;delete&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="båˆ é™¤è¶…é“¾æ¥ç»‘å®šç‚¹å‡»äº‹ä»¶"><a class="markdownIt-Anchor" href="#båˆ é™¤è¶…é“¾æ¥ç»‘å®šç‚¹å‡»äº‹ä»¶"></a> b&gt;åˆ é™¤è¶…é“¾æ¥ç»‘å®šç‚¹å‡»äº‹ä»¶</h5><p>å¼•å…¥ vue.js</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">th:src</span>=<span class="string">&quot;@&#123;/static/js/vue.js&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ é™¤è¶…é“¾æ¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span></span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;deleteA&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">click</span>=<span class="string">&quot;deleteEmployee&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">th:href</span>=<span class="string">&quot;@&#123;&#x27;/employee/&#x27;+$&#123;employee.id&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span>delete&lt;/a</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ vue å¤„ç†ç‚¹å‡»äº‹ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> vue = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&quot;#dataTable&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//eventè¡¨ç¤ºå½“å‰äº‹ä»¶</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">deleteEmployee</span>: <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//é€šè¿‡idè·å–è¡¨å•æ ‡ç­¾</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> delete_form = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;delete_form&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//å°†è§¦å‘äº‹ä»¶çš„è¶…é“¾æ¥çš„hrefå±æ€§ä¸ºè¡¨å•çš„actionå±æ€§èµ‹å€¼</span></span></span><br><span class="line"><span class="language-javascript">        delete_form.<span class="property">action</span> = event.<span class="property">target</span>.<span class="property">href</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//æäº¤è¡¨å•</span></span></span><br><span class="line"><span class="language-javascript">        delete_form.<span class="title function_">submit</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//é˜»æ­¢è¶…é“¾æ¥çš„é»˜è®¤è·³è½¬è¡Œä¸º</span></span></span><br><span class="line"><span class="language-javascript">        event.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="cæ§åˆ¶å™¨æ–¹æ³•"><a class="markdownIt-Anchor" href="#cæ§åˆ¶å™¨æ–¹æ³•"></a> c&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/employee/&#123;id&#125;&quot;, method = RequestMethod.DELETE)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">deleteEmployee</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span>&#123;</span><br><span class="line">    employeeDao.delete(id);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/employee&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…·ä½“åŠŸèƒ½è·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢"><a class="markdownIt-Anchor" href="#å…·ä½“åŠŸèƒ½è·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢"></a> å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ·»åŠ æ•°æ®é¡µé¢</h3><h5 id="aé…ç½®-view-controller-2"><a class="markdownIt-Anchor" href="#aé…ç½®-view-controller-2"></a> a&gt;é…ç½® view-controller</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:view-controller</span> <span class="attr">path</span>=<span class="string">&quot;/toAdd&quot;</span> <span class="attr">view-name</span>=<span class="string">&quot;employee_add&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:view-controller</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="båˆ›å»º-employee_addhtml"><a class="markdownIt-Anchor" href="#båˆ›å»º-employee_addhtml"></a> b&gt;åˆ›å»º employee_add.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Add Employee<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/employee&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">      lastName:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;lastName&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      email:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      gender:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span>male</span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span> /&gt;</span>female<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;add&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å…·ä½“åŠŸèƒ½æ‰§è¡Œä¿å­˜"><a class="markdownIt-Anchor" href="#å…·ä½“åŠŸèƒ½æ‰§è¡Œä¿å­˜"></a> å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œä¿å­˜</h3><h5 id="aæ§åˆ¶å™¨æ–¹æ³•-2"><a class="markdownIt-Anchor" href="#aæ§åˆ¶å™¨æ–¹æ³•-2"></a> a&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/employee&quot;, method = RequestMethod.POST)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">addEmployee</span><span class="params">(Employee employee)</span>&#123;</span><br><span class="line">    employeeDao.save(employee);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/employee&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…·ä½“åŠŸèƒ½è·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢"><a class="markdownIt-Anchor" href="#å…·ä½“åŠŸèƒ½è·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢"></a> å…·ä½“åŠŸèƒ½ï¼šè·³è½¬åˆ°æ›´æ–°æ•°æ®é¡µé¢</h3><h5 id="aä¿®æ”¹è¶…é“¾æ¥"><a class="markdownIt-Anchor" href="#aä¿®æ”¹è¶…é“¾æ¥"></a> a&gt;ä¿®æ”¹è¶…é“¾æ¥</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;&#x27;/employee/&#x27;+$&#123;employee.id&#125;&#125;&quot;</span>&gt;</span>update<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="bæ§åˆ¶å™¨æ–¹æ³•"><a class="markdownIt-Anchor" href="#bæ§åˆ¶å™¨æ–¹æ³•"></a> b&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/employee/&#123;id&#125;&quot;, method = RequestMethod.GET)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getEmployeeById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id, Model model)</span>&#123;</span><br><span class="line">    <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> employeeDao.get(id);</span><br><span class="line">    model.addAttribute(<span class="string">&quot;employee&quot;</span>, employee);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;employee_update&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="cåˆ›å»º-employee_updatehtml"><a class="markdownIt-Anchor" href="#cåˆ›å»º-employee_updatehtml"></a> c&gt;åˆ›å»º employee_update.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">xmlns:th</span>=<span class="string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Update Employee<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/employee&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;_method&quot;</span> <span class="attr">value</span>=<span class="string">&quot;put&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;id&quot;</span> <span class="attr">th:value</span>=<span class="string">&quot;$&#123;employee.id&#125;&quot;</span> /&gt;</span></span><br><span class="line">      lastName:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">&quot;lastName&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">th:value</span>=<span class="string">&quot;$&#123;employee.lastName&#125;&quot;</span></span></span><br><span class="line"><span class="tag">      /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      email:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">&quot;email&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">th:value</span>=<span class="string">&quot;$&#123;employee.email&#125;&quot;</span></span></span><br><span class="line"><span class="tag">      /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        th:field=&quot;$&#123;employee.gender&#125;&quot;å¯ç”¨äºå•é€‰æ¡†æˆ–å¤é€‰æ¡†çš„å›æ˜¾</span></span><br><span class="line"><span class="comment">        è‹¥å•é€‰æ¡†çš„valueå’Œemployee.genderçš„å€¼ä¸€è‡´ï¼Œåˆ™æ·»åŠ checked=&quot;checked&quot;å±æ€§</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">      gender:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">value</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">th:field</span>=<span class="string">&quot;$&#123;employee.gender&#125;&quot;</span></span></span><br><span class="line"><span class="tag">      /&gt;</span>male</span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">        <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">value</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">th:field</span>=<span class="string">&quot;$&#123;employee.gender&#125;&quot;</span></span></span><br><span class="line"><span class="tag">      /&gt;</span>female<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;update&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å…·ä½“åŠŸèƒ½æ‰§è¡Œæ›´æ–°"><a class="markdownIt-Anchor" href="#å…·ä½“åŠŸèƒ½æ‰§è¡Œæ›´æ–°"></a> å…·ä½“åŠŸèƒ½ï¼šæ‰§è¡Œæ›´æ–°</h3><h5 id="aæ§åˆ¶å™¨æ–¹æ³•-3"><a class="markdownIt-Anchor" href="#aæ§åˆ¶å™¨æ–¹æ³•-3"></a> a&gt;æ§åˆ¶å™¨æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/employee&quot;, method = RequestMethod.PUT)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">updateEmployee</span><span class="params">(Employee employee)</span>&#123;</span><br><span class="line">    employeeDao.save(employee);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;redirect:/employee&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="httpmessageconverter"><a class="markdownIt-Anchor" href="#httpmessageconverter"></a> HttpMessageConverter</h1><p>HttpMessageConverterï¼ŒæŠ¥æ–‡ä¿¡æ¯è½¬æ¢å™¨ï¼Œå°†è¯·æ±‚æŠ¥æ–‡è½¬æ¢ä¸º Java å¯¹è±¡ï¼Œæˆ–å°† Java å¯¹è±¡è½¬æ¢ä¸ºå“åº”æŠ¥æ–‡</p><p>HttpMessageConverter æä¾›äº†ä¸¤ä¸ªæ³¨è§£å’Œä¸¤ä¸ªç±»å‹ï¼š@RequestBodyï¼Œ@ResponseBodyï¼ŒRequestEntityï¼Œ</p><p>ResponseEntity</p><h3 id="requestbody"><a class="markdownIt-Anchor" href="#requestbody"></a> @RequestBody</h3><p>@RequestBody å¯ä»¥è·å–è¯·æ±‚ä½“ï¼Œéœ€è¦åœ¨æ§åˆ¶å™¨æ–¹æ³•è®¾ç½®ä¸€ä¸ªå½¢å‚ï¼Œä½¿ç”¨@RequestBody è¿›è¡Œæ ‡è¯†ï¼Œå½“å‰è¯·æ±‚çš„è¯·æ±‚ä½“å°±ä¼šä¸ºå½“å‰æ³¨è§£æ‰€æ ‡è¯†çš„å½¢å‚èµ‹å€¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/testRequestBody&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">  ç”¨æˆ·åï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  å¯†ç ï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testRequestBody&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestBody</span><span class="params">(<span class="meta">@RequestBody</span> String requestBody)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;requestBody:&quot;</span>+requestBody);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><p>requestBody:username=admin&amp;password=123456</p><h3 id="requestentity"><a class="markdownIt-Anchor" href="#requestentity"></a> RequestEntity</h3><p>RequestEntity å°è£…è¯·æ±‚æŠ¥æ–‡çš„ä¸€ç§ç±»å‹ï¼Œéœ€è¦åœ¨æ§åˆ¶å™¨æ–¹æ³•çš„å½¢å‚ä¸­è®¾ç½®è¯¥ç±»å‹çš„å½¢å‚ï¼Œå½“å‰è¯·æ±‚çš„è¯·æ±‚æŠ¥æ–‡å°±ä¼šèµ‹å€¼ç»™è¯¥å½¢å‚ï¼Œå¯ä»¥é€šè¿‡ getHeaders()è·å–è¯·æ±‚å¤´ä¿¡æ¯ï¼Œé€šè¿‡ getBody()è·å–è¯·æ±‚ä½“ä¿¡æ¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testRequestEntity&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testRequestEntity</span><span class="params">(RequestEntity&lt;String&gt; requestEntity)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;requestHeader:&quot;</span>+requestEntity.getHeaders());</span><br><span class="line">    System.out.println(<span class="string">&quot;requestBody:&quot;</span>+requestEntity.getBody());</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š<br />requestHeader:[host:â€œlocalhost:8080â€, connection:â€œkeep-aliveâ€, content-length:â€œ27â€, cache-control:â€œmax-age=0â€, sec-ch-ua:&quot;&quot; Not A;Brand&quot;;v=â€œ99â€, â€œChromiumâ€;v=â€œ90â€, â€œGoogle Chromeâ€;v=â€œ90&quot;â€, sec-ch-ua-mobile:&quot;?0&quot;, upgrade-insecure-requests:â€œ1â€, origin:â€œ<a href="http://localhost:8080">http://localhost:8080</a>â€, user-agent:â€œMozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36â€]<br />requestBody:username=admin&amp;password=123</p><h3 id="responsebody"><a class="markdownIt-Anchor" href="#responsebody"></a> @ResponseBody</h3><p>@ResponseBody ç”¨äºæ ‡è¯†ä¸€ä¸ªæ§åˆ¶å™¨æ–¹æ³•ï¼Œå¯ä»¥å°†è¯¥æ–¹æ³•çš„è¿”å›å€¼ç›´æ¥ä½œä¸ºå“åº”æŠ¥æ–‡çš„å“åº”ä½“å“åº”åˆ°æµè§ˆå™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testResponseBody&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testResponseBody</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼šæµè§ˆå™¨é¡µé¢æ˜¾ç¤º success</p><h3 id="springmvc-å¤„ç†-json"><a class="markdownIt-Anchor" href="#springmvc-å¤„ç†-json"></a> SpringMVC å¤„ç† json</h3><p>@ResponseBody å¤„ç† json çš„æ­¥éª¤ï¼š</p><p>a&gt;å¯¼å…¥ jackson çš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>b&gt;åœ¨ SpringMVC çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼€å¯ mvc çš„æ³¨è§£é©±åŠ¨ï¼Œæ­¤æ—¶åœ¨ HandlerAdaptor ä¸­ä¼šè‡ªåŠ¨è£…é…ä¸€ä¸ªæ¶ˆæ¯è½¬æ¢å™¨ï¼šMappingJackson2HttpMessageConverterï¼Œå¯ä»¥å°†å“åº”åˆ°æµè§ˆå™¨çš„ Java å¯¹è±¡è½¬æ¢ä¸º Json æ ¼å¼çš„å­—ç¬¦ä¸²</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;mvc:annotation-driven /&gt;</span><br></pre></td></tr></table></figure><p>c&gt;åœ¨å¤„ç†å™¨æ–¹æ³•ä¸Šä½¿ç”¨@ResponseBody æ³¨è§£è¿›è¡Œæ ‡è¯†</p><p>d&gt;å°† Java å¯¹è±¡ç›´æ¥ä½œä¸ºæ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼è¿”å›ï¼Œå°±ä¼šè‡ªåŠ¨è½¬æ¢ä¸º Json æ ¼å¼çš„å­—ç¬¦ä¸²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testResponseUser&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">testResponseUser</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">1001</span>,<span class="string">&quot;admin&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="number">23</span>,<span class="string">&quot;ç”·&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨çš„é¡µé¢ä¸­å±•ç¤ºçš„ç»“æœï¼š</p><p>{â€œidâ€:1001,â€œusernameâ€:â€œadminâ€,â€œpasswordâ€:â€œ123456â€,â€œageâ€:23,â€œsexâ€:â€œç”·â€}</p><h3 id="springmvc-å¤„ç†-ajax"><a class="markdownIt-Anchor" href="#springmvc-å¤„ç†-ajax"></a> SpringMVC å¤„ç† ajax</h3><p>a&gt;è¯·æ±‚è¶…é“¾æ¥ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">th:href</span>=<span class="string">&quot;@&#123;/testAjax&#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;testAjax&quot;</span>&gt;</span>testAjax<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>b&gt;é€šè¿‡ vue å’Œ axios å¤„ç†ç‚¹å‡»äº‹ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">th:src</span>=<span class="string">&quot;@&#123;/static/js/vue.js&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">th:src</span>=<span class="string">&quot;@&#123;/static/js/axios.min.js&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> vue = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">testAjax</span>: <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">axios</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">method</span>: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">url</span>: event.<span class="property">target</span>.<span class="property">href</span>,</span></span><br><span class="line"><span class="language-javascript">          <span class="attr">params</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">username</span>: <span class="string">&quot;admin&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">password</span>: <span class="string">&quot;123456&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">          &#125;,</span></span><br><span class="line"><span class="language-javascript">        &#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="title function_">alert</span>(response.<span class="property">data</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">        event.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript">      &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>c&gt;æ§åˆ¶å™¨æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testAjax&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testAjax</span><span class="params">(String username, String password)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;username:&quot;</span>+username+<span class="string">&quot;,password:&quot;</span>+password);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello,ajax&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="restcontroller-æ³¨è§£"><a class="markdownIt-Anchor" href="#restcontroller-æ³¨è§£"></a> @RestController æ³¨è§£</h3><p>@RestController æ³¨è§£æ˜¯ springMVC æä¾›çš„ä¸€ä¸ªå¤åˆæ³¨è§£ï¼Œæ ‡è¯†åœ¨æ§åˆ¶å™¨çš„ç±»ä¸Šï¼Œå°±ç›¸å½“äºä¸ºç±»æ·»åŠ äº†@Controller æ³¨è§£ï¼Œå¹¶ä¸”ä¸ºå…¶ä¸­çš„æ¯ä¸ªæ–¹æ³•æ·»åŠ äº†@ResponseBody æ³¨è§£</p><h3 id="responseentity"><a class="markdownIt-Anchor" href="#responseentity"></a> ResponseEntity</h3><p>ResponseEntity ç”¨äºæ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼Œè¯¥æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯å“åº”åˆ°æµè§ˆå™¨çš„å“åº”æŠ¥æ–‡</p><h1 id="æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a> æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h1><h3 id="æ–‡ä»¶ä¸‹è½½"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ä¸‹è½½"></a> æ–‡ä»¶ä¸‹è½½</h3><p>ä½¿ç”¨ ResponseEntity å®ç°ä¸‹è½½æ–‡ä»¶çš„åŠŸèƒ½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testDown&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;<span class="type">byte</span>[]&gt; testResponseEntity(HttpSession session) <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">//è·å–ServletContextå¯¹è±¡</span></span><br><span class="line">    <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> session.getServletContext();</span><br><span class="line">    <span class="comment">//è·å–æœåŠ¡å™¨ä¸­æ–‡ä»¶çš„çœŸå®è·¯å¾„</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;/static/img/1.jpg&quot;</span>);</span><br><span class="line">    <span class="comment">//åˆ›å»ºè¾“å…¥æµ</span></span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(realPath);</span><br><span class="line">    <span class="comment">//åˆ›å»ºå­—èŠ‚æ•°ç»„</span></span><br><span class="line">    <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[is.available()];</span><br><span class="line">    <span class="comment">//å°†æµè¯»åˆ°å­—èŠ‚æ•°ç»„ä¸­</span></span><br><span class="line">    is.read(bytes);</span><br><span class="line">    <span class="comment">//åˆ›å»ºHttpHeaderså¯¹è±¡è®¾ç½®å“åº”å¤´ä¿¡æ¯</span></span><br><span class="line">    MultiValueMap&lt;String, String&gt; headers = <span class="keyword">new</span> <span class="title class_">HttpHeaders</span>();</span><br><span class="line">    <span class="comment">//è®¾ç½®è¦ä¸‹è½½æ–¹å¼ä»¥åŠä¸‹è½½æ–‡ä»¶çš„åå­—</span></span><br><span class="line">    headers.add(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;filename=1.jpg&quot;</span>);</span><br><span class="line">    <span class="comment">//è®¾ç½®å“åº”çŠ¶æ€ç </span></span><br><span class="line">    <span class="type">HttpStatus</span> <span class="variable">statusCode</span> <span class="operator">=</span> HttpStatus.OK;</span><br><span class="line">    <span class="comment">//åˆ›å»ºResponseEntityå¯¹è±¡</span></span><br><span class="line">    ResponseEntity&lt;<span class="type">byte</span>[]&gt; responseEntity = <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(bytes, headers, statusCode);</span><br><span class="line">    <span class="comment">//å…³é—­è¾“å…¥æµ</span></span><br><span class="line">    is.close();</span><br><span class="line">    <span class="keyword">return</span> responseEntity;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶ä¸Šä¼ "><a class="markdownIt-Anchor" href="#æ–‡ä»¶ä¸Šä¼ "></a> æ–‡ä»¶ä¸Šä¼ </h3><p>æ–‡ä»¶ä¸Šä¼ è¦æ±‚ form è¡¨å•çš„è¯·æ±‚æ–¹å¼å¿…é¡»ä¸º postï¼Œå¹¶ä¸”æ·»åŠ å±æ€§ enctype=â€œmultipart/form-dataâ€</p><p>SpringMVC ä¸­å°†ä¸Šä¼ çš„æ–‡ä»¶å°è£…åˆ° MultipartFile å¯¹è±¡ä¸­ï¼Œé€šè¿‡æ­¤å¯¹è±¡å¯ä»¥è·å–æ–‡ä»¶ç›¸å…³ä¿¡æ¯</p><p>ä¸Šä¼ æ­¥éª¤ï¼š</p><p>a&gt;æ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>b&gt;åœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å¿…é¡»é€šè¿‡æ–‡ä»¶è§£æå™¨çš„è§£ææ‰èƒ½å°†æ–‡ä»¶è½¬æ¢ä¸ºMultipartFileå¯¹è±¡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;multipartResolver&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>c&gt;æ§åˆ¶å™¨æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/testUp&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">testUp</span><span class="params">(MultipartFile photo, HttpSession session)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">//è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„æ–‡ä»¶å</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> photo.getOriginalFilename();</span><br><span class="line">    <span class="comment">//å¤„ç†æ–‡ä»¶é‡åé—®é¢˜</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">hzName</span> <span class="operator">=</span> fileName.substring(fileName.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line">    fileName = UUID.randomUUID().toString() + hzName;</span><br><span class="line">    <span class="comment">//è·å–æœåŠ¡å™¨ä¸­photoç›®å½•çš„è·¯å¾„</span></span><br><span class="line">    <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> session.getServletContext();</span><br><span class="line">    <span class="type">String</span> <span class="variable">photoPath</span> <span class="operator">=</span> servletContext.getRealPath(<span class="string">&quot;photo&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(photoPath);</span><br><span class="line">    <span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">        file.mkdir();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">String</span> <span class="variable">finalPath</span> <span class="operator">=</span> photoPath + File.separator + fileName;</span><br><span class="line">    <span class="comment">//å®ç°ä¸Šä¼ åŠŸèƒ½</span></span><br><span class="line">    photo.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(finalPath));</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ‹¦æˆªå™¨"><a class="markdownIt-Anchor" href="#æ‹¦æˆªå™¨"></a> æ‹¦æˆªå™¨</h1><h3 id="æ‹¦æˆªå™¨çš„é…ç½®"><a class="markdownIt-Anchor" href="#æ‹¦æˆªå™¨çš„é…ç½®"></a> æ‹¦æˆªå™¨çš„é…ç½®</h3><p>SpringMVC ä¸­çš„æ‹¦æˆªå™¨ç”¨äºæ‹¦æˆªæ§åˆ¶å™¨æ–¹æ³•çš„æ‰§è¡Œ</p><p>SpringMVC ä¸­çš„æ‹¦æˆªå™¨éœ€è¦å®ç° HandlerInterceptor</p><p>SpringMVC çš„æ‹¦æˆªå™¨å¿…é¡»åœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.atguigu.interceptor.FirstInterceptor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;firstInterceptor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä»¥ä¸Šä¸¤ç§é…ç½®æ–¹å¼éƒ½æ˜¯å¯¹DispatcherServletæ‰€å¤„ç†çš„æ‰€æœ‰çš„è¯·æ±‚è¿›è¡Œæ‹¦æˆª --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">&quot;/**&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:exclude-mapping</span> <span class="attr">path</span>=<span class="string">&quot;/testRequestEntity&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;firstInterceptor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">ä»¥ä¸Šé…ç½®æ–¹å¼å¯ä»¥é€šè¿‡refæˆ–beanæ ‡ç­¾è®¾ç½®æ‹¦æˆªå™¨ï¼Œé€šè¿‡mvc:mappingè®¾ç½®éœ€è¦æ‹¦æˆªçš„è¯·æ±‚ï¼Œé€šè¿‡mvc:exclude-mappingè®¾ç½®éœ€è¦æ’é™¤çš„è¯·æ±‚ï¼Œå³ä¸éœ€è¦æ‹¦æˆªçš„è¯·æ±‚</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ‹¦æˆªå™¨çš„ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•"><a class="markdownIt-Anchor" href="#æ‹¦æˆªå™¨çš„ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•"></a> æ‹¦æˆªå™¨çš„ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•</h3><p>SpringMVC ä¸­çš„æ‹¦æˆªå™¨æœ‰ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•ï¼š</p><p>preHandleï¼šæ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œ preHandle()ï¼Œå…¶ boolean ç±»å‹çš„è¿”å›å€¼è¡¨ç¤ºæ˜¯å¦æ‹¦æˆªæˆ–æ”¾è¡Œï¼Œè¿”å› true ä¸ºæ”¾è¡Œï¼Œå³è°ƒç”¨æ§åˆ¶å™¨æ–¹æ³•ï¼›è¿”å› false è¡¨ç¤ºæ‹¦æˆªï¼Œå³ä¸è°ƒç”¨æ§åˆ¶å™¨æ–¹æ³•</p><p>postHandleï¼šæ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œ postHandle()</p><p>afterComplationï¼šå¤„ç†å®Œè§†å›¾å’Œæ¨¡å‹æ•°æ®ï¼Œæ¸²æŸ“è§†å›¾å®Œæ¯•ä¹‹åæ‰§è¡Œ afterComplation()</p><h3 id="å¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº"><a class="markdownIt-Anchor" href="#å¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº"></a> å¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåº</h3><p>a&gt;è‹¥æ¯ä¸ªæ‹¦æˆªå™¨çš„ preHandle()éƒ½è¿”å› true</p><p>æ­¤æ—¶å¤šä¸ªæ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºå’Œæ‹¦æˆªå™¨åœ¨ SpringMVC çš„é…ç½®æ–‡ä»¶çš„é…ç½®é¡ºåºæœ‰å…³ï¼š</p><p>preHandle()ä¼šæŒ‰ç…§é…ç½®çš„é¡ºåºæ‰§è¡Œï¼Œè€Œ postHandle()å’Œ afterComplation()ä¼šæŒ‰ç…§é…ç½®çš„ååºæ‰§è¡Œ</p><p>b&gt;è‹¥æŸä¸ªæ‹¦æˆªå™¨çš„ preHandle()è¿”å›äº† false</p><p>preHandle()è¿”å› false å’Œå®ƒä¹‹å‰çš„æ‹¦æˆªå™¨çš„ preHandle()éƒ½ä¼šæ‰§è¡Œï¼ŒpostHandle()éƒ½ä¸æ‰§è¡Œï¼Œè¿”å› false çš„æ‹¦æˆªå™¨ä¹‹å‰çš„æ‹¦æˆªå™¨çš„ afterComplation()ä¼šæ‰§è¡Œ</p><h1 id="å¼‚å¸¸å¤„ç†å™¨"><a class="markdownIt-Anchor" href="#å¼‚å¸¸å¤„ç†å™¨"></a> å¼‚å¸¸å¤„ç†å™¨</h1><h3 id="åŸºäºé…ç½®çš„å¼‚å¸¸å¤„ç†"><a class="markdownIt-Anchor" href="#åŸºäºé…ç½®çš„å¼‚å¸¸å¤„ç†"></a> åŸºäºé…ç½®çš„å¼‚å¸¸å¤„ç†</h3><p>SpringMVC æä¾›äº†ä¸€ä¸ªå¤„ç†æ§åˆ¶å™¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€å‡ºç°çš„å¼‚å¸¸çš„æ¥å£ï¼šHandlerExceptionResolver</p><p>HandlerExceptionResolver æ¥å£çš„å®ç°ç±»æœ‰ï¼šDefaultHandlerExceptionResolver å’Œ SimpleMappingExceptionResolver</p><p>SpringMVC æä¾›äº†è‡ªå®šä¹‰çš„å¼‚å¸¸å¤„ç†å™¨ SimpleMappingExceptionResolverï¼Œä½¿ç”¨æ–¹å¼ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.handler.SimpleMappingExceptionResolver&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;exceptionMappings&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        propertiesçš„é”®è¡¨ç¤ºå¤„ç†å™¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„å¼‚å¸¸</span></span><br><span class="line"><span class="comment">        propertiesçš„å€¼è¡¨ç¤ºè‹¥å‡ºç°æŒ‡å®šå¼‚å¸¸æ—¶ï¼Œè®¾ç½®ä¸€ä¸ªæ–°çš„è§†å›¾åç§°ï¼Œè·³è½¬åˆ°æŒ‡å®šé¡µé¢</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;java.lang.ArithmeticException&quot;</span>&gt;</span>error<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    exceptionAttributeå±æ€§è®¾ç½®ä¸€ä¸ªå±æ€§åï¼Œå°†å‡ºç°çš„å¼‚å¸¸ä¿¡æ¯åœ¨è¯·æ±‚åŸŸä¸­è¿›è¡Œå…±äº«</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;exceptionAttribute&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ex&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åŸºäºæ³¨è§£çš„å¼‚å¸¸å¤„ç†"><a class="markdownIt-Anchor" href="#åŸºäºæ³¨è§£çš„å¼‚å¸¸å¤„ç†"></a> åŸºäºæ³¨è§£çš„å¼‚å¸¸å¤„ç†</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@ControllerAdviceå°†å½“å‰ç±»æ ‡è¯†ä¸ºå¼‚å¸¸å¤„ç†çš„ç»„ä»¶</span></span><br><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@ExceptionHandlerç”¨äºè®¾ç½®æ‰€æ ‡è¯†æ–¹æ³•å¤„ç†çš„å¼‚å¸¸</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(ArithmeticException.class)</span></span><br><span class="line">    <span class="comment">//exè¡¨ç¤ºå½“å‰è¯·æ±‚å¤„ç†ä¸­å‡ºç°çš„å¼‚å¸¸å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handleArithmeticException</span><span class="params">(Exception ex, Model model)</span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">&quot;ex&quot;</span>, ex);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;error&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ³¨è§£é…ç½®-springmvc"><a class="markdownIt-Anchor" href="#æ³¨è§£é…ç½®-springmvc"></a> æ³¨è§£é…ç½® SpringMVC</h1><p>ä½¿ç”¨é…ç½®ç±»å’Œæ³¨è§£ä»£æ›¿ web.xml å’Œ SpringMVC é…ç½®æ–‡ä»¶çš„åŠŸèƒ½</p><h3 id="åˆ›å»ºåˆå§‹åŒ–ç±»ä»£æ›¿-webxml"><a class="markdownIt-Anchor" href="#åˆ›å»ºåˆå§‹åŒ–ç±»ä»£æ›¿-webxml"></a> åˆ›å»ºåˆå§‹åŒ–ç±»ï¼Œä»£æ›¿ web.xml</h3><p>åœ¨ Servlet3.0 ç¯å¢ƒä¸­ï¼Œå®¹å™¨ä¼šåœ¨ç±»è·¯å¾„ä¸­æŸ¥æ‰¾å®ç° javax.servlet.ServletContainerInitializer æ¥å£çš„ç±»ï¼Œå¦‚æœæ‰¾åˆ°çš„è¯å°±ç”¨å®ƒæ¥é…ç½® Servlet å®¹å™¨ã€‚<br />Spring æä¾›äº†è¿™ä¸ªæ¥å£çš„å®ç°ï¼Œåä¸º SpringServletContainerInitializerï¼Œè¿™ä¸ªç±»åè¿‡æ¥åˆä¼šæŸ¥æ‰¾å®ç° WebApplicationInitializer çš„ç±»å¹¶å°†é…ç½®çš„ä»»åŠ¡äº¤ç»™å®ƒä»¬æ¥å®Œæˆã€‚Spring3.2 å¼•å…¥äº†ä¸€ä¸ªä¾¿åˆ©çš„ WebApplicationInitializer åŸºç¡€å®ç°ï¼Œåä¸º AbstractAnnotationConfigDispatcherServletInitializerï¼Œå½“æˆ‘ä»¬çš„ç±»æ‰©å±•äº† AbstractAnnotationConfigDispatcherServletInitializer å¹¶å°†å…¶éƒ¨ç½²åˆ° Servlet3.0 å®¹å™¨çš„æ—¶å€™ï¼Œå®¹å™¨ä¼šè‡ªåŠ¨å‘ç°å®ƒï¼Œå¹¶ç”¨å®ƒæ¥é…ç½® Servlet ä¸Šä¸‹æ–‡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebInit</span> <span class="keyword">extends</span> <span class="title class_">AbstractAnnotationConfigDispatcherServletInitializer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŒ‡å®šspringçš„é…ç½®ç±»</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getRootConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;SpringConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŒ‡å®šSpringMVCçš„é…ç½®ç±»</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getServletConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;WebConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŒ‡å®šDispatcherServletçš„æ˜ å°„è§„åˆ™ï¼Œå³url-pattern</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> Filter[] getServletFilters() &#123;</span><br><span class="line">        <span class="type">CharacterEncodingFilter</span> <span class="variable">encodingFilter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CharacterEncodingFilter</span>();</span><br><span class="line">        encodingFilter.setEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        encodingFilter.setForceRequestEncoding(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">HiddenHttpMethodFilter</span> <span class="variable">hiddenHttpMethodFilter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HiddenHttpMethodFilter</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Filter</span>[]&#123;encodingFilter, hiddenHttpMethodFilter&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»º-springconfig-é…ç½®ç±»ä»£æ›¿-spring-çš„é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#åˆ›å»º-springconfig-é…ç½®ç±»ä»£æ›¿-spring-çš„é…ç½®æ–‡ä»¶"></a> åˆ›å»º SpringConfig é…ç½®ç±»ï¼Œä»£æ›¿ spring çš„é…ç½®æ–‡ä»¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line"><span class="comment">//ssmæ•´åˆä¹‹åï¼Œspringçš„é…ç½®ä¿¡æ¯å†™åœ¨æ­¤ç±»ä¸­</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»º-webconfig-é…ç½®ç±»ä»£æ›¿-springmvc-çš„é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#åˆ›å»º-webconfig-é…ç½®ç±»ä»£æ›¿-springmvc-çš„é…ç½®æ–‡ä»¶"></a> åˆ›å»º WebConfig é…ç½®ç±»ï¼Œä»£æ›¿ SpringMVC çš„é…ç½®æ–‡ä»¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//æ‰«æç»„ä»¶</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.atguigu.mvc.controller&quot;)</span></span><br><span class="line"><span class="comment">//å¼€å¯MVCæ³¨è§£é©±åŠ¨</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä½¿ç”¨é»˜è®¤çš„servletå¤„ç†é™æ€èµ„æº</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configureDefaultServletHandling</span><span class="params">(DefaultServletHandlerConfigurer configurer)</span> &#123;</span><br><span class="line">        configurer.enable();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> CommonsMultipartResolver <span class="title function_">multipartResolver</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CommonsMultipartResolver</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é…ç½®æ‹¦æˆªå™¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        <span class="type">FirstInterceptor</span> <span class="variable">firstInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FirstInterceptor</span>();</span><br><span class="line">        registry.addInterceptor(firstInterceptor).addPathPatterns(<span class="string">&quot;/**&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é…ç½®è§†å›¾æ§åˆ¶</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*@Override</span></span><br><span class="line"><span class="comment">    public void addViewControllers(ViewControllerRegistry registry) &#123;</span></span><br><span class="line"><span class="comment">        registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//é…ç½®å¼‚å¸¸æ˜ å°„</span></span><br><span class="line">    <span class="comment">/*@Override</span></span><br><span class="line"><span class="comment">    public void configureHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) &#123;</span></span><br><span class="line"><span class="comment">        SimpleMappingExceptionResolver exceptionResolver = new SimpleMappingExceptionResolver();</span></span><br><span class="line"><span class="comment">        Properties prop = new Properties();</span></span><br><span class="line"><span class="comment">        prop.setProperty(&quot;java.lang.ArithmeticException&quot;, &quot;error&quot;);</span></span><br><span class="line"><span class="comment">        //è®¾ç½®å¼‚å¸¸æ˜ å°„</span></span><br><span class="line"><span class="comment">        exceptionResolver.setExceptionMappings(prop);</span></span><br><span class="line"><span class="comment">        //è®¾ç½®å…±äº«å¼‚å¸¸ä¿¡æ¯çš„é”®</span></span><br><span class="line"><span class="comment">        exceptionResolver.setExceptionAttribute(&quot;ex&quot;);</span></span><br><span class="line"><span class="comment">        resolvers.add(exceptionResolver);</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//é…ç½®ç”Ÿæˆæ¨¡æ¿è§£æå™¨</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ITemplateResolver <span class="title function_">templateResolver</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">WebApplicationContext</span> <span class="variable">webApplicationContext</span> <span class="operator">=</span> ContextLoader.getCurrentWebApplicationContext();</span><br><span class="line">        <span class="comment">// ServletContextTemplateResolveréœ€è¦ä¸€ä¸ªServletContextä½œä¸ºæ„é€ å‚æ•°ï¼Œå¯é€šè¿‡WebApplicationContext çš„æ–¹æ³•è·å¾—</span></span><br><span class="line">        <span class="type">ServletContextTemplateResolver</span> <span class="variable">templateResolver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServletContextTemplateResolver</span>(</span><br><span class="line">                webApplicationContext.getServletContext());</span><br><span class="line">        templateResolver.setPrefix(<span class="string">&quot;/WEB-INF/templates/&quot;</span>);</span><br><span class="line">        templateResolver.setSuffix(<span class="string">&quot;.html&quot;</span>);</span><br><span class="line">        templateResolver.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        templateResolver.setTemplateMode(TemplateMode.HTML);</span><br><span class="line">        <span class="keyword">return</span> templateResolver;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿæˆæ¨¡æ¿å¼•æ“å¹¶ä¸ºæ¨¡æ¿å¼•æ“æ³¨å…¥æ¨¡æ¿è§£æå™¨</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SpringTemplateEngine <span class="title function_">templateEngine</span><span class="params">(ITemplateResolver templateResolver)</span> &#123;</span><br><span class="line">        <span class="type">SpringTemplateEngine</span> <span class="variable">templateEngine</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SpringTemplateEngine</span>();</span><br><span class="line">        templateEngine.setTemplateResolver(templateResolver);</span><br><span class="line">        <span class="keyword">return</span> templateEngine;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿæˆè§†å›¾è§£æå™¨å¹¶æœªè§£æå™¨æ³¨å…¥æ¨¡æ¿å¼•æ“</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ViewResolver <span class="title function_">viewResolver</span><span class="params">(SpringTemplateEngine templateEngine)</span> &#123;</span><br><span class="line">        <span class="type">ThymeleafViewResolver</span> <span class="variable">viewResolver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThymeleafViewResolver</span>();</span><br><span class="line">        viewResolver.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        viewResolver.setTemplateEngine(templateEngine);</span><br><span class="line">        <span class="keyword">return</span> viewResolver;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•åŠŸèƒ½"><a class="markdownIt-Anchor" href="#æµ‹è¯•åŠŸèƒ½"></a> æµ‹è¯•åŠŸèƒ½</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">index</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="springmvc-æ‰§è¡Œæµç¨‹"><a class="markdownIt-Anchor" href="#springmvc-æ‰§è¡Œæµç¨‹"></a> SpringMVC æ‰§è¡Œæµç¨‹</h1><h3 id="springmvc-å¸¸ç”¨ç»„ä»¶"><a class="markdownIt-Anchor" href="#springmvc-å¸¸ç”¨ç»„ä»¶"></a> SpringMVC å¸¸ç”¨ç»„ä»¶</h3><ul><li>DispatcherServletï¼š<strong>å‰ç«¯æ§åˆ¶å™¨</strong>ï¼Œä¸éœ€è¦å·¥ç¨‹å¸ˆå¼€å‘ï¼Œç”±æ¡†æ¶æä¾›</li></ul><p>ä½œç”¨ï¼šç»Ÿä¸€å¤„ç†è¯·æ±‚å’Œå“åº”ï¼Œæ•´ä¸ªæµç¨‹æ§åˆ¶çš„ä¸­å¿ƒï¼Œç”±å®ƒè°ƒç”¨å…¶å®ƒç»„ä»¶å¤„ç†ç”¨æˆ·çš„è¯·æ±‚</p><ul><li>HandlerMappingï¼š<strong>å¤„ç†å™¨æ˜ å°„å™¨</strong>ï¼Œä¸éœ€è¦å·¥ç¨‹å¸ˆå¼€å‘ï¼Œç”±æ¡†æ¶æä¾›</li></ul><p>ä½œç”¨ï¼šæ ¹æ®è¯·æ±‚çš„ urlã€method ç­‰ä¿¡æ¯æŸ¥æ‰¾ Handlerï¼Œå³æ§åˆ¶å™¨æ–¹æ³•</p><ul><li>Handlerï¼š<strong>å¤„ç†å™¨</strong>ï¼Œéœ€è¦å·¥ç¨‹å¸ˆå¼€å‘</li></ul><p>ä½œç”¨ï¼šåœ¨ DispatcherServlet çš„æ§åˆ¶ä¸‹ Handler å¯¹å…·ä½“çš„ç”¨æˆ·è¯·æ±‚è¿›è¡Œå¤„ç†</p><ul><li>HandlerAdapterï¼š<strong>å¤„ç†å™¨é€‚é…å™¨</strong>ï¼Œä¸éœ€è¦å·¥ç¨‹å¸ˆå¼€å‘ï¼Œç”±æ¡†æ¶æä¾›</li></ul><p>ä½œç”¨ï¼šé€šè¿‡ HandlerAdapter å¯¹å¤„ç†å™¨ï¼ˆæ§åˆ¶å™¨æ–¹æ³•ï¼‰è¿›è¡Œæ‰§è¡Œ</p><ul><li>ViewResolverï¼š<strong>è§†å›¾è§£æå™¨</strong>ï¼Œä¸éœ€è¦å·¥ç¨‹å¸ˆå¼€å‘ï¼Œç”±æ¡†æ¶æä¾›</li></ul><p>ä½œç”¨ï¼šè¿›è¡Œè§†å›¾è§£æï¼Œå¾—åˆ°ç›¸åº”çš„è§†å›¾ï¼Œä¾‹å¦‚ï¼šThymeleafViewã€InternalResourceViewã€RedirectView</p><ul><li>Viewï¼š<strong>è§†å›¾</strong></li></ul><p>ä½œç”¨ï¼šå°†æ¨¡å‹æ•°æ®é€šè¿‡é¡µé¢å±•ç¤ºç»™ç”¨æˆ·</p><h3 id="dispatcherservlet-åˆå§‹åŒ–è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#dispatcherservlet-åˆå§‹åŒ–è¿‡ç¨‹"></a> DispatcherServlet åˆå§‹åŒ–è¿‡ç¨‹</h3><p>DispatcherServlet æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Servletï¼Œæ‰€ä»¥å¤©ç„¶çš„éµå¾ª Servlet çš„ç”Ÿå‘½å‘¨æœŸã€‚æ‰€ä»¥å®è§‚ä¸Šæ˜¯ Servlet ç”Ÿå‘½å‘¨æœŸæ¥è¿›è¡Œè°ƒåº¦ã€‚</p><p><img src="https://unpkg.com/serms-assets@1.0.6/Spring/img005.png" alt="" /></p><h5 id="aåˆå§‹åŒ–-webapplicationcontext"><a class="markdownIt-Anchor" href="#aåˆå§‹åŒ–-webapplicationcontext"></a> a&gt;åˆå§‹åŒ– WebApplicationContext</h5><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.FrameworkServlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> WebApplicationContext <span class="title function_">initWebApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">WebApplicationContext</span> <span class="variable">rootContext</span> <span class="operator">=</span></span><br><span class="line">        WebApplicationContextUtils.getWebApplicationContext(getServletContext());</span><br><span class="line">    <span class="type">WebApplicationContext</span> <span class="variable">wac</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.webApplicationContext != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// A context instance was injected at construction time -&gt; use it</span></span><br><span class="line">        wac = <span class="built_in">this</span>.webApplicationContext;</span><br><span class="line">        <span class="keyword">if</span> (wac <span class="keyword">instanceof</span> ConfigurableWebApplicationContext) &#123;</span><br><span class="line">            <span class="type">ConfigurableWebApplicationContext</span> <span class="variable">cwac</span> <span class="operator">=</span> (ConfigurableWebApplicationContext) wac;</span><br><span class="line">            <span class="keyword">if</span> (!cwac.isActive()) &#123;</span><br><span class="line">                <span class="comment">// The context has not yet been refreshed -&gt; provide services such as</span></span><br><span class="line">                <span class="comment">// setting the parent context, setting the application context id, etc</span></span><br><span class="line">                <span class="keyword">if</span> (cwac.getParent() == <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="comment">// The context instance was injected without an explicit parent -&gt; set</span></span><br><span class="line">                    <span class="comment">// the root application context (if any; may be null) as the parent</span></span><br><span class="line">                    cwac.setParent(rootContext);</span><br><span class="line">                &#125;</span><br><span class="line">                configureAndRefreshWebApplicationContext(cwac);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (wac == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// No context instance was injected at construction time -&gt; see if one</span></span><br><span class="line">        <span class="comment">// has been registered in the servlet context. If one exists, it is assumed</span></span><br><span class="line">        <span class="comment">// that the parent context (if any) has already been set and that the</span></span><br><span class="line">        <span class="comment">// user has performed any initialization such as setting the context id</span></span><br><span class="line">        wac = findWebApplicationContext();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (wac == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// No context instance is defined for this servlet -&gt; create a local one</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºWebApplicationContext</span></span><br><span class="line">        wac = createWebApplicationContext(rootContext);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.refreshEventReceived) &#123;</span><br><span class="line">        <span class="comment">// Either the context is not a ConfigurableApplicationContext with refresh</span></span><br><span class="line">        <span class="comment">// support or the context injected at construction time had already been</span></span><br><span class="line">        <span class="comment">// refreshed -&gt; trigger initial onRefresh manually here.</span></span><br><span class="line">        <span class="keyword">synchronized</span> (<span class="built_in">this</span>.onRefreshMonitor) &#123;</span><br><span class="line">            <span class="comment">// åˆ·æ–°WebApplicationContext</span></span><br><span class="line">            onRefresh(wac);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.publishContext) &#123;</span><br><span class="line">        <span class="comment">// Publish the context as a servlet context attribute.</span></span><br><span class="line">        <span class="comment">// å°†IOCå®¹å™¨åœ¨åº”ç”¨åŸŸå…±äº«</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">attrName</span> <span class="operator">=</span> getServletContextAttributeName();</span><br><span class="line">        getServletContext().setAttribute(attrName, wac);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wac;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="båˆ›å»º-webapplicationcontext"><a class="markdownIt-Anchor" href="#båˆ›å»º-webapplicationcontext"></a> b&gt;åˆ›å»º WebApplicationContext</h5><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.FrameworkServlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> WebApplicationContext <span class="title function_">createWebApplicationContext</span><span class="params">(<span class="meta">@Nullable</span> ApplicationContext parent)</span> &#123;</span><br><span class="line">    Class&lt;?&gt; contextClass = getContextClass();</span><br><span class="line">    <span class="keyword">if</span> (!ConfigurableWebApplicationContext.class.isAssignableFrom(contextClass)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ApplicationContextException</span>(</span><br><span class="line">            <span class="string">&quot;Fatal initialization error in servlet with name &#x27;&quot;</span> + getServletName() +</span><br><span class="line">            <span class="string">&quot;&#x27;: custom WebApplicationContext class [&quot;</span> + contextClass.getName() +</span><br><span class="line">            <span class="string">&quot;] is not of type ConfigurableWebApplicationContext&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€šè¿‡åå°„åˆ›å»º IOC å®¹å™¨å¯¹è±¡</span></span><br><span class="line">    <span class="type">ConfigurableWebApplicationContext</span> <span class="variable">wac</span> <span class="operator">=</span></span><br><span class="line">        (ConfigurableWebApplicationContext) BeanUtils.instantiateClass(contextClass);</span><br><span class="line"></span><br><span class="line">    wac.setEnvironment(getEnvironment());</span><br><span class="line">    <span class="comment">// è®¾ç½®çˆ¶å®¹å™¨</span></span><br><span class="line">    wac.setParent(parent);</span><br><span class="line">    <span class="type">String</span> <span class="variable">configLocation</span> <span class="operator">=</span> getContextConfigLocation();</span><br><span class="line">    <span class="keyword">if</span> (configLocation != <span class="literal">null</span>) &#123;</span><br><span class="line">        wac.setConfigLocation(configLocation);</span><br><span class="line">    &#125;</span><br><span class="line">    configureAndRefreshWebApplicationContext(wac);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wac;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="cdispatcherservlet-åˆå§‹åŒ–ç­–ç•¥"><a class="markdownIt-Anchor" href="#cdispatcherservlet-åˆå§‹åŒ–ç­–ç•¥"></a> c&gt;DispatcherServlet åˆå§‹åŒ–ç­–ç•¥</h5><p>FrameworkServlet åˆ›å»º WebApplicationContext åï¼Œåˆ·æ–°å®¹å™¨ï¼Œè°ƒç”¨ onRefresh(wac)ï¼Œæ­¤æ–¹æ³•åœ¨ DispatcherServlet ä¸­è¿›è¡Œäº†é‡å†™ï¼Œè°ƒç”¨äº† initStrategies(context)æ–¹æ³•ï¼Œåˆå§‹åŒ–ç­–ç•¥ï¼Œå³åˆå§‹åŒ– DispatcherServlet çš„å„ä¸ªç»„ä»¶</p><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.DispatcherServlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">initStrategies</span><span class="params">(ApplicationContext context)</span> &#123;</span><br><span class="line">   initMultipartResolver(context);</span><br><span class="line">   initLocaleResolver(context);</span><br><span class="line">   initThemeResolver(context);</span><br><span class="line">   initHandlerMappings(context);</span><br><span class="line">   initHandlerAdapters(context);</span><br><span class="line">   initHandlerExceptionResolvers(context);</span><br><span class="line">   initRequestToViewNameTranslator(context);</span><br><span class="line">   initViewResolvers(context);</span><br><span class="line">   initFlashMapManager(context);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="dispatcherservlet-è°ƒç”¨ç»„ä»¶å¤„ç†è¯·æ±‚"><a class="markdownIt-Anchor" href="#dispatcherservlet-è°ƒç”¨ç»„ä»¶å¤„ç†è¯·æ±‚"></a> DispatcherServlet è°ƒç”¨ç»„ä»¶å¤„ç†è¯·æ±‚</h3><h5 id="aprocessrequest"><a class="markdownIt-Anchor" href="#aprocessrequest"></a> a&gt;processRequest()</h5><p>FrameworkServlet é‡å†™ HttpServlet ä¸­çš„ service()å’Œ doXxx()ï¼Œè¿™äº›æ–¹æ³•ä¸­è°ƒç”¨äº† processRequest(request, response)</p><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.FrameworkServlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">processRequest</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span><br><span class="line">    <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">    <span class="type">Throwable</span> <span class="variable">failureCause</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">LocaleContext</span> <span class="variable">previousLocaleContext</span> <span class="operator">=</span> LocaleContextHolder.getLocaleContext();</span><br><span class="line">    <span class="type">LocaleContext</span> <span class="variable">localeContext</span> <span class="operator">=</span> buildLocaleContext(request);</span><br><span class="line"></span><br><span class="line">    <span class="type">RequestAttributes</span> <span class="variable">previousAttributes</span> <span class="operator">=</span> RequestContextHolder.getRequestAttributes();</span><br><span class="line">    <span class="type">ServletRequestAttributes</span> <span class="variable">requestAttributes</span> <span class="operator">=</span> buildRequestAttributes(request, response, previousAttributes);</span><br><span class="line"></span><br><span class="line">    <span class="type">WebAsyncManager</span> <span class="variable">asyncManager</span> <span class="operator">=</span> WebAsyncUtils.getAsyncManager(request);</span><br><span class="line">    asyncManager.registerCallableInterceptor(FrameworkServlet.class.getName(), <span class="keyword">new</span> <span class="title class_">RequestBindingInterceptor</span>());</span><br><span class="line"></span><br><span class="line">    initContextHolders(request, localeContext, requestAttributes);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// æ‰§è¡ŒæœåŠ¡ï¼ŒdoService()æ˜¯ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œåœ¨DispatcherServletä¸­è¿›è¡Œäº†é‡å†™</span></span><br><span class="line">        doService(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (ServletException | IOException ex) &#123;</span><br><span class="line">        failureCause = ex;</span><br><span class="line">        <span class="keyword">throw</span> ex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">        failureCause = ex;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NestedServletException</span>(<span class="string">&quot;Request processing failed&quot;</span>, ex);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">finally</span> &#123;</span><br><span class="line">        resetContextHolders(request, previousLocaleContext, previousAttributes);</span><br><span class="line">        <span class="keyword">if</span> (requestAttributes != <span class="literal">null</span>) &#123;</span><br><span class="line">            requestAttributes.requestCompleted();</span><br><span class="line">        &#125;</span><br><span class="line">        logResult(request, response, failureCause, asyncManager);</span><br><span class="line">        publishRequestHandledEvent(request, response, startTime, failureCause);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="bdoservice"><a class="markdownIt-Anchor" href="#bdoservice"></a> b&gt;doService()</h5><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.DispatcherServlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doService</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    logRequest(request);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Keep a snapshot of the request attributes in case of an include,</span></span><br><span class="line">    <span class="comment">// to be able to restore the original attributes after the include.</span></span><br><span class="line">    Map&lt;String, Object&gt; attributesSnapshot = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (WebUtils.isIncludeRequest(request)) &#123;</span><br><span class="line">        attributesSnapshot = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        Enumeration&lt;?&gt; attrNames = request.getAttributeNames();</span><br><span class="line">        <span class="keyword">while</span> (attrNames.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">attrName</span> <span class="operator">=</span> (String) attrNames.nextElement();</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.cleanupAfterInclude || attrName.startsWith(DEFAULT_STRATEGIES_PREFIX)) &#123;</span><br><span class="line">                attributesSnapshot.put(attrName, request.getAttribute(attrName));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Make framework objects available to handlers and view objects.</span></span><br><span class="line">    request.setAttribute(WEB_APPLICATION_CONTEXT_ATTRIBUTE, getWebApplicationContext());</span><br><span class="line">    request.setAttribute(LOCALE_RESOLVER_ATTRIBUTE, <span class="built_in">this</span>.localeResolver);</span><br><span class="line">    request.setAttribute(THEME_RESOLVER_ATTRIBUTE, <span class="built_in">this</span>.themeResolver);</span><br><span class="line">    request.setAttribute(THEME_SOURCE_ATTRIBUTE, getThemeSource());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.flashMapManager != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">FlashMap</span> <span class="variable">inputFlashMap</span> <span class="operator">=</span> <span class="built_in">this</span>.flashMapManager.retrieveAndUpdate(request, response);</span><br><span class="line">        <span class="keyword">if</span> (inputFlashMap != <span class="literal">null</span>) &#123;</span><br><span class="line">            request.setAttribute(INPUT_FLASH_MAP_ATTRIBUTE, Collections.unmodifiableMap(inputFlashMap));</span><br><span class="line">        &#125;</span><br><span class="line">        request.setAttribute(OUTPUT_FLASH_MAP_ATTRIBUTE, <span class="keyword">new</span> <span class="title class_">FlashMap</span>());</span><br><span class="line">        request.setAttribute(FLASH_MAP_MANAGER_ATTRIBUTE, <span class="built_in">this</span>.flashMapManager);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">RequestPath</span> <span class="variable">requestPath</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.parseRequestPath &amp;&amp; !ServletRequestPathUtils.hasParsedRequestPath(request)) &#123;</span><br><span class="line">        requestPath = ServletRequestPathUtils.parseAndCache(request);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†è¯·æ±‚å’Œå“åº”</span></span><br><span class="line">        doDispatch(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) &#123;</span><br><span class="line">            <span class="comment">// Restore the original attribute snapshot, in case of an include.</span></span><br><span class="line">            <span class="keyword">if</span> (attributesSnapshot != <span class="literal">null</span>) &#123;</span><br><span class="line">                restoreAttributesAfterInclude(request, attributesSnapshot);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (requestPath != <span class="literal">null</span>) &#123;</span><br><span class="line">            ServletRequestPathUtils.clearParsedRequestPath(request);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="cdodispatch"><a class="markdownIt-Anchor" href="#cdodispatch"></a> c&gt;doDispatch()</h5><p>æ‰€åœ¨ç±»ï¼šorg.springframework.web.servlet.DispatcherServlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doDispatch</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="type">HttpServletRequest</span> <span class="variable">processedRequest</span> <span class="operator">=</span> request;</span><br><span class="line">    <span class="type">HandlerExecutionChain</span> <span class="variable">mappedHandler</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">multipartRequestParsed</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">WebAsyncManager</span> <span class="variable">asyncManager</span> <span class="operator">=</span> WebAsyncUtils.getAsyncManager(request);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Exception</span> <span class="variable">dispatchException</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            processedRequest = checkMultipart(request);</span><br><span class="line">            multipartRequestParsed = (processedRequest != request);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Determine handler for the current request.</span></span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            mappedHandlerï¼šè°ƒç”¨é“¾</span></span><br><span class="line"><span class="comment">                åŒ…å«handlerã€interceptorListã€interceptorIndex</span></span><br><span class="line"><span class="comment">            handlerï¼šæµè§ˆå™¨å‘é€çš„è¯·æ±‚æ‰€åŒ¹é…çš„æ§åˆ¶å™¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">            interceptorListï¼šå¤„ç†æ§åˆ¶å™¨æ–¹æ³•çš„æ‰€æœ‰æ‹¦æˆªå™¨é›†åˆ</span></span><br><span class="line"><span class="comment">            interceptorIndexï¼šæ‹¦æˆªå™¨ç´¢å¼•ï¼Œæ§åˆ¶æ‹¦æˆªå™¨afterCompletion()çš„æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            mappedHandler = getHandler(processedRequest);</span><br><span class="line">            <span class="keyword">if</span> (mappedHandler == <span class="literal">null</span>) &#123;</span><br><span class="line">                noHandlerFound(processedRequest, response);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Determine handler adapter for the current request.</span></span><br><span class="line">           <span class="comment">// é€šè¿‡æ§åˆ¶å™¨æ–¹æ³•åˆ›å»ºç›¸åº”çš„å¤„ç†å™¨é€‚é…å™¨ï¼Œè°ƒç”¨æ‰€å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•</span></span><br><span class="line">            <span class="type">HandlerAdapter</span> <span class="variable">ha</span> <span class="operator">=</span> getHandlerAdapter(mappedHandler.getHandler());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Process last-modified header, if supported by the handler.</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> request.getMethod();</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isGet</span> <span class="operator">=</span> <span class="string">&quot;GET&quot;</span>.equals(method);</span><br><span class="line">            <span class="keyword">if</span> (isGet || <span class="string">&quot;HEAD&quot;</span>.equals(method)) &#123;</span><br><span class="line">                <span class="type">long</span> <span class="variable">lastModified</span> <span class="operator">=</span> ha.getLastModified(request, mappedHandler.getHandler());</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">new</span> <span class="title class_">ServletWebRequest</span>(request, response).checkNotModified(lastModified) &amp;&amp; isGet) &#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è°ƒç”¨æ‹¦æˆªå™¨çš„preHandle()</span></span><br><span class="line">            <span class="keyword">if</span> (!mappedHandler.applyPreHandle(processedRequest, response)) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Actually invoke the handler.</span></span><br><span class="line">            <span class="comment">// ç”±å¤„ç†å™¨é€‚é…å™¨è°ƒç”¨å…·ä½“çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œæœ€ç»ˆè·å¾—ModelAndViewå¯¹è±¡</span></span><br><span class="line">            mv = ha.handle(processedRequest, response, mappedHandler.getHandler());</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (asyncManager.isConcurrentHandlingStarted()) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            applyDefaultViewName(processedRequest, mv);</span><br><span class="line">            <span class="comment">// è°ƒç”¨æ‹¦æˆªå™¨çš„postHandle()</span></span><br><span class="line">            mappedHandler.applyPostHandle(processedRequest, response, mv);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            dispatchException = ex;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Throwable err) &#123;</span><br><span class="line">            <span class="comment">// As of 4.3, we&#x27;re processing Errors thrown from handler methods as well,</span></span><br><span class="line">            <span class="comment">// making them available for @ExceptionHandler methods and other scenarios.</span></span><br><span class="line">            dispatchException = <span class="keyword">new</span> <span class="title class_">NestedServletException</span>(<span class="string">&quot;Handler dispatch failed&quot;</span>, err);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åç»­å¤„ç†ï¼šå¤„ç†æ¨¡å‹æ•°æ®å’Œæ¸²æŸ“è§†å›¾</span></span><br><span class="line">        processDispatchResult(processedRequest, response, mappedHandler, mv, dispatchException);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">        triggerAfterCompletion(processedRequest, response, mappedHandler, ex);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Throwable err) &#123;</span><br><span class="line">        triggerAfterCompletion(processedRequest, response, mappedHandler,</span><br><span class="line">                               <span class="keyword">new</span> <span class="title class_">NestedServletException</span>(<span class="string">&quot;Handler processing failed&quot;</span>, err));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (asyncManager.isConcurrentHandlingStarted()) &#123;</span><br><span class="line">            <span class="comment">// Instead of postHandle and afterCompletion</span></span><br><span class="line">            <span class="keyword">if</span> (mappedHandler != <span class="literal">null</span>) &#123;</span><br><span class="line">                mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// Clean up any resources used by a multipart request.</span></span><br><span class="line">            <span class="keyword">if</span> (multipartRequestParsed) &#123;</span><br><span class="line">                cleanupMultipart(processedRequest);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="dprocessdispatchresult"><a class="markdownIt-Anchor" href="#dprocessdispatchresult"></a> d&gt;processDispatchResult()</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">processDispatchResult</span><span class="params">(HttpServletRequest request, HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                   <span class="meta">@Nullable</span> HandlerExecutionChain mappedHandler, <span class="meta">@Nullable</span> ModelAndView mv,</span></span><br><span class="line"><span class="params">                                   <span class="meta">@Nullable</span> Exception exception)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">errorView</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (exception != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (exception <span class="keyword">instanceof</span> ModelAndViewDefiningException) &#123;</span><br><span class="line">            logger.debug(<span class="string">&quot;ModelAndViewDefiningException encountered&quot;</span>, exception);</span><br><span class="line">            mv = ((ModelAndViewDefiningException) exception).getModelAndView();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">handler</span> <span class="operator">=</span> (mappedHandler != <span class="literal">null</span> ? mappedHandler.getHandler() : <span class="literal">null</span>);</span><br><span class="line">            mv = processHandlerException(request, response, handler, exception);</span><br><span class="line">            errorView = (mv != <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Did the handler return a view to render?</span></span><br><span class="line">    <span class="keyword">if</span> (mv != <span class="literal">null</span> &amp;&amp; !mv.wasCleared()) &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†æ¨¡å‹æ•°æ®å’Œæ¸²æŸ“è§†å›¾</span></span><br><span class="line">        render(mv, request, response);</span><br><span class="line">        <span class="keyword">if</span> (errorView) &#123;</span><br><span class="line">            WebUtils.clearErrorRequestAttributes(request);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (logger.isTraceEnabled()) &#123;</span><br><span class="line">            logger.trace(<span class="string">&quot;No view rendering, null ModelAndView returned.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (WebAsyncUtils.getAsyncManager(request).isConcurrentHandlingStarted()) &#123;</span><br><span class="line">        <span class="comment">// Concurrent handling started during a forward</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (mappedHandler != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// Exception (if any) is already handled..</span></span><br><span class="line">        <span class="comment">// è°ƒç”¨æ‹¦æˆªå™¨çš„afterCompletion()</span></span><br><span class="line">        mappedHandler.triggerAfterCompletion(request, response, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="springmvc-çš„æ‰§è¡Œæµç¨‹"><a class="markdownIt-Anchor" href="#springmvc-çš„æ‰§è¡Œæµç¨‹"></a> SpringMVC çš„æ‰§è¡Œæµç¨‹</h3><ol><li><p>ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚è¢« SpringMVC å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet æ•è·ã€‚</p></li><li><p>DispatcherServlet å¯¹è¯·æ±‚ URL è¿›è¡Œè§£æï¼Œå¾—åˆ°è¯·æ±‚èµ„æºæ ‡è¯†ç¬¦ï¼ˆURIï¼‰ï¼Œåˆ¤æ–­è¯·æ±‚ URI å¯¹åº”çš„æ˜ å°„ï¼š</p></li></ol><p>a) ä¸å­˜åœ¨</p><p>i. å†åˆ¤æ–­æ˜¯å¦é…ç½®äº† mvc:default-servlet-handler</p><p>ii. å¦‚æœæ²¡é…ç½®ï¼Œåˆ™æ§åˆ¶å°æŠ¥æ˜ å°„æŸ¥æ‰¾ä¸åˆ°ï¼Œå®¢æˆ·ç«¯å±•ç¤º 404 é”™è¯¯</p><p><img src="https://unpkg.com/serms-assets@1.0.6/Spring/img006.png" alt="" /></p><p><img src="https://unpkg.com/serms-assets@1.0.6/Spring/img007.png" alt="" /></p><p>iii. å¦‚æœæœ‰é…ç½®ï¼Œåˆ™è®¿é—®ç›®æ ‡èµ„æºï¼ˆä¸€èˆ¬ä¸ºé™æ€èµ„æºï¼Œå¦‚ï¼šJS,CSS,HTMLï¼‰ï¼Œæ‰¾ä¸åˆ°å®¢æˆ·ç«¯ä¹Ÿä¼šå±•ç¤º 404 é”™è¯¯</p><p><img src="https://unpkg.com/serms-assets@1.0.6/Spring/img008.png" alt="" /></p><p><img src="https://unpkg.com/serms-assets@1.0.6/Spring/img009.png" alt="" /></p><p>b) å­˜åœ¨åˆ™æ‰§è¡Œä¸‹é¢çš„æµç¨‹</p><ol><li><p>æ ¹æ®è¯¥ URIï¼Œè°ƒç”¨ HandlerMapping è·å¾—è¯¥ Handler é…ç½®çš„æ‰€æœ‰ç›¸å…³çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ Handler å¯¹è±¡ä»¥åŠ Handler å¯¹è±¡å¯¹åº”çš„æ‹¦æˆªå™¨ï¼‰ï¼Œæœ€åä»¥ HandlerExecutionChain æ‰§è¡Œé“¾å¯¹è±¡çš„å½¢å¼è¿”å›ã€‚</p></li><li><p>DispatcherServlet æ ¹æ®è·å¾—çš„ Handlerï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ HandlerAdapterã€‚</p></li><li><p>å¦‚æœæˆåŠŸè·å¾— HandlerAdapterï¼Œæ­¤æ—¶å°†å¼€å§‹æ‰§è¡Œæ‹¦æˆªå™¨çš„ preHandler(â€¦)æ–¹æ³•ã€æ­£å‘ã€‘</p></li><li><p>æå– Request ä¸­çš„æ¨¡å‹æ•°æ®ï¼Œå¡«å…… Handler å…¥å‚ï¼Œå¼€å§‹æ‰§è¡Œ Handlerï¼ˆController)æ–¹æ³•ï¼Œå¤„ç†è¯·æ±‚ã€‚åœ¨å¡«å…… Handler çš„å…¥å‚è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®ä½ çš„é…ç½®ï¼ŒSpring å°†å¸®ä½ åšä¸€äº›é¢å¤–çš„å·¥ä½œï¼š</p></li></ol><p>a) HttpMessageConveterï¼š å°†è¯·æ±‚æ¶ˆæ¯ï¼ˆå¦‚ Jsonã€xml ç­‰æ•°æ®ï¼‰è½¬æ¢æˆä¸€ä¸ªå¯¹è±¡ï¼Œå°†å¯¹è±¡è½¬æ¢ä¸ºæŒ‡å®šçš„å“åº”ä¿¡æ¯</p><p>b) æ•°æ®è½¬æ¢ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®è½¬æ¢ã€‚å¦‚ String è½¬æ¢æˆ Integerã€Double ç­‰</p><p>c) æ•°æ®æ ¼å¼åŒ–ï¼šå¯¹è¯·æ±‚æ¶ˆæ¯è¿›è¡Œæ•°æ®æ ¼å¼åŒ–ã€‚ å¦‚å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ ¼å¼åŒ–æ•°å­—æˆ–æ ¼å¼åŒ–æ—¥æœŸç­‰</p><p>d) æ•°æ®éªŒè¯ï¼š éªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ï¼ˆé•¿åº¦ã€æ ¼å¼ç­‰ï¼‰ï¼ŒéªŒè¯ç»“æœå­˜å‚¨åˆ° BindingResult æˆ– Error ä¸­</p><ol start="7"><li><p>Handler æ‰§è¡Œå®Œæˆåï¼Œå‘ DispatcherServlet è¿”å›ä¸€ä¸ª ModelAndView å¯¹è±¡ã€‚</p></li><li><p>æ­¤æ—¶å°†å¼€å§‹æ‰§è¡Œæ‹¦æˆªå™¨çš„ postHandle(â€¦)æ–¹æ³•ã€é€†å‘ã€‘ã€‚</p></li><li><p>æ ¹æ®è¿”å›çš„ ModelAndViewï¼ˆæ­¤æ—¶ä¼šåˆ¤æ–­æ˜¯å¦å­˜åœ¨å¼‚å¸¸ï¼šå¦‚æœå­˜åœ¨å¼‚å¸¸ï¼Œåˆ™æ‰§è¡Œ HandlerExceptionResolver è¿›è¡Œå¼‚å¸¸å¤„ç†ï¼‰é€‰æ‹©ä¸€ä¸ªé€‚åˆçš„ ViewResolver è¿›è¡Œè§†å›¾è§£æï¼Œæ ¹æ® Model å’Œ Viewï¼Œæ¥æ¸²æŸ“è§†å›¾ã€‚</p></li><li><p>æ¸²æŸ“è§†å›¾å®Œæ¯•æ‰§è¡Œæ‹¦æˆªå™¨çš„ afterCompletion(â€¦)æ–¹æ³•ã€é€†å‘ã€‘ã€‚</p></li><li><p>å°†æ¸²æŸ“ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;details class=&quot;folding-tag&quot; cyan&gt;&lt;summary&gt; æ›´æ–°è®°å½• &lt;/summary&gt;
              &lt;div class=&#39;content&#39;&gt;
              &lt;div class=&quot;note blue icon mod</summary>
      
    
    
    
    <category term="Spring" scheme="https://serms.top/categories/Spring/"/>
    
    <category term="ç¼–ç¨‹ç¬”è®°" scheme="https://serms.top/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Java" scheme="https://serms.top/categories/Java/"/>
    
    <category term="SpringMVCç¬”è®°" scheme="https://serms.top/categories/Spring/SpringMVC%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Spring" scheme="https://serms.top/tags/Spring/"/>
    
    <category term="ç¼–ç¨‹ç¬”è®°" scheme="https://serms.top/tags/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/"/>
    
    <category term="MVC" scheme="https://serms.top/tags/MVC/"/>
    
  </entry>
  
</feed>
